a:4:{s:5:"child";a:1:{s:0:"";a:1:{s:3:"rss";a:1:{i:0;a:6:{s:4:"data";s:3:"


";s:7:"attribs";a:1:{s:0:"";a:1:{s:7:"version";s:3:"2.0";}}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";s:5:"child";a:1:{s:0:"";a:1:{s:7:"channel";a:1:{i:0;a:6:{s:4:"data";s:217:"
  
  
  
  
  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";s:5:"child";a:1:{s:0:"";a:6:{s:5:"title";a:1:{i:0;a:5:{s:4:"data";s:12:"Planet MySQL";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:4:"link";a:1:{i:0;a:5:{s:4:"data";s:27:"http://www.planetmysql.org/";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:7:"pubDate";a:1:{i:0;a:5:{s:4:"data";s:31:"Sun, 02 Oct 2011 05:30:01 +0000";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:8:"language";a:1:{i:0;a:5:{s:4:"data";s:2:"en";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:11:"description";a:1:{i:0;a:5:{s:4:"data";s:42:"Planet MySQL - http://www.planetmysql.org/";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:4:"item";a:50:{i:0;a:6:{s:4:"data";s:48:"
    
    
    
    
    
    
    
    
    
  ";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";s:5:"child";a:3:{s:0:"";a:6:{s:5:"title";a:1:{i:0;a:5:{s:4:"data";s:25:"kiosk for MySQL Community";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:4:"guid";a:1:{i:0;a:5:{s:4:"data";s:73:"https://opensourcedba.wordpress.com/2011/10/01/kiosk-for-mysql-community/";s:7:"attribs";a:1:{s:0:"";a:1:{s:11:"isPermaLink";s:5:"false";}}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:4:"link";a:1:{i:0;a:5:{s:4:"data";s:72:"http://opensourcedba.wordpress.com/2011/10/01/kiosk-for-mysql-community/";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:11:"description";a:1:{i:0;a:5:{s:4:"data";s:143:"Oracle Open World is around the corner and the MySQL Community kiosk is ready to go. We are on par with IOUG, ODTUG and other groups.
         ";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:7:"pubDate";a:1:{i:0;a:5:{s:4:"data";s:31:"Sat, 01 Oct 2011 21:59:10 +0000";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:8:"category";a:2:{i:0;a:5:{s:4:"data";s:13:"Uncategorized";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}i:1;a:5:{s:4:"data";s:17:"oracle open world";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}s:40:"http://purl.org/rss/1.0/modules/content/";a:1:{s:7:"encoded";a:1:{i:0;a:5:{s:4:"data";s:2228:"<p><a href="http://opensourcedba.files.wordpress.com/2011/10/20111001-145608.jpg"><img src="http://opensourcedba.files.wordpress.com/2011/10/20111001-145608.jpg?w=630" alt="20111001-145608.jpg" class="alignnone size-full" /></a>Oracle Open World is around the corner and the MySQL Community kiosk is ready to go. We are on par with IOUG, ODTUG and other groups.</p>
<br />  <a rel="nofollow" href="http://feeds.wordpress.com/1.0/gocomments/opensourcedba.wordpress.com/324/"><img alt="" border="0" src="http://feeds.wordpress.com/1.0/comments/opensourcedba.wordpress.com/324/" /></a> <a rel="nofollow" href="http://feeds.wordpress.com/1.0/godelicious/opensourcedba.wordpress.com/324/"><img alt="" border="0" src="http://feeds.wordpress.com/1.0/delicious/opensourcedba.wordpress.com/324/" /></a> <a rel="nofollow" href="http://feeds.wordpress.com/1.0/gofacebook/opensourcedba.wordpress.com/324/"><img alt="" border="0" src="http://feeds.wordpress.com/1.0/facebook/opensourcedba.wordpress.com/324/" /></a> <a rel="nofollow" href="http://feeds.wordpress.com/1.0/gotwitter/opensourcedba.wordpress.com/324/"><img alt="" border="0" src="http://feeds.wordpress.com/1.0/twitter/opensourcedba.wordpress.com/324/" /></a> <a rel="nofollow" href="http://feeds.wordpress.com/1.0/gostumble/opensourcedba.wordpress.com/324/"><img alt="" border="0" src="http://feeds.wordpress.com/1.0/stumble/opensourcedba.wordpress.com/324/" /></a> <a rel="nofollow" href="http://feeds.wordpress.com/1.0/godigg/opensourcedba.wordpress.com/324/"><img alt="" border="0" src="http://feeds.wordpress.com/1.0/digg/opensourcedba.wordpress.com/324/" /></a> <a rel="nofollow" href="http://feeds.wordpress.com/1.0/goreddit/opensourcedba.wordpress.com/324/"><img alt="" border="0" src="http://feeds.wordpress.com/1.0/reddit/opensourcedba.wordpress.com/324/" /></a> <img alt="" border="0" src="http://stats.wordpress.com/b.gif?host=opensourcedba.wordpress.com&amp;blog=15386988&amp;post=324&amp;subd=opensourcedba&amp;ref=&amp;feed=1" width="1" height="1" /><br/>PlanetMySQL Voting:
	 <a href="http://planet.mysql.com/entry/vote/?entry_id=30150&vote=1&apivote=1">Vote UP</a> /
	 <a href="http://planet.mysql.com/entry/vote/?entry_id=30150&vote=-1&apivote=1">Vote DOWN</a>";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}s:32:"http://purl.org/dc/elements/1.1/";a:1:{s:7:"creator";a:1:{i:0;a:5:{s:4:"data";s:11:"Dave Stokes";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}}}i:1;a:6:{s:4:"data";s:38:"
    
    
    
    
    
    
    
  ";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";s:5:"child";a:3:{s:0:"";a:5:{s:5:"title";a:1:{i:0;a:5:{s:4:"data";s:22:"What about MySQL-Proxy";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:4:"guid";a:1:{i:0;a:5:{s:4:"data";s:82:"http://www.tusacentral.net/joomla/index.php/mysql-blogs/114-what-about-mysql-proxy";s:7:"attribs";a:1:{s:0:"";a:1:{s:11:"isPermaLink";s:5:"false";}}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:4:"link";a:1:{i:0;a:5:{s:4:"data";s:82:"http://www.tusacentral.net/joomla/index.php/mysql-blogs/114-what-about-mysql-proxy";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:11:"description";a:1:{i:0;a:5:{s:4:"data";s:4235:"This post is not technical!
 
Who knows me, knows that I am not a nasty person.
I try to be polite and politically correct, and that has being a problem for me several times, because it pays only in long term.
 
But to day I need to talk about MySQL-Proxy so I can say something not pleasant for someone.

I have found myself in trouble several time because MySQL-Proxy for stability reasons and performance issues, but a part from that it normally works as expected.Is really up to you and how you uses normally if you will get in trouble or not.
But ... hey MySQL-Proxy is an ALPHA product, oh my!!
 
It is an ALPHA not even BETA or RC, more reading the documentation TODAY:"This documentation covers MySQL Proxy 0.8.0.Warning
MySQL Proxy is currently an Alpha release and should not be used within production environments."
 
Honestly I have being mention MySQL -Proxy several times to customer but I always say to them, IT IS ALPHA, if you want I will install it,I will configure and write for you special LUA scripts, BUT you must sign a paper that state you take the responsibility of installing an ALPHA product in production.
Normally the 90% of customers stops to go ahead, and try to find a different solution.
 
Too bad because MySQL-Proxy if correctly maintained could be an incredible tool, and ouch!! I discover this bug http://bugs.mysql.com/bug.php?id=61474.
Well you know is an ALPHA product so, I say to myself too bad, we should not expect a fast resolution.We wait for a while then nothing really "serious" happened there, no fix, nothing, so we decide to drop it from the architecture.The customer was not happy and neither I.
 
But I take note of it, and given I KNOW that MySQL Enterprise monitor use MySQL-Proxy I decide to dedicate some time to check, if this is still the case or not.
 
Today, I had a discussion with my 9 years Son, and to relax a little I put myself in front of some fun ... working with MySQL, yes I still enjoy it.
So I take out the Enterprise installation I did install it and then test it.
As expected MySQL-Proxy is still there, and documentations states:"Using the MySQL Proxy functionality built into MySQL Enterprise Agent. This is the method offered and supported since MySQL Enterprise Monitor 2.0."
All good then, we have the possibility to add our own monitor or to use the default one provided by Oracle.
Hey wait a minute, is this a GA product? No it is an Enterprise Product!
So why the MySQL Enterprise Monitor is using as default solution for an important functionality as the Slow Query Review an ALPHA product?
This sounds really odd to me.
Given I think no one will be happy to pay money for an ALPHA product, that has also issue with the latest MySQL versions, and given I think that lawyers in Oracle knows quite well their works.I come to the conclusion that the MySQL-Proxy included in the Enterprise version is different from the one available.
Or at least I hope that for all the ones that are paying solid money for MySQL Enterprise Manager.
 
In any case, it is very sad that good and valuable work done in the past years by Jan Kneschke, and others like GiusePPe Maxia, is left behind damaging the community.
MySQL-Proxy is still the only solution for many stupid issues left behind in the MySQL programming, like user audit.
 
I recently had to implement a detailed audit of the actions done by Administrator on a MySQL instance.The only very good and manageable solution was at the end the use of MySQL-Proxy, I will describe the work done in another post.
 
What I want to stress and reiterate here is:

 IF MySQL-Proxy is so good to be in the MySQL Enterprise Monitor, that we assume it should be the top of stability, why then is still declared ALPHA??
 IF MySQL-Proxy in Enterprise is a different product, then WHY it is not state in a clear way somewhere? 
 Finally WHY MySQL-Proxy is not correctly fixed and align with the latest MySQL products?

Simple questions that comes to my mind, I am not expecting an answer but may be some paying customers, will have the same doubts I have, and it could be that given they pay they will get a real answer back from Oracle.
In that case please let us know.

Great MySQL to ALL!!!
 
{joscommentenable}";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:7:"pubDate";a:1:{i:0;a:5:{s:4:"data";s:31:"Sat, 01 Oct 2011 20:09:07 +0000";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}s:40:"http://purl.org/rss/1.0/modules/content/";a:1:{s:7:"encoded";a:1:{i:0;a:5:{s:4:"data";s:5461:"<h2>This post is not technical!</h2>
<p> </p>
<p>Who knows me, knows that I am not a nasty person.</p>
<p>I try to be polite and politically correct, and that has being a problem for me several times, because it pays only in long term.</p>
<p> </p>
<p>But to day I need to talk about MySQL-Proxy so I can say something not pleasant for someone.</p>
<p><img alt="sakila_proxy_256x298" src="http://www.tusacentral.net/joomla/images/stories/shakila_cartoons/sakila_proxy_256x298.jpg" height="125" width="108" /></p>
<p>I have found myself in trouble several time because MySQL-Proxy for stability reasons and performance issues, but a part from that it normally works as expected.<br />Is really up to you and how you uses normally if you will get in trouble or not.</p>
<p>But ... hey MySQL-Proxy is an <strong>ALPHA</strong> product, oh my!!</p>
<p> </p>
<p>It is an ALPHA not even BETA or RC, more reading the documentation TODAY:<br /><em><strong>"This documentation covers MySQL Proxy 0.8.0.</strong></em><br /><em><strong>Warning</strong></em></p>
<p><em><strong>MySQL Proxy is currently an Alpha release and should not be used within production environments."</strong></em></p>
<p> </p>
<p>Honestly I have being mention MySQL -Proxy several times to customer but I always say to them, <strong>IT IS ALPHA</strong>, if you want I will install it,<br />I will configure and write for you special LUA scripts, BUT you must sign a paper that state you take the responsibility of installing an <strong>ALPHA</strong> product in production.</p>
<p>Normally the 90% of customers stops to go ahead, and try to find a different solution.</p>
<p> </p>
<p>Too bad because MySQL-Proxy if correctly maintained could be an incredible tool, and ouch!! I discover this bug <a href="http://bugs.mysql.com/bug.php?id=61474.">http://bugs.mysql.com/bug.php?id=61474.</a></p>
<p>Well you know is an ALPHA product so, I say to myself too bad, we should not expect a fast resolution.<br />We wait for a while then nothing really "serious" happened there, no fix, nothing, so we decide to drop it from the architecture.<br />The customer was not happy and neither I.</p>
<p> </p>
<p>But I take note of it, and given I KNOW that MySQL Enterprise monitor use MySQL-Proxy I decide to dedicate some time to check, if this is still the case or not.</p>
<p> </p>
<p>Today, I had a discussion with my 9 years Son, and to relax a little I put myself in front of some fun ... working with MySQL, yes I still enjoy it.</p>
<p>So I take out the Enterprise installation I did install it and then test it.</p>
<p>As expected MySQL-Proxy is still there, and documentations states:<br /><em><strong>"Using the MySQL Proxy functionality built into MySQL Enterprise Agent. This is the method offered and supported since MySQL Enterprise Monitor 2.0."</strong></em></p>
<p>All good then, we have the possibility to add our own monitor or to use the default one provided by Oracle.</p>
<p>Hey wait a minute, is this a <strong>GA</strong> product? <br />No it is an <strong>Enterprise</strong> Product!</p>
<p>So why the MySQL Enterprise Monitor is using as default solution for an important functionality as the Slow Query Review an <strong>ALPHA</strong> product?</p>
<p>This sounds really odd to me.</p>
<p><br />Given I think no one will be happy to pay money for an ALPHA product, that has also issue with the latest MySQL versions, and given I think that lawyers in Oracle knows quite well their works.<br />I come to the conclusion that the MySQL-Proxy included in the Enterprise version is different from the one available.</p>
<p>Or at least I hope that for all the ones that are paying solid money for MySQL Enterprise Manager.</p>
<p> </p>
<p>In any case, it is very sad that good and valuable work done in the past years by Jan Kneschke, and others like GiusePPe Maxia, is left behind damaging the community.</p>
<p>MySQL-Proxy is still the only solution for many stupid issues left behind in the MySQL programming, like user audit.</p>
<p> </p>
<p>I recently had to implement a detailed audit of the actions done by Administrator on a MySQL instance.<br />The only very good and manageable solution was at the end the use of MySQL-Proxy, I will describe the work done in another post.</p>
<p> </p>
<p>What I want to stress and reiterate here is:<img alt="question-mark" src="http://www.tusacentral.net/joomla/images/stories/shakila_cartoons/question-mark.gif" height="77" width="72" /></p>
<ul>
<li> IF MySQL-Proxy is so good to be in the MySQL Enterprise Monitor, that we assume it should be the top of stability, why then is still declared ALPHA??</li>
<li> IF MySQL-Proxy in Enterprise is a different product, then WHY it is not state in a clear way somewhere? </li>
<li> Finally WHY MySQL-Proxy is not correctly fixed and align with the latest MySQL products?</li>
</ul>
<p><br />Simple questions that comes to my mind, I am not expecting an answer but may be some paying customers, <br />will have the same doubts I have, and it could be that given they pay they will get a real answer back from Oracle.</p>
<p><strong>In that case please let us know.</strong></p>
<p><strong><br /></strong></p>
<p>Great MySQL to ALL!!!</p>
<p> </p>
<p>{joscommentenable}</p><br/>PlanetMySQL Voting:
	 <a href="http://planet.mysql.com/entry/vote/?entry_id=30149&vote=1&apivote=1">Vote UP</a> /
	 <a href="http://planet.mysql.com/entry/vote/?entry_id=30149&vote=-1&apivote=1">Vote DOWN</a>";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}s:32:"http://purl.org/dc/elements/1.1/";a:1:{s:7:"creator";a:1:{i:0;a:5:{s:4:"data";s:10:"Marco Tusa";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}}}i:2;a:6:{s:4:"data";s:58:"
    
    
    
    
    
    
    
    
    
    
    
  ";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";s:5:"child";a:3:{s:0:"";a:6:{s:5:"title";a:1:{i:0;a:5:{s:4:"data";s:20:"Open Source Hardware";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:4:"guid";a:1:{i:0;a:5:{s:4:"data";s:68:"tag:blogger.com,1999:blog-768233104244702633.post-183325842346489353";s:7:"attribs";a:1:{s:0:"";a:1:{s:11:"isPermaLink";s:5:"false";}}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:4:"link";a:1:{i:0;a:5:{s:4:"data";s:68:"http://scale-out-blog.blogspot.com/2011/10/open-source-hardware.html";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:11:"description";a:1:{i:0;a:5:{s:4:"data";s:4127:"Back in 2010 I stopped buying test servers from Dell and began building them from components using Intel i7 processors, X58-based mother boards, and modular power supplies from Ultra. &nbsp;It was a good way to learn about hardware. &nbsp;Besides, it was getting old to pay for Dell desktop systems with Windows, which I would then wipe off when installing Linux. &nbsp;Between the educational value of understanding the systems better, selecting the exact components I wanted, and being able to fix problems quickly, it has been one of the best investments I have ever made. &nbsp;And it didn't cost any more than equivalent Dell servers.For this reason, a couple of recent articles about computer hardware caught my attention. &nbsp;First, Dell is losing business as companies like Facebook build their own customized servers. &nbsp;Open source database performance experts like Peter Zaitsev have been talking about full-stack optimization including hardware for years. &nbsp;Google built their original servers using off-the-shelf parts. &nbsp;Vertical integration of applications and hardware has since gone mainstream. &nbsp;If you deploy the same application(s) on many machines, balancing characteristics like cost, performance, and power utilization is no longer a specialist activity but a necessity of business. &nbsp;It's not just cutting out the Microsoft tax but many other optimizations as well. Second, developments in hardware itself are making custom systems more attractive to a wide range of users. &nbsp;A recent blog post by Bunnie Huang describes how decreases in the slope of CPU clock speed increase over time mean you can get better cost/performance by building optimized, application-specific systems now than waiting for across-the-board improvements. &nbsp;Stable standards also drive down the difficulty of rolling your own. &nbsp;Components on mid-range servers are sufficiently standardized it is easier to build basic systems from components than to put together a bicycle from scratch. &nbsp;Try building your own wheels sometime if you don't believe this. Easily customizable hardware has important consequences. &nbsp;At a business level, Dell and other mainline hardware vendors will adapt to lower margins, but the market for generic, mid-range appliances has evaporated. &nbsp;Starting around 2005 there was a wave of companies trying to sell open source databases, memcached, and datamarts on custom hardware. &nbsp; Most seem to have moved away from hardware, like Schooner, &nbsp;or folded entirely (like Gear6&nbsp;and Kickfire). &nbsp;The long-term market for such appliances, to the extent it exists, is in the cloud. The other consequence is potentially far more significant. &nbsp;The traditional walls that encapsulated hardware and software design are breaking down. &nbsp;Big web properties or large ISPs like Rackspace run lean design teams that integrate hardware with open source software deployment. &nbsp;This not just a matter of software engineers learning about hardware or vice-versa. &nbsp;It is the tip of a much bigger iceberg. &nbsp;Facebook recently started the Open Compute Project, which is a community-based effort to design server infrastructure. &nbsp; In their own words:By releasing Open Compute Project technologies as open hardware, our goal is to develop servers and data centers following the model traditionally associated with open source software projects. That’s where you come in.Facebook and others are opening up data center design. &nbsp;Gamers have been building their own systems for years. &nbsp;Assuming Bunnie's logic is correct, open hardware will apply to wide range of devices from phones up to massive clusters. &nbsp;Community-based, customized system designs are no longer an oddity but part of a broad movement that will change the way all of us think about building and deploying applications on any kind of physical hardware. &nbsp;It will upset current companies but also create opportunities for new kinds of businesses. &nbsp;The "cloud" is not the only revolution in computing. &nbsp;Open source hardware has arrived. &nbsp;";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:7:"pubDate";a:1:{i:0;a:5:{s:4:"data";s:31:"Sat, 01 Oct 2011 19:06:24 +0000";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:8:"category";a:4:{i:0;a:5:{s:4:"data";s:5:"MySQL";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}i:1;a:5:{s:4:"data";s:10:"PostgreSQL";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}i:2;a:5:{s:4:"data";s:11:"IT Industry";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}i:3;a:5:{s:4:"data";s:15:"Cloud Computing";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}s:40:"http://purl.org/rss/1.0/modules/content/";a:1:{s:7:"encoded";a:1:{i:0;a:5:{s:4:"data";s:5107:"Back in 2010 I stopped buying test servers from Dell and began building them from components using Intel i7 processors, X58-based mother boards, and modular power supplies from Ultra. &nbsp;It was a good way to learn about hardware. &nbsp;Besides, it was getting old to pay for Dell desktop systems with Windows, which I would then wipe off when installing Linux. &nbsp;Between the educational value of understanding the systems better, selecting the exact components I wanted, and being able to fix problems quickly, it has been one of the best investments I have ever made. &nbsp;And it didn't cost any more than equivalent Dell servers.<br /><br />For this reason, a couple of recent articles about computer hardware caught my attention. &nbsp;First, <a href="http://www.bloomberg.com/news/2011-09-12/dell-loses-orders-as-facebook-do-it-yourself-servers-gain-tech.html">Dell is losing business as companies like Facebook build their own customized servers</a>. &nbsp;Open source database performance experts like <a href="http://www.mysqlperformanceblog.com/about/">Peter Zaitsev</a> have been talking about full-stack optimization including hardware for years. &nbsp;Google built their original servers using off-the-shelf parts. &nbsp;Vertical integration of applications and hardware has since gone mainstream. &nbsp;If you deploy the same application(s) on many machines, balancing characteristics like cost, performance, and power utilization is no longer a specialist activity but a necessity of business. &nbsp;It's not just cutting out the Microsoft tax but many other optimizations as well. <br /><br />Second, developments in hardware itself are making custom systems more attractive to a wide range of users. &nbsp;A <a href="http://www.bunniestudios.com/blog/?p=1863">recent blog post by Bunnie Huang</a> describes how decreases in the slope of CPU clock speed increase over time mean you can get better cost/performance by building optimized, application-specific systems now than waiting for across-the-board improvements. &nbsp;Stable standards also drive down the difficulty of rolling your own. &nbsp;Components on mid-range servers are sufficiently standardized it is easier to build basic systems from components than to put together a bicycle from scratch. &nbsp;Try building your own wheels sometime if you don't believe this. <br /><div><br />Easily customizable hardware has important consequences. &nbsp;At a business level, Dell and other mainline hardware vendors will adapt to lower margins, but the market for generic, mid-range appliances has evaporated. &nbsp;Starting around 2005 there was a wave of companies trying to sell open source databases, memcached, and datamarts on custom hardware. &nbsp; Most seem to have moved away from hardware, <a href="http://www.dbms2.com/2011/01/28/schooner-software-onl/">like Schooner</a>, &nbsp;or folded entirely (like <a href="http://gigaom.com/2010/04/26/gear6-rip/">Gear6</a>&nbsp;and <a href="http://www.infoworld.com/d/the-industry-standard/teradata-buys-analytics-vendor-kickfire-496">Kickfire</a>). &nbsp;The long-term market for such appliances, to the extent it exists, is in the cloud. <br /><br />The other consequence is potentially far more significant. &nbsp;The traditional walls that encapsulated hardware and software design are breaking down. &nbsp;Big web properties or large ISPs like Rackspace run lean design teams that integrate hardware with open source software deployment. &nbsp;This not just a matter of software engineers learning about hardware or vice-versa. &nbsp;It is the tip of a much bigger iceberg. &nbsp;Facebook recently started the <a href="http://opencompute.org/">Open Compute Project</a>, which is a community-based effort to design server infrastructure. &nbsp; In their own words:<br /><blockquote><i>By releasing Open Compute Project technologies as open hardware, our goal is to develop servers and data centers following the model traditionally associated with open source software projects. That’s where you come in.</i></blockquote>Facebook and others are opening up data center design. &nbsp;Gamers have been building their own systems for years. &nbsp;Assuming Bunnie's logic is correct, open hardware will apply to wide range of devices from phones up to massive clusters. &nbsp;Community-based, customized system designs are no longer an oddity but part of a broad movement that will change the way all of us think about building and deploying applications on any kind of physical hardware. &nbsp;It will upset current companies but also create opportunities for new kinds of businesses. &nbsp;The "cloud" is not the only revolution in computing. &nbsp;Open source hardware has arrived. &nbsp;</div><div><img width="1" height="1" src="https://blogger.googleusercontent.com/tracker/768233104244702633-183325842346489353?l=scale-out-blog.blogspot.com" alt="" /></div><br/>PlanetMySQL Voting:
	 <a href="http://planet.mysql.com/entry/vote/?entry_id=30148&vote=1&apivote=1">Vote UP</a> /
	 <a href="http://planet.mysql.com/entry/vote/?entry_id=30148&vote=-1&apivote=1">Vote DOWN</a>";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}s:32:"http://purl.org/dc/elements/1.1/";a:1:{s:7:"creator";a:1:{i:0;a:5:{s:4:"data";s:13:"Robert Hodges";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}}}i:3;a:6:{s:4:"data";s:58:"
    
    
    
    
    
    
    
    
    
    
    
  ";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";s:5:"child";a:3:{s:0:"";a:6:{s:5:"title";a:1:{i:0;a:5:{s:4:"data";s:38:"My Talk on Sunday at Oracle Open World";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:4:"guid";a:1:{i:0;a:5:{s:4:"data";s:30:"http://www.tokutek.com/?p=3320";s:7:"attribs";a:1:{s:0:"";a:1:{s:11:"isPermaLink";s:5:"false";}}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:4:"link";a:1:{i:0;a:5:{s:4:"data";s:70:"http://www.tokutek.com/2011/10/my-talk-on-sunday-at-oracle-open-world/";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:11:"description";a:1:{i:0;a:5:{s:4:"data";s:1010:"
&nbsp;
&nbsp;
Challenges of Big Databases with MySQL
Many database management tasks become difficult as you move from millions of rows and gigabytes of data to billions of rows and terabytes of data. Such tasks include ingesting data while maintaining indexes; changing schemas without downtime; and supporting connections, replication, and backup. For some scaling problems (connections and replication), MySQL is better than most of the competition. For others, such as indexing, schema changes, and backup, MySQL has typically been harder to use. Fortunately, the tasks MySQL does well are in its core, whereas the tasks that are more difficult can be solved with storage engine plug-ins.
This presentation discusses how MySQL&#8217;s storage engines have recently made dramatic progress in large database manageability. I&#8217;ll be speaking Sunday (10/2) 2:45 pm at Moscone West, 2018. Details can be found here. A complete list of MySQL talks can be found in a handy list that Sheeri put together here.";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:7:"pubDate";a:1:{i:0;a:5:{s:4:"data";s:31:"Sat, 01 Oct 2011 13:40:35 +0000";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:8:"category";a:4:{i:0;a:5:{s:4:"data";s:8:"TokuView";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}i:1;a:5:{s:4:"data";s:5:"mysql";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}i:2;a:5:{s:4:"data";s:6:"Oracle";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}i:3;a:5:{s:4:"data";s:17:"Oracle Open World";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}s:40:"http://purl.org/rss/1.0/modules/content/";a:1:{s:7:"encoded";a:1:{i:0;a:5:{s:4:"data";s:1754:"<p><a href="http://www.tokutek.com/wp-content/uploads/2011/09/OOW.png" rel="shadowbox[sbpost-3320];player=img;"><img class="size-full wp-image-3578 alignleft" title="OOW" src="http://www.tokutek.com/wp-content/uploads/2011/09/OOW.png" alt="" width="300" /></a></p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p><strong>Challenges of Big Databases with MySQL</strong></p>
<p>Many database management tasks become difficult as you move from millions of rows and gigabytes of data to billions of rows and terabytes of data. Such tasks include ingesting data while maintaining indexes; changing schemas without downtime; and supporting connections, replication, and backup. For some scaling problems (connections and replication), MySQL is better than most of the competition. For others, such as indexing, schema changes, and backup, MySQL has typically been harder to use. Fortunately, the tasks MySQL does well are in its core, whereas the tasks that are more difficult can be solved with storage engine plug-ins.</p>
<p>This presentation discusses how MySQL&#8217;s storage engines have recently made dramatic progress in large database manageability. I&#8217;ll be speaking<strong> Sunday (10/2) 2:45 pm at Moscone West, 2018</strong>. Details can be found <a href="https://oracleus.wingateweb.com/scheduler/modifySession.do?SESSION_ID=28682" target="_blank">here</a>. A complete list of MySQL talks can be found in a handy list that Sheeri put together <a href="http://technocation.org/files/doc/2011_OOW_MySQL_Content.html" target="_blank">here</a>.</p><br/>PlanetMySQL Voting:
	 <a href="http://planet.mysql.com/entry/vote/?entry_id=30147&vote=1&apivote=1">Vote UP</a> /
	 <a href="http://planet.mysql.com/entry/vote/?entry_id=30147&vote=-1&apivote=1">Vote DOWN</a>";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}s:32:"http://purl.org/dc/elements/1.1/";a:1:{s:7:"creator";a:1:{i:0;a:5:{s:4:"data";s:13:"Tokuview Blog";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}}}i:4;a:6:{s:4:"data";s:168:"
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
  ";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";s:5:"child";a:3:{s:0:"";a:6:{s:5:"title";a:1:{i:0;a:5:{s:4:"data";s:30:"CAOS Theory Podcast 2011.09.30";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:4:"guid";a:1:{i:0;a:5:{s:4:"data";s:47:"http://blogs.the451group.com/opensource/?p=5626";s:7:"attribs";a:1:{s:0:"";a:1:{s:11:"isPermaLink";s:5:"false";}}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:4:"link";a:1:{i:0;a:5:{s:4:"data";s:60:"http://feedproxy.google.com/~r/451opensource/~3/ZQRl1VXHjV8/";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:11:"description";a:1:{i:0;a:5:{s:4:"data";s:346:"Topics for this podcast:
*Cloud M&amp;A potential around OpenStack
*Oracle&#8217;s commercial extensions for MySQL
*Puppet Labs rolls out Enterprise 2.0, hosts PuppetConf
*Basho bolsters Riak distributed data store in NoSQL race
*Our latest special CAOS report, &#8216;The Changing Linux Landscape&#8217;
iTunes or direct download (25:59, 4.4MB)
";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:7:"pubDate";a:1:{i:0;a:5:{s:4:"data";s:31:"Fri, 30 Sep 2011 19:16:51 +0000";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:8:"category";a:26:{i:0;a:5:{s:4:"data";s:7:"Podcast";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}i:1;a:5:{s:4:"data";s:5:"basho";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}i:2;a:5:{s:4:"data";s:11:"caos theory";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}i:3;a:5:{s:4:"data";s:10:"caostheory";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}i:4;a:5:{s:4:"data";s:4:"chef";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}i:5;a:5:{s:4:"data";s:8:"database";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}i:6;a:5:{s:4:"data";s:6:"devops";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}i:7;a:5:{s:4:"data";s:10:"enterprise";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}i:8;a:5:{s:4:"data";s:9:"jay lyman";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}i:9;a:5:{s:4:"data";s:5:"Linux";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}i:10;a:5:{s:4:"data";s:7:"M&amp;A";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}i:11;a:5:{s:4:"data";s:11:"matt aslett";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}i:12;a:5:{s:4:"data";s:24:"mergers and acquisitions";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}i:13;a:5:{s:4:"data";s:5:"mysql";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}i:14;a:5:{s:4:"data";s:5:"nosql";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}i:15;a:5:{s:4:"data";s:9:"Open-Core";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}i:16;a:5:{s:4:"data";s:11:"open-source";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}i:17;a:5:{s:4:"data";s:10:"opensource";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}i:18;a:5:{s:4:"data";s:9:"OpenStack";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}i:19;a:5:{s:4:"data";s:7:"opscode";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}i:20;a:5:{s:4:"data";s:6:"Oracle";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}i:21;a:5:{s:4:"data";s:6:"Puppet";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}i:22;a:5:{s:4:"data";s:11:"puppet labs";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}i:23;a:5:{s:4:"data";s:4:"riak";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}i:24;a:5:{s:4:"data";s:13:"The 451 Group";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}i:25;a:5:{s:4:"data";s:11:"the451group";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}s:40:"http://purl.org/rss/1.0/modules/content/";a:1:{s:7:"encoded";a:1:{i:0;a:5:{s:4:"data";s:865:"<p>Topics for this podcast:</p>
<p>*Cloud M&amp;A potential around OpenStack<br />
*Oracle&#8217;s commercial extensions for MySQL<br />
*Puppet Labs rolls out Enterprise 2.0, hosts PuppetConf<br />
*Basho bolsters Riak distributed data store in NoSQL race<br />
*Our latest special CAOS report, &#8216;The Changing Linux Landscape&#8217;</p>
<p><a href="http://phobos.apple.com/WebObjects/MZStore.woa/wa/viewPodcast?id=280595473">iTunes</a> or <a href="http://media.libsyn.com/media/caostheory/CAOSTheory20110930.mp3">direct download</a> (25:59, 4.4MB)</p>
<img src="http://feeds.feedburner.com/~r/451opensource/~4/ZQRl1VXHjV8" height="1" width="1" /><br/>PlanetMySQL Voting:
	 <a href="http://planet.mysql.com/entry/vote/?entry_id=30145&vote=1&apivote=1">Vote UP</a> /
	 <a href="http://planet.mysql.com/entry/vote/?entry_id=30145&vote=-1&apivote=1">Vote DOWN</a>";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}s:32:"http://purl.org/dc/elements/1.1/";a:1:{s:7:"creator";a:1:{i:0;a:5:{s:4:"data";s:13:"The 451 Group";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}}}i:5;a:6:{s:4:"data";s:98:"
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
  ";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";s:5:"child";a:3:{s:0:"";a:6:{s:5:"title";a:1:{i:0;a:5:{s:4:"data";s:85:"Setting up Perl on Windows for MySQL Scripts (mysqldumpslow, mysql_explain_log, etc.)";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:4:"guid";a:1:{i:0;a:5:{s:4:"data";s:35:"http://www.chriscalender.com/?p=251";s:7:"attribs";a:1:{s:0:"";a:1:{s:11:"isPermaLink";s:5:"false";}}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:4:"link";a:1:{i:0;a:5:{s:4:"data";s:35:"http://www.chriscalender.com/?p=251";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:11:"description";a:1:{i:0;a:5:{s:4:"data";s:4702:"This article is just a how-to for setting up Perl on Windows in order to use the perl scripts provided with MySQL, such as mysqldumpslow.pl or mysql_explain_log.pl.
Now, you might say there is a section on this topic in the MySQL manual, to which I&#8217;d agree.  But, this was for ActiveState Perl 5.6.  The latest ActiveState Perl is 5.12, so thoese instructions are a bit out-of-date.  Also, there are some helpful &#8220;User Comments&#8221; on that same page, but again, those are slightly out-of-date in the ActiveState 5.12.  So, I thought I&#8217;d just post the steps I took in order to set this up.
First, download and install ActivePerl.  Click the &#8220;Download ActivePerl 5.12.4 for Windows&#8221; button (choose either 32-bit or 64-bit).  You&#8217;ll be prompted to save an msi file.  Save it, and double-click on it to install it, following the prompts.
Next, install Perl DBI and DBD:MySQL:
Open Perl Package Manager (PPM) GUI (which was installed from above step).  In the PPM GUI (for ActivePerl 5.10+) you have to follow these steps to obtain DBI and DBD-mysql 
1. In the PPM GUI, navigate to &#8220;Edit -> Preferences&#8221; (Ctrl+P)
2. Click on &#8220;Repositories&#8221; tab, select &#8220;uwinnipeg :: University of Winnipeg&#8221; from the &#8220;Suggested&#8221; drop-down, and click &#8220;Add&#8221;
This will add a number of packages to your ActivePerl (and you should at least see DBI now).
You *may* also find DBD-mysql (worked in 5.10 days, but not in 5.12 days).
3. If you don&#8217;t have it, open a dos command line prompt and run the following (this basically adds a second repository from the University of Winnipeg, but one that does contain the DBD-mysql):
ppm rep add http://theoryx5.uwinnipeg.ca/ppms/
Here is my session output, for reference:
C:\Users\Chris>ppm rep add http://theoryx5.uwinnipeg.ca/ppms/
Downloading theoryx5.uwinnipeg.ca packlist...done
Updating theoryx5.uwinnipeg.ca database...done
Repo 3 added.
4. Then run this (also from the dos command line):
ppm install dbd-mysql
Again, the session output:
Downloading DBD-mysql-4.019...done
Unpacking DBD-mysql-4.019...done
Generating HTML for DBD-mysql-4.019...done
Updating files in site area...done
  12 files installed
5. Now, in PPM, once you &#8220;Refresh all Data&#8221; (F5), then you should see DBD-mysql in the list. 
6. If for some reason you&#8217;re not sure about DBI, just run:
ppm install DBI
In my case, it was already installed (at step #2), so the output showed this:
C:\Users\Chris>ppm install DBI
No missing packages to install
Just showing there&#8217;s no harm in either of these &#8220;ppm install&#8221; commands.
Great!  Now that that&#8217;s installed, let&#8217;s test somthing out, say mysqldumpslow, since it is so useful and common.
(Note for this step, I already have the slow query log enabled, and have run at least one slow query so that there is something in the log.  Also, note the -v option is &#8220;verbose&#8221;, -s is sorting, and the &#8216;at&#8217; is how it sorts &#8211; average query time, where &#8216;at&#8217; is the default.  Run mysqldumpslow &#8211;help for more details.)
C:>mysqldumpslow.pl -v -s at ..\data\Chris-PC-slow.log

Reading mysql slow query log from ..\data\Chris-PC-slow.log
Count: 1  Time=0.00s (0s)  Lock=0.00s (0s)  Rows=5.0 (5), root[root]@localhost
  select * from t;
  C:\Program Files\MySQL\MySQL Server N.N\bin\mysqld-nt, Version: N.N.N-nt-log
  (MySQL Server). started with: TCP Port: N, Named Pipe: MySQL

Count: 1  Time=0.00s (0s)  Lock=0.00s (0s)  Rows=0.0 (0), 0users@0hosts
  C:\Program Files\MySQL\MySQL Server N.N\bin\mysqld-nt, Version: N.N.N-nt-log
  (MySQL Server). started with: TCP Port: N, Named Pipe: (null)
  # Time: N N:N:N
  # User@Host: root[root] @ localhost [N.N.N.N]
  # Query_time: N  Lock_time: N  Rows_sent: N  Rows_examined: N
  use test99;
  select * from t
And here is an invocation of mysql_explain_log (run against the general query log):
C:>mysql_explain_log.pl --user=root --password=mysql < ..\data\Chris-PC.log
explain_log     provided by http://www.mobile.de
===========     ================================

Index usage ------------------------------------

Queries causing table scans -------------------

Sum: 0 table scans

Summary ---------------------------------------

Select:         0 queries
Update:         0 queries

Init:           0 times
Field:          0 times
Refresh:        0 times
Query:          24 times
Statistics:     0 times

Logfile:        59 lines
Started:        Wed Sep 14 14:13:30 2011
Finished:       Wed Sep 14 14:13:31 2011
So there you have it.
Hope this helps any users out there needing to get Perl working on Windows for MySQL-bundled scripts.";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:7:"pubDate";a:1:{i:0;a:5:{s:4:"data";s:31:"Fri, 30 Sep 2011 18:52:52 +0000";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:8:"category";a:12:{i:0;a:5:{s:4:"data";s:5:"MySQL";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}i:1;a:5:{s:4:"data";s:10:"activeperl";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}i:2;a:5:{s:4:"data";s:11:"activestate";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}i:3;a:5:{s:4:"data";s:9:"dbd-mysql";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}i:4;a:5:{s:4:"data";s:3:"dbi";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}i:5;a:5:{s:4:"data";s:18:"mysql perl scripts";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}i:6;a:5:{s:4:"data";s:13:"mysqldumpslow";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}i:7;a:5:{s:4:"data";s:17:"mysql_explain_log";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}i:8;a:5:{s:4:"data";s:4:"perl";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}i:9;a:5:{s:4:"data";s:3:"ppm";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}i:10;a:5:{s:4:"data";s:6:"skysql";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}i:11;a:5:{s:4:"data";s:7:"windows";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}s:40:"http://purl.org/rss/1.0/modules/content/";a:1:{s:7:"encoded";a:1:{i:0;a:5:{s:4:"data";s:5294:"<p>This article is just a how-to for setting up Perl on Windows in order to use the perl scripts provided with MySQL, such as mysqldumpslow.pl or mysql_explain_log.pl.</p>
<p>Now, you might say there is a <a href="http://dev.mysql.com/doc/refman/5.5/en/activestate-perl.html">section on this topic in the MySQL manual</a>, to which I&#8217;d agree.  But, this was for ActiveState Perl 5.6.  The latest ActiveState Perl is 5.12, so thoese instructions are a bit out-of-date.  Also, there are some helpful &#8220;User Comments&#8221; on that same page, but again, those are slightly out-of-date in the ActiveState 5.12.  So, I thought I&#8217;d just post the steps I took in order to set this up.</p>
<p>First, download and install <a href="http://www.activestate.com/activeperl/downloads">ActivePerl</a>.  Click the &#8220;Download ActivePerl 5.12.4 for Windows&#8221; button (choose either 32-bit or 64-bit).  You&#8217;ll be prompted to save an msi file.  Save it, and double-click on it to install it, following the prompts.</p>
<p>Next, install Perl DBI and DBD:MySQL:</p>
<p>Open Perl Package Manager (PPM) GUI (which was installed from above step).  In the PPM GUI (for ActivePerl 5.10+) you have to follow these steps to obtain DBI and DBD-mysql </p>
<p>1. In the PPM GUI, navigate to &#8220;Edit -> Preferences&#8221; (Ctrl+P)</p>
<p>2. Click on &#8220;Repositories&#8221; tab, select &#8220;uwinnipeg :: University of Winnipeg&#8221; from the &#8220;Suggested&#8221; drop-down, and click &#8220;Add&#8221;</p>
<p>This will add a number of packages to your ActivePerl (and you should at least see DBI now).</p>
<p>You *may* also find DBD-mysql (worked in 5.10 days, but not in 5.12 days).</p>
<p>3. If you don&#8217;t have it, open a dos command line prompt and run the following (this basically adds a second repository from the University of Winnipeg, but one that does contain the DBD-mysql):</p>
<pre>ppm rep add http://theoryx5.uwinnipeg.ca/ppms/</pre>
<p>Here is my session output, for reference:</p>
<pre>C:\Users\Chris>ppm rep add http://theoryx5.uwinnipeg.ca/ppms/
Downloading theoryx5.uwinnipeg.ca packlist...done
Updating theoryx5.uwinnipeg.ca database...done
Repo 3 added.</pre>
<p>4. Then run this (also from the dos command line):</p>
<pre>ppm install dbd-mysql</pre>
<p>Again, the session output:</p>
<pre>Downloading DBD-mysql-4.019...done
Unpacking DBD-mysql-4.019...done
Generating HTML for DBD-mysql-4.019...done
Updating files in site area...done
  12 files installed</pre>
<p>5. Now, in PPM, once you &#8220;Refresh all Data&#8221; (F5), then you should see DBD-mysql in the list. </p>
<p>6. If for some reason you&#8217;re not sure about DBI, just run:</p>
<pre>ppm install DBI</pre>
<p>In my case, it was already installed (at step #2), so the output showed this:</p>
<pre>C:\Users\Chris>ppm install DBI
No missing packages to install</pre>
<p>Just showing there&#8217;s no harm in either of these &#8220;ppm install&#8221; commands.</p>
<p>Great!  Now that that&#8217;s installed, let&#8217;s test somthing out, say mysqldumpslow, since it is so useful and common.</p>
<p>(Note for this step, I already have the slow query log enabled, and have run at least one slow query so that there is something in the log.  Also, note the -v option is &#8220;verbose&#8221;, -s is sorting, and the &#8216;at&#8217; is how it sorts &#8211; average query time, where &#8216;at&#8217; is the default.  Run mysqldumpslow &#8211;help for more details.)</p>
<pre>C:>mysqldumpslow.pl -v -s at ..\data\Chris-PC-slow.log

Reading mysql slow query log from ..\data\Chris-PC-slow.log
Count: 1  Time=0.00s (0s)  Lock=0.00s (0s)  Rows=5.0 (5), root[root]@localhost
  select * from t;
  C:\Program Files\MySQL\MySQL Server N.N\bin\mysqld-nt, Version: N.N.N-nt-log
  (MySQL Server). started with: TCP Port: N, Named Pipe: MySQL

Count: 1  Time=0.00s (0s)  Lock=0.00s (0s)  Rows=0.0 (0), 0users@0hosts
  C:\Program Files\MySQL\MySQL Server N.N\bin\mysqld-nt, Version: N.N.N-nt-log
  (MySQL Server). started with: TCP Port: N, Named Pipe: (null)
  # Time: N N:N:N
  # User@Host: root[root] @ localhost [N.N.N.N]
  # Query_time: N  Lock_time: N  Rows_sent: N  Rows_examined: N
  use test99;
  select * from t</pre>
<p>And here is an invocation of mysql_explain_log (run against the general query log):</p>
<pre>C:>mysql_explain_log.pl --user=root --password=mysql < ..\data\Chris-PC.log
explain_log     provided by http://www.mobile.de
===========     ================================

Index usage ------------------------------------

Queries causing table scans -------------------

Sum: 0 table scans

Summary ---------------------------------------

Select:         0 queries
Update:         0 queries

Init:           0 times
Field:          0 times
Refresh:        0 times
Query:          24 times
Statistics:     0 times

Logfile:        59 lines
Started:        Wed Sep 14 14:13:30 2011
Finished:       Wed Sep 14 14:13:31 2011</pre>
<p>So there you have it.</p>
<p>Hope this helps any users out there needing to get Perl working on Windows for MySQL-bundled scripts.</p><br/>PlanetMySQL Voting:
	 <a href="http://planet.mysql.com/entry/vote/?entry_id=30144&vote=1&apivote=1">Vote UP</a> /
	 <a href="http://planet.mysql.com/entry/vote/?entry_id=30144&vote=-1&apivote=1">Vote DOWN</a>";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}s:32:"http://purl.org/dc/elements/1.1/";a:1:{s:7:"creator";a:1:{i:0;a:5:{s:4:"data";s:14:"Chris Calender";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}}}i:6;a:6:{s:4:"data";s:43:"
    
    
    
    
    
    
    
    
  ";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";s:5:"child";a:3:{s:0:"";a:6:{s:5:"title";a:1:{i:0;a:5:{s:4:"data";s:16:"What can I DROP?";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:4:"guid";a:1:{i:0;a:5:{s:4:"data";s:33:"http://www.mysqlfanboy.com/?p=675";s:7:"attribs";a:1:{s:0:"";a:1:{s:11:"isPermaLink";s:5:"false";}}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:4:"link";a:1:{i:0;a:5:{s:4:"data";s:33:"http://www.mysqlfanboy.com/?p=675";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:11:"description";a:1:{i:0;a:5:{s:4:"data";s:2247:"So you have inherited a MySQL server and no one know what applications are use what databases.   Space is every tight and every night transactions logs almost fill your hard disk.  The server was once used as a replication server and it seems every database the company uses is duplicated here.
You could do a full dump, drop everything and wait for the requests to restore. (This might be OK on a test database.)
We could ask MySQL for all the databases that have tables that have been updated in the last 30 days.
$ mysql information_schema -e  \
"select DISTINCT TABLE_SCHEMA as NAME from TABLES
  WHERE UPDATE_TIME IS NOT NULL and UPDATE_TIME &gt; NOW() - INTERVAL 30 DAY"  \
&gt; Databases
But this only gives a list of databases that have changed.  What about tables that are only read from?
Bin-Logs don&#8217;t help because they too only have updates.  What we really need is a long snapshot of the general log. But, starting the general log will just fill your disk space even more.
As long as all queries are remote we can use tcpdump.
Filter all the MySQL connections for  &#8216;FROM tablenames&#8217;.
$ tcpdump -i eth1 -s 0 -l -w - dst port 3306 | strings | \
 sed -n 's/\(.*\)\(from.*\)/\2/p' | awk '{print $2}' &gt; TableList
 $ cat TableList | sort | uniq &gt; ShortList
Some of the queries may reference databases.tablename so we can filter out the database names and add them to your Database list.
$ cat TableList | sed -n 's/\./ /p' | awk '{print $1}' | sort | uniq &gt;&gt; Databases
Now for the queries that only use table names. We need to find the database each belongs to.  This isn&#8217;t completely accurate because the table name may be in more then one databases.
$  for x in `cat TableList | sort | uniq` ;
 do
 mysql information_schema -e "select TABLE_SCHEMA from TABLES where TABLE_NAME='$x'\G"  \
 | grep TABLE | awk '{print $2}' ;
 done | sort | uniq &gt;&gt; Databases
To create the final list of database that should not be dropped.
$ sort Databases | uniq &gt; KEEPTHESE ; cat KEEPTHESE
Now you can do the deed with some confidence your not removing anything being used.
&nbsp;

&nbsp;
&nbsp;
&nbsp;
P.S.  Did I tell you, Never do anything you can&#8217;t reverse.   Make a BACKUP FIRST!
Tweet";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:7:"pubDate";a:1:{i:0;a:5:{s:4:"data";s:31:"Fri, 30 Sep 2011 17:36:16 +0000";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:8:"category";a:1:{i:0;a:5:{s:4:"data";s:6:"HOW TO";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}s:40:"http://purl.org/rss/1.0/modules/content/";a:1:{s:7:"encoded";a:1:{i:0;a:5:{s:4:"data";s:2969:"<p>So you have inherited a MySQL server and no one know what applications are use what databases.   Space is every tight and every night transactions logs almost fill your hard disk.  The server was once used as a replication server and it seems every database the company uses is duplicated here.</p>
<p>You could do a full dump, drop everything and wait for the requests to restore. (This might be OK on a test database.)</p>
<p>We could ask MySQL for all the databases that have tables that have been updated in the last 30 days.</p>
<pre>$ mysql information_schema -e  \
"select DISTINCT TABLE_SCHEMA as NAME from TABLES
  WHERE UPDATE_TIME IS NOT NULL and UPDATE_TIME &gt; NOW() - INTERVAL 30 DAY"  \
&gt; Databases</pre>
<p>But this only gives a list of databases that have changed.  What about tables that are only read from?</p>
<p>Bin-Logs don&#8217;t help because they too only have updates.  What we really need is a long snapshot of the general log. But, starting the general log will just fill your disk space even more.</p>
<p>As long as all queries are remote we can use tcpdump.</p>
<p>Filter all the MySQL connections for  &#8216;FROM tablenames&#8217;.</p>
<pre>$ tcpdump -i eth1 -s 0 -l -w - dst port 3306 | strings | \
 sed -n 's/\(.*\)\(from.*\)/\2/p' | awk '{print $2}' &gt; TableList
 $ cat TableList | sort | uniq &gt; ShortList</pre>
<p>Some of the queries may reference databases.tablename so we can filter out the database names and add them to your Database list.</p>
<pre>$ cat TableList | sed -n 's/\./ /p' | awk '{print $1}' | sort | uniq &gt;&gt; Databases</pre>
<p>Now for the queries that only use table names. We need to find the database each belongs to.  This isn&#8217;t completely accurate because the table name may be in more then one databases.</p>
<pre>$  for x in `cat TableList | sort | uniq` ;
 do
 mysql information_schema -e "select TABLE_SCHEMA from TABLES where TABLE_NAME='$x'\G"  \
 | grep TABLE | awk '{print $2}' ;
 done | sort | uniq &gt;&gt; Databases</pre>
<p>To create the final list of database that should not be dropped.</p>
<pre>$ sort Databases | uniq &gt; KEEPTHESE ; cat KEEPTHESE</pre>
<p>Now you can do the deed with some confidence your not removing anything being used.</p>
<p>&nbsp;</p>
<p><img class="alignleft" src="http://mark.grennan.com/images/MarkGrennanSigniture.bmp" alt="" width="166" height="69" /></p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>P.S.  Did I tell you, Never do anything you can&#8217;t reverse.   Make a BACKUP FIRST!</p>
<p><a href="http://twitter.com/share?url=http://www.mysqlfanboy.com/?p=675&amp;count=none&amp;via=MySQLFanBoy&amp;related=MySQLFanBoy:Site+Twitter+account&amp;text=What%20can%20I%20DROP?%20-%20MySQL%20Fanboy">Tweet</a></p><br/>PlanetMySQL Voting:
	 <a href="http://planet.mysql.com/entry/vote/?entry_id=30143&vote=1&apivote=1">Vote UP</a> /
	 <a href="http://planet.mysql.com/entry/vote/?entry_id=30143&vote=-1&apivote=1">Vote DOWN</a>";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}s:32:"http://purl.org/dc/elements/1.1/";a:1:{s:7:"creator";a:1:{i:0;a:5:{s:4:"data";s:12:"Mark Grennan";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}}}i:7;a:6:{s:4:"data";s:43:"
    
    
    
    
    
    
    
    
  ";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";s:5:"child";a:3:{s:0:"";a:6:{s:5:"title";a:1:{i:0;a:5:{s:4:"data";s:38:"Focus on MySQL | Oracle OpenWorld 2011";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:4:"guid";a:1:{i:0;a:5:{s:4:"data";s:70:"tag:blogger.com,1999:blog-3812360659149323517.post-5942851127226549675";s:7:"attribs";a:1:{s:0:"";a:1:{s:11:"isPermaLink";s:5:"false";}}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:4:"link";a:1:{i:0;a:5:{s:4:"data";s:78:"http://sqlhjalp.blogspot.com/2011/09/focus-on-mysql-oracle-openworld-2011.html";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:11:"description";a:1:{i:0;a:5:{s:4:"data";s:257:"Oracle OpenWorld is just a few days away now!As a reminder, you can attend all of the Sunday MySQL sessions organized by IOUG and the MySQL community with a full OOW pass.The MySQL community reception is also available to everyone on Tuesday .See you soon !";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:7:"pubDate";a:1:{i:0;a:5:{s:4:"data";s:31:"Fri, 30 Sep 2011 17:15:24 +0000";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:8:"category";a:1:{i:0;a:5:{s:4:"data";s:33:"MySQL community Oracle open world";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}s:40:"http://purl.org/rss/1.0/modules/content/";a:1:{s:7:"encoded";a:1:{i:0;a:5:{s:4:"data";s:889:"Oracle OpenWorld is just a few days away now!<br /><br />As a reminder, you can attend all of the <a href="http://www.oracle.com/openworld/oow11-focuson-mysql-486114.pdf">Sunday MySQL sessions</a> organized by IOUG and the MySQL community with a full OOW pass.<br /><br />The <a href="http://www.oracle.com/webapps/events/ns/EventsDetail.jsp?p_eventId=140041&amp;src=7314534&amp;src=7314534&amp;Act=83&amp;evite=83">MySQL community reception</a> is also available to everyone on Tuesday .<br /><br />See you soon !<div><img width="1" height="1" src="https://blogger.googleusercontent.com/tracker/3812360659149323517-5942851127226549675?l=sqlhjalp.blogspot.com" alt="" /></div><br/>PlanetMySQL Voting:
	 <a href="http://planet.mysql.com/entry/vote/?entry_id=30142&vote=1&apivote=1">Vote UP</a> /
	 <a href="http://planet.mysql.com/entry/vote/?entry_id=30142&vote=-1&apivote=1">Vote DOWN</a>";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}s:32:"http://purl.org/dc/elements/1.1/";a:1:{s:7:"creator";a:1:{i:0;a:5:{s:4:"data";s:12:"Keith Larson";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}}}i:8;a:6:{s:4:"data";s:43:"
    
    
    
    
    
    
    
    
  ";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";s:5:"child";a:3:{s:0:"";a:6:{s:5:"title";a:1:{i:0;a:5:{s:4:"data";s:66:"Sending and Managing Email Accounts in a MySQL Database using Perl";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:4:"guid";a:1:{i:0;a:5:{s:4:"data";s:42:"http://scriptingmysql.wordpress.com/?p=273";s:7:"attribs";a:1:{s:0:"";a:1:{s:11:"isPermaLink";s:5:"false";}}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:4:"link";a:1:{i:0;a:5:{s:4:"data";s:114:"http://scriptingmysql.wordpress.com/2011/09/30/sending-and-managing-email-accounts-in-a-mysql-database-using-perl/";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:11:"description";a:1:{i:0;a:5:{s:4:"data";s:8950:"A friend of mine has a small newsletter that he sends via email once a month.  Initially, he was just blind-copying everyone on his list, but as the list grew, it was a pain for him to keep manually editing his BCC list.  Also, some people weren&#8217;t receiving the newsletter as they had email filters that would block emails that didn&#8217;t have their name in the &#8220;To&#8221; field.  And, he needed a way to allow people to opt-out of his newsletter without having to contact him directly.  His solution was that he wanted to use a MySQL database to send the email and manage his list, so that he could easily bypass the subscribers that had opted out. 
We started by creating a MySQL table with just a few fields &#8211; ID, email_address and news_and_events.  The &#8220;news_and_events&#8221; field would be set to &#8220;yes&#8221; for those that wanted to receive the newsletter, and could be set to &#8220;no&#8221; if they wanted to opt-out.  Here is the database:

CREATE TABLE `email_address_test` (
  `id` int(5) NOT NULL AUTO_INCREMENT,
  `email_address` varchar(50) NOT NULL,
  `news_and_events` varchar(3) NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=1 DEFAULT CHARSET=latin1

After he had imported all of the email addresses into the database (including setting the news_and_events column value to &#8220;yes&#8221;), we were ready to go.  We are using a Perl script to connect to the MySQL database and to retrieve all of the email addresses that have a value of &#8220;news_and_events = yes&#8221;.  We can then send each one an email with their email address in the &#8220;To&#8221; field.  We also create a log file to store the results.  To manage new subscribers, he modified his web site so that new email addresses would also be stored in the database.  An earlier post shows you how to insert information into a MySQL database via Perl.
This script uses a text file to store the database connectivity information.  (See this earlier post for instructions on how to use this text file).
This script also includes a &#8220;remove me&#8221; link (using a Perl script named remove_me.pl) in the email to allow people to opt-out of receiving future emails.  I include the remove_me.pl script below the main script.
Here is the main script to send email.  There are comments in the script to help you figure out how to modify the script for your use.

#!/usr/bin/perl -w use strict;
use DBI;
my $database;
# create a log file to store the results
open LOG, "&gt;filename.txt" or die "Cannot create output file: $!";
my $id;
my $CurrentLine = 0;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# connect to database
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$dbh = ConnectToMySql($database);
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$query = "select email_address, id from email_address_test where news_and_events = \'yes\'";
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$sth = $dbh-&gt;prepare($query);
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$sth-&gt;execute();
   while (@data = $sth-&gt;fetchrow_array()) {
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  $email_address = $data[0];
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  $id = $data[1];
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# count the number of emails that we send
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$CurrentLine++;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
# edit this line to match the location of your sendmail program
$sendmail = "/usr/sbin/sendmail -t";
# you will need to modify this information
$reply_to = "From: Scripting MySQL Blog &lt;info\@return_email.com&gt;\n";
$from = "From: Scripting MySQL Blog &lt;info\@return_email.com&gt;\n";
$subject = "Subject: Test email from MySQL\n";
$to = "To: $email_address\n";
# this is the body of the email - along with the unsubscribe script - remove_me.pl
$content = "&lt;html&gt;&lt;body&gt;This is a test email.&lt;p&gt;" .
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"&lt;a href=\"http:\/\/cgi-bin/remove_me.pl?id=$id&amp;email_address=$email_address\"&gt;Remove me.&lt;\/a&gt;";
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;open(SENDMAIL, "|$sendmail") or die "Cannot open $sendmail: $!";
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;print SENDMAIL $reply_to;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;print SENDMAIL $from;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;print SENDMAIL $subject;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;print SENDMAIL $to;
# use this line if you want to send a plain text email
#&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;print SENDMAIL "Content-type: text/plain\n\n";
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;print SENDMAIL "Content-type: text/html\n\n";
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;print SENDMAIL $content;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;close(SENDMAIL);
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# comment these line if you don't want output to your monitor
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;print "$CurrentLine Email sent to $email_address - $subject";
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# comment this line if you don't want output to your log file
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;print LOG "$CurrentLine Email sent to $email_address - $subject";
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# sleep X seconds after each email is sent
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sleep 1;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
}
print "\nFinished...$CurrentLine emails were sent.\n";
print LOG "\nFinished...$CurrentLine emails were sent.\n";
close(LOG);
# for more information on this sub-routine and the use of the file accessBLOG, visit
# http://scriptingmysql.wordpress.com/2011/07/27/connecting-to-mysql-with-perl/
#----------------------------------------------------------------------
sub ConnectToMySql {
#----------------------------------------------------------------------
   open(ACCESS_INFO, "&lt;..\/accessBLOG") || die "Can't access login credentials";
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$database = &lt;ACCESS_INFO&gt;;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$host = &lt;ACCESS_INFO&gt;;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$userid = &lt;ACCESS_INFO&gt;;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$passwd = &lt;ACCESS_INFO&gt;;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# the chomp() function will remove any newline character from the end of a string
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;chomp ($database, $host, $userid, $passwd);
   my $connectionInfo="dbi:mysql:$database;$host";
   close(ACCESS_INFO);
   # make connection to database
   my $l_dbh = DBI-&gt;connect($connectionInfo,$userid,$passwd);
   return $l_dbh;
}

And here is the remove_me.pl script.  I don&#8217;t provide any error-checking to make sure that the news_and_events value is equal to &#8220;yes&#8221;, so you will need to edit the script if you want this functionality.

#! /usr/bin/perl
# DBI is the standard database interface for Perl
# DBD is the Perl module that we use to connect to the MySQL database
use DBI;
use DBD::mysql;
# use CGI for forms
use CGI qw(:standard);
my $database;
$query = new CGI;
$id = $query-&gt;param("id");
$email_address = $query-&gt;param("email_address");
print header;
# connect to the database and update news_and_events to "no"
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$dbh = ConnectToMySql($database);
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$query = "update email_address_test set news_and_events = 'no' where id = '$id'";
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$sth = $dbh-&gt;prepare($query);
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$sth-&gt;execute();
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$sth-&gt;finish;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$dbh-&gt;disconnect;
print "Your email address $email_address has been removed.";
#----------------------------------------------------------------------
sub ConnectToMySql {
#----------------------------------------------------------------------
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;open(ACCESS_INFO, "&lt;..\/accessBLOG") || die "Can't access login credentials";
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my $database = &lt;ACCESS_INFO&gt;;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my $host = &lt;ACCESS_INFO&gt;;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my $userid = &lt;ACCESS_INFO&gt;;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my $passwd = &lt;ACCESS_INFO&gt;;
# the chomp() function will remove any newline character from the end of a string
chomp ($database, $host, $userid, $passwd);
#print "&lt;br&gt;$database $host $userid $passwd &lt;br&gt;";
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my $connectionInfo="dbi:mysql:$database;$host";
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;close(ACCESS_INFO);
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;chomp($userid);
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;chomp($passwd);
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# make connection to database
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my $l_dbh = DBI-&gt;connect($connectionInfo,$userid,$passwd);
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return $l_dbh;
}
exit;

&nbsp;

&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8211;





Tony Darnell is a Principal Sales Consultant for MySQL, a division of Oracle, Inc.  MySQL is the world&#8217;s most popular open-source database program.
Tony may be reached at info [at] ScriptingMySQL.com and on LinkedIn.



         ";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:7:"pubDate";a:1:{i:0;a:5:{s:4:"data";s:31:"Fri, 30 Sep 2011 16:19:28 +0000";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:8:"category";a:1:{i:0;a:5:{s:4:"data";s:13:"Uncategorized";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}s:40:"http://purl.org/rss/1.0/modules/content/";a:1:{s:7:"encoded";a:1:{i:0;a:5:{s:4:"data";s:12154:"<p>A friend of mine has a small newsletter that he sends via email once a month.  Initially, he was just blind-copying everyone on his list, but as the list grew, it was a pain for him to keep manually editing his BCC list.  Also, some people weren&#8217;t receiving the newsletter as they had email filters that would block emails that didn&#8217;t have their name in the &#8220;To&#8221; field.  And, he needed a way to allow people to opt-out of his newsletter without having to contact him directly.  His solution was that he wanted to use a MySQL database to send the email and manage his list, so that he could easily bypass the subscribers that had opted out. </p>
<p>We started by creating a MySQL table with just a few fields &#8211; ID, email_address and news_and_events.  The &#8220;news_and_events&#8221; field would be set to &#8220;yes&#8221; for those that wanted to receive the newsletter, and could be set to &#8220;no&#8221; if they wanted to opt-out.  Here is the database:<br />
<code><br />
CREATE TABLE `email_address_test` (<br />
  `id` int(5) NOT NULL AUTO_INCREMENT,<br />
  `email_address` varchar(50) NOT NULL,<br />
  `news_and_events` varchar(3) NOT NULL,<br />
  PRIMARY KEY (`id`)<br />
) ENGINE=InnoDB AUTO_INCREMENT=1 DEFAULT CHARSET=latin1<br />
</code><br />
After he had imported all of the email addresses into the database (including setting the news_and_events column value to &#8220;yes&#8221;), we were ready to go.  We are using a Perl script to connect to the MySQL database and to retrieve all of the email addresses that have a value of &#8220;news_and_events = yes&#8221;.  We can then send each one an email with their email address in the &#8220;To&#8221; field.  We also create a log file to store the results.  To manage new subscribers, he modified his web site so that new email addresses would also be stored in the database.  An earlier post shows you how to insert information into a MySQL database via <a href="http://scriptingmysql.wordpress.com/2011/08/05/inserting-data-into-mysql-with-perl/" />Perl</a>.</p>
<p>This script uses a text file to store the database connectivity information.  (See this <a href="http://scriptingmysql.wordpress.com/2011/07/27/connecting-to-mysql-with-perl/" />earlier post</a> for instructions on how to use this text file).</p>
<p>This script also includes a &#8220;remove me&#8221; link (using a Perl script named remove_me.pl) in the email to allow people to opt-out of receiving future emails.  I include the remove_me.pl script below the main script.</p>
<p>Here is the main script to send email.  There are comments in the script to help you figure out how to modify the script for your use.<br />
<code><br />
#!/usr/bin/perl -w use strict;<br />
use DBI;</p>
<p>my $database;</p>
<p># create a log file to store the results<br />
open LOG, "&gt;filename.txt" or die "Cannot create output file: $!";</p>
<p>my $id;<br />
my $CurrentLine = 0;</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# connect to database</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$dbh = ConnectToMySql($database);</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$query = "select email_address, id from email_address_test where news_and_events = \'yes\'";</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$sth = $dbh-&gt;prepare($query);</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$sth-&gt;execute();</p>
<p>   while (@data = $sth-&gt;fetchrow_array()) {<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  $email_address = $data[0];<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  $id = $data[1];</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# count the number of emails that we send<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$CurrentLine++;<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br />
# edit this line to match the location of your sendmail program<br />
$sendmail = "/usr/sbin/sendmail -t";</p>
<p># you will need to modify this information<br />
$reply_to = "From: Scripting MySQL Blog &lt;info\@return_email.com&gt;\n";<br />
$from = "From: Scripting MySQL Blog &lt;info\@return_email.com&gt;\n";<br />
$subject = "Subject: Test email from MySQL\n";<br />
$to = "To: $email_address\n";</p>
<p># this is the body of the email - along with the unsubscribe script - remove_me.pl<br />
$content = "&lt;html&gt;&lt;body&gt;This is a test email.&lt;p&gt;" .</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"&lt;a href=\"http:\/\/cgi-bin/remove_me.pl?id=$id&amp;email_address=$email_address\"&gt;Remove me.&lt;\/a&gt;";<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;open(SENDMAIL, "|$sendmail") or die "Cannot open $sendmail: $!";<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;print SENDMAIL $reply_to;<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;print SENDMAIL $from;<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;print SENDMAIL $subject;<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;print SENDMAIL $to;<br />
# use this line if you want to send a plain text email<br />
#&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;print SENDMAIL "Content-type: text/plain\n\n";<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;print SENDMAIL "Content-type: text/html\n\n";<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;print SENDMAIL $content;<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;close(SENDMAIL);<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# comment these line if you don't want output to your monitor<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;print "$CurrentLine Email sent to $email_address - $subject";<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# comment this line if you don't want output to your log file<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;print LOG "$CurrentLine Email sent to $email_address - $subject";</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# sleep X seconds after each email is sent<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sleep 1;<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br />
}</p>
<p>print "\nFinished...$CurrentLine emails were sent.\n";<br />
print LOG "\nFinished...$CurrentLine emails were sent.\n";</p>
<p>close(LOG);</p>
<p># for more information on this sub-routine and the use of the file accessBLOG, visit<br />
# http://scriptingmysql.wordpress.com/2011/07/27/connecting-to-mysql-with-perl/</p>
<p>#----------------------------------------------------------------------<br />
sub ConnectToMySql {<br />
#----------------------------------------------------------------------</p>
<p>   open(ACCESS_INFO, "&lt;..\/accessBLOG") || die "Can't access login credentials";<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$database = &lt;ACCESS_INFO&gt;;<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$host = &lt;ACCESS_INFO&gt;;<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$userid = &lt;ACCESS_INFO&gt;;<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$passwd = &lt;ACCESS_INFO&gt;;</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# the chomp() function will remove any newline character from the end of a string<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;chomp ($database, $host, $userid, $passwd);</p>
<p>   my $connectionInfo="dbi:mysql:$database;$host";<br />
   close(ACCESS_INFO);</p>
<p>   # make connection to database<br />
   my $l_dbh = DBI-&gt;connect($connectionInfo,$userid,$passwd);<br />
   return $l_dbh;</p>
<p>}<br />
</code><br />
And here is the remove_me.pl script.  I don&#8217;t provide any error-checking to make sure that the news_and_events value is equal to &#8220;yes&#8221;, so you will need to edit the script if you want this functionality.<br />
<code><br />
#! /usr/bin/perl</p>
<p># DBI is the standard database interface for Perl<br />
# DBD is the Perl module that we use to connect to the MySQL database<br />
use DBI;<br />
use DBD::mysql;<br />
# use CGI for forms<br />
use CGI qw(:standard);</p>
<p>my $database;</p>
<p>$query = new CGI;</p>
<p>$id = $query-&gt;param("id");<br />
$email_address = $query-&gt;param("email_address");</p>
<p>print header;</p>
<p># connect to the database and update news_and_events to "no"</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$dbh = ConnectToMySql($database);</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$query = "update email_address_test set news_and_events = 'no' where id = '$id'";<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$sth = $dbh-&gt;prepare($query);</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$sth-&gt;execute();<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$sth-&gt;finish;</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$dbh-&gt;disconnect;</p>
<p>print "Your email address $email_address has been removed.";</p>
<p>#----------------------------------------------------------------------<br />
sub ConnectToMySql {<br />
#----------------------------------------------------------------------</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;open(ACCESS_INFO, "&lt;..\/accessBLOG") || die "Can't access login credentials";<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my $database = &lt;ACCESS_INFO&gt;;<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my $host = &lt;ACCESS_INFO&gt;;<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my $userid = &lt;ACCESS_INFO&gt;;<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my $passwd = &lt;ACCESS_INFO&gt;;</p>
<p># the chomp() function will remove any newline character from the end of a string<br />
chomp ($database, $host, $userid, $passwd);<br />
#print "&lt;br&gt;$database $host $userid $passwd &lt;br&gt;";</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my $connectionInfo="dbi:mysql:$database;$host";<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;close(ACCESS_INFO);</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;chomp($userid);<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;chomp($passwd);<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# make connection to database<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my $l_dbh = DBI-&gt;connect($connectionInfo,$userid,$passwd);<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return $l_dbh;</p>
<p>}</p>
<p>exit;<br />
</code></p>
<p>&nbsp;
<p>
&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8211;<br />
<table width="100%">
<tr>
<td><img border="0" src="http://www.scriptingmysql.com/scriptingmysql/tony.jpg" />
</td>
<td>
Tony Darnell is a Principal Sales Consultant for <a href="http://mysql.com/" />MySQL</a>, a division of <a href="http://oracle.com">Oracle</a>, Inc.  MySQL is the world&#8217;s most popular open-source database program.<br />
<br />Tony may be reached at info [at] ScriptingMySQL.com and on <a href="http://www.linkedin.com/in/tonydarnell">LinkedIn</a>.
</td>
</tr>
</table>
<br />  <a rel="nofollow" href="http://feeds.wordpress.com/1.0/gocomments/scriptingmysql.wordpress.com/273/"><img alt="" border="0" src="http://feeds.wordpress.com/1.0/comments/scriptingmysql.wordpress.com/273/" /></a> <a rel="nofollow" href="http://feeds.wordpress.com/1.0/godelicious/scriptingmysql.wordpress.com/273/"><img alt="" border="0" src="http://feeds.wordpress.com/1.0/delicious/scriptingmysql.wordpress.com/273/" /></a> <a rel="nofollow" href="http://feeds.wordpress.com/1.0/gofacebook/scriptingmysql.wordpress.com/273/"><img alt="" border="0" src="http://feeds.wordpress.com/1.0/facebook/scriptingmysql.wordpress.com/273/" /></a> <a rel="nofollow" href="http://feeds.wordpress.com/1.0/gotwitter/scriptingmysql.wordpress.com/273/"><img alt="" border="0" src="http://feeds.wordpress.com/1.0/twitter/scriptingmysql.wordpress.com/273/" /></a> <a rel="nofollow" href="http://feeds.wordpress.com/1.0/gostumble/scriptingmysql.wordpress.com/273/"><img alt="" border="0" src="http://feeds.wordpress.com/1.0/stumble/scriptingmysql.wordpress.com/273/" /></a> <a rel="nofollow" href="http://feeds.wordpress.com/1.0/godigg/scriptingmysql.wordpress.com/273/"><img alt="" border="0" src="http://feeds.wordpress.com/1.0/digg/scriptingmysql.wordpress.com/273/" /></a> <a rel="nofollow" href="http://feeds.wordpress.com/1.0/goreddit/scriptingmysql.wordpress.com/273/"><img alt="" border="0" src="http://feeds.wordpress.com/1.0/reddit/scriptingmysql.wordpress.com/273/" /></a> <img alt="" border="0" src="http://stats.wordpress.com/b.gif?host=scriptingmysql.wordpress.com&amp;blog=25354808&amp;post=273&amp;subd=scriptingmysql&amp;ref=&amp;feed=1" width="1" height="1" /><br/>PlanetMySQL Voting:
	 <a href="http://planet.mysql.com/entry/vote/?entry_id=30140&vote=1&apivote=1">Vote UP</a> /
	 <a href="http://planet.mysql.com/entry/vote/?entry_id=30140&vote=-1&apivote=1">Vote DOWN</a>";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}s:32:"http://purl.org/dc/elements/1.1/";a:1:{s:7:"creator";a:1:{i:0;a:5:{s:4:"data";s:12:"Tony Darnell";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}}}i:9;a:6:{s:4:"data";s:143:"
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
  ";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";s:5:"child";a:3:{s:0:"";a:6:{s:5:"title";a:1:{i:0;a:5:{s:4:"data";s:25:"451 CAOS Links 2011.09.30";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:4:"guid";a:1:{i:0;a:5:{s:4:"data";s:47:"http://blogs.the451group.com/opensource/?p=5621";s:7:"attribs";a:1:{s:0:"";a:1:{s:11:"isPermaLink";s:5:"false";}}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:4:"link";a:1:{i:0;a:5:{s:4:"data";s:60:"http://feedproxy.google.com/~r/451opensource/~3/ieGQCJ4joMk/";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:11:"description";a:1:{i:0;a:5:{s:4:"data";s:1329:"Microsoft&#8217;s Android revenue. Tizen formation. And more.
# As Microsoft announced its latest Android-related patent agreement with Samsun, Goldman Sachs estimated that the company will make $444m in revenue from Android patent deals for fiscal year 2012.
# LiMo Foundation and The Linux Foundation announced the formation of Tizen to develop a Linux-based device software platform.
# Karmasphere raised $6m in a series B round of funding, led by new investor Presidio Ventures.
# Citrix Systems announced the availability of XenServer 6.
# 10gen announced the general availability of MongoDB Monitoring Service, a free monitoring service for the MongoDB database.
# Percona announced the release of Percona Server version 5.5.15. 
# Hortonworks became a Gold sponsor of the Apache Software Foundation.
# The developers behind PhoneGap have applied to contribute their open source mobile development framework to the Apache Software Foundation.
# Piston Cloud Computing is set to launch its PentOS enterprise operating system for the cloud and put OpenStack on a memory stick.
# The Free Software Foundation announced the re-launch of its Free Software Directory.
# Rhomobile announced availability of RhoConnect 3.0.
# Nokia is reportedly working on a new Linux-based operating system for mass market phones called Meltemi.
";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:7:"pubDate";a:1:{i:0;a:5:{s:4:"data";s:31:"Fri, 30 Sep 2011 16:16:18 +0000";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:8:"category";a:21:{i:0;a:5:{s:4:"data";s:8:"Software";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}i:1;a:5:{s:4:"data";s:5:"10gen";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}i:2;a:5:{s:4:"data";s:9:"451 group";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}i:3;a:5:{s:4:"data";s:13:"451caostheory";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}i:4;a:5:{s:4:"data";s:8:"451group";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}i:5;a:5:{s:4:"data";s:7:"android";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}i:6;a:5:{s:4:"data";s:26:"Apache Software Foundation";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}i:7;a:5:{s:4:"data";s:10:"caostheory";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}i:8;a:5:{s:4:"data";s:6:"Citrix";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}i:9;a:5:{s:4:"data";s:23:"Free Software Directory";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}i:10;a:5:{s:4:"data";s:24:"free software foundation";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}i:11;a:5:{s:4:"data";s:13:"goldman sachs";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}i:12;a:5:{s:4:"data";s:11:"HortonWorks";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}i:13;a:5:{s:4:"data";s:11:"karmasphere";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}i:14;a:5:{s:4:"data";s:4:"limo";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}i:15;a:5:{s:4:"data";s:5:"Linux";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}i:16;a:5:{s:4:"data";s:16:"Linux Foundation";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}i:17;a:5:{s:4:"data";s:11:"matt aslett";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}i:18;a:5:{s:4:"data";s:10:"mattaslett";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}i:19;a:5:{s:4:"data";s:14:"matthew aslett";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}i:20;a:5:{s:4:"data";s:1:"m";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}s:40:"http://purl.org/rss/1.0/modules/content/";a:1:{s:7:"encoded";a:1:{i:0;a:5:{s:4:"data";s:3163:"<p>Microsoft&#8217;s Android revenue. Tizen formation. And more.</p>
<p># As Microsoft <a href="http://www.microsoft.com/Presspass/press/2011/sep11/09-28SamsungPR.mspx">announced</a> its latest Android-related patent agreement with Samsun, Goldman Sachs <a href="http://www.businessinsider.com/goldman-microsoft-android-2011-9?op=1">estimated</a> that the company will make $444m in revenue from Android patent deals for fiscal year 2012.</p>
<p># LiMo Foundation and The Linux Foundation <a href="http://www.linuxfoundation.org/news-media/announcements/2011/09/limo-foundation-and-linux-foundation-announce-new-open-source-softw">announced</a> the formation of Tizen to develop a Linux-based device software platform.</p>
<p># Karmasphere <a href="http://www.karmasphere.com/Press-Releases/karmasphere-secures-funding-to-accelerate-big-data-analytics-on-hadoop.html">raised</a> $6m in a series B round of funding, led by new investor Presidio Ventures.</p>
<p># Citrix Systems <a href="http://www.businesswire.com/news/home/20110930005172/en/Citrix-Optimizes-XenServer-Cloud-Era">announced</a> the availability of XenServer 6.</p>
<p># 10gen <a href="http://www.marketwire.com/press-release/10gen-releases-cloud-based-monitoring-and-alerting-solution-for-mongodb-1566292.htm">announced</a> the general availability of MongoDB Monitoring Service, a free monitoring service for the MongoDB database.</p>
<p># Percona <a href="http://www.prweb.com/releases/2011/9/prweb8833700.htm">announced</a> the release of Percona Server version 5.5.15. </p>
<p># Hortonworks <a href="http://www.businesswire.com/news/home/20110928005352/en/Hortonworks-Demonstrates-Steadfast-Support-Apache-Software-Foundation">became</a> a Gold sponsor of the Apache Software Foundation.</p>
<p># The developers behind PhoneGap have <a href="http://www.h-online.com/open/news/item/PhoneGap-applies-to-the-Apache-Software-Foundation-1352315.html">applied</a> to contribute their open source mobile development framework to the Apache Software Foundation.</p>
<p># Piston Cloud Computing is set to <a href="http://www.informationweek.com/news/cloud-computing/infrastructure/231602194">launch</a> its PentOS enterprise operating system for the cloud and put OpenStack on a memory stick.</p>
<p># The Free Software Foundation <a href="http://www.fsf.org/news/directory-relaunch">announced</a> the re-launch of its Free Software Directory.</p>
<p># Rhomobile <a href="http://www.businesswire.com/news/home/20110928005516/en/Rhomobile-Releases-Universal-Mobile-Application-Integration-Server">announced</a> availability of RhoConnect 3.0.</p>
<p># Nokia is <a href="http://thenextweb.com/mobile/2011/09/29/nokias-meltemi-project-tipped-to-bring-new-low-end-linux-os-to-the-next-billion">reportedly</a> working on a new Linux-based operating system for mass market phones called Meltemi.</p>
<img src="http://feeds.feedburner.com/~r/451opensource/~4/ieGQCJ4joMk" height="1" width="1" /><br/>PlanetMySQL Voting:
	 <a href="http://planet.mysql.com/entry/vote/?entry_id=30141&vote=1&apivote=1">Vote UP</a> /
	 <a href="http://planet.mysql.com/entry/vote/?entry_id=30141&vote=-1&apivote=1">Vote DOWN</a>";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}s:32:"http://purl.org/dc/elements/1.1/";a:1:{s:7:"creator";a:1:{i:0;a:5:{s:4:"data";s:13:"The 451 Group";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}}}i:10;a:6:{s:4:"data";s:48:"
    
    
    
    
    
    
    
    
    
  ";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";s:5:"child";a:3:{s:0:"";a:6:{s:5:"title";a:1:{i:0;a:5:{s:4:"data";s:69:"Speaking at HighLoad conference, Moscow, Russia,  Training and Hiring";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:4:"guid";a:1:{i:0;a:5:{s:4:"data";s:43:"http://www.mysqlperformanceblog.com/?p=6965";s:7:"attribs";a:1:{s:0:"";a:1:{s:11:"isPermaLink";s:5:"false";}}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:4:"link";a:1:{i:0;a:5:{s:4:"data";s:113:"http://www.mysqlperformanceblog.com/2011/09/30/speaking-at-highload-conference-moscow-russia-training-and-hiring/";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:11:"description";a:1:{i:0;a:5:{s:4:"data";s:1640:"I&#8217;m going to be speaking on Highload++ conference October 3,4 in Moscow, Russia.  This is a great conference which gathers amazing quality of speakers from Russia and around the world and I usually learn a lot and enjoy talking to a lot of great people on this event. 
My talk is going to be about new developments in MySQL Server 5.5, 5.6, Percona Server, MariaDB and Drizzle as it relates to high volume/large scale projects.  There is a lot of really cool things happening in MySQL space recently and I would love to share those with you.

I&#8217;m also doing a training session 5th of October, which will be in depth training session based on Percona&#8217;s  Training for MySQL Developers. In fact this is a great learning experience both for MySQL Developers and DBAs and this is unique opportunity to attend this course
given in Russian.    Bring your laptop if you have one for more Hands On experience.
If you would like to do business with Percona I will be available for business development and consulting meetings on Thursday and Friday next week.  
Finally note We&#8217;re Hiring worldwide for most of positions, so if you&#8217;re interested joining Percona Team, come and talk to me.  We have both technical and non technical positions, in particular we&#8217;re looking for Sales and Business Development person in Russia.
Why so late announcement. Ah if you must know I did not know if I will be able to make it until very last minute.  My passport was stalled in the British Consulate getting visa to UK for Percona Live London  in late October. It is great we could get the documents back in time for my travel. ";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:7:"pubDate";a:1:{i:0;a:5:{s:4:"data";s:31:"Fri, 30 Sep 2011 14:28:03 +0000";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:8:"category";a:2:{i:0;a:5:{s:4:"data";s:24:"Events and Announcements";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}i:1;a:5:{s:4:"data";s:5:"MySQL";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}s:40:"http://purl.org/rss/1.0/modules/content/";a:1:{s:7:"encoded";a:1:{i:0;a:5:{s:4:"data";s:2299:"<p>I&#8217;m going to be speaking on <a href="http://www.highload.ru/">Highload++</a> conference October 3,4 in Moscow, Russia.  This is a great conference which gathers amazing quality of speakers from Russia and around the world and I usually learn a lot and enjoy talking to a lot of great people on this event. </p>
<p>My talk is going to be about new developments in MySQL Server 5.5, 5.6, Percona Server, MariaDB and Drizzle as it relates to high volume/large scale projects.  There is a lot of really cool things happening in MySQL space recently and I would love to share those with you.<br />
<span></span></p>
<p>I&#8217;m also doing a <a href="http://www.highload.ru/2011/news/13508.html">training session</a> 5th of October, which will be in depth training session based on Percona&#8217;s  <a href="http://www.percona.com/training/classes/developers/">Training for MySQL Developers</a>. In fact this is a great learning experience both for MySQL Developers and DBAs and this is unique opportunity to attend this course<br />
given in Russian.    Bring your laptop if you have one for more Hands On experience.</p>
<p>If you would like to do business with Percona I will be available for business development and consulting meetings on Thursday and Friday next week.  </p>
<p>Finally note <a href="http://www.percona.com/about-us/careers/open-positions/">We&#8217;re Hiring</a> worldwide for most of positions, so if you&#8217;re interested joining Percona Team, come and talk to me.  We have both technical and non technical positions, in particular we&#8217;re looking for <a href="http://www.percona.com/about-us/career/regional-support-sales-representative/">Sales and Business Development</a> person in Russia.</p>
<p>Why so late announcement. Ah if you must know I did not know if I will be able to make it until very last minute.  My passport was stalled in the British Consulate getting visa to UK for <a href="http://www.percona.com/live/london-2011/">Percona Live London </a> in late October. It is great we could get the documents back in time for my travel. </p><br/>PlanetMySQL Voting:
	 <a href="http://planet.mysql.com/entry/vote/?entry_id=30139&vote=1&apivote=1">Vote UP</a> /
	 <a href="http://planet.mysql.com/entry/vote/?entry_id=30139&vote=-1&apivote=1">Vote DOWN</a>";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}s:32:"http://purl.org/dc/elements/1.1/";a:1:{s:7:"creator";a:1:{i:0;a:5:{s:4:"data";s:22:"MySQL Performance Blog";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}}}i:11;a:6:{s:4:"data";s:38:"
    
    
    
    
    
    
    
  ";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";s:5:"child";a:3:{s:0:"";a:5:{s:5:"title";a:1:{i:0;a:5:{s:4:"data";s:66:"What's happened to the MySQL Storage Engine Vendor Advisory Board?";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:4:"guid";a:1:{i:0;a:5:{s:4:"data";s:59:"tag:blogger.com,1999:blog-24359421.post-1476684540827768319";s:7:"attribs";a:1:{s:0:"";a:1:{s:11:"isPermaLink";s:5:"false";}}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:4:"link";a:1:{i:0;a:5:{s:4:"data";s:76:"http://pbxt.blogspot.com/2011/09/whats-happened-to-mysql-storage-engine.html";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:11:"description";a:1:{i:0;a:5:{s:4:"data";s:604:"As most of you know, the Engine Vendor Advisory Board was setup by Oracle under terms that Oracle specified for themselves when acquiring MySQL. I am referring to point number 8, on the 10 point list that played a major role in quieting nervous Bureaucrats in Europe.PrimeBase Technologies is a member of the Board and so far we have heard nothing of a meeting this year.Has the Board been quietly disbanded?If so, what does this mean for the other promises on Oracles list...UPDATE: We are in contact with Oracle concerning this. I will keep you all posted. Hopefully it was just a communications error.";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:7:"pubDate";a:1:{i:0;a:5:{s:4:"data";s:31:"Fri, 30 Sep 2011 12:53:24 +0000";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}s:40:"http://purl.org/rss/1.0/modules/content/";a:1:{s:7:"encoded";a:1:{i:0;a:5:{s:4:"data";s:1136:"As most of you know, the Engine Vendor Advisory Board was setup by Oracle under terms that Oracle specified for themselves when acquiring MySQL. I am referring to point number 8, on the <a href="http://www.dbms2.com/2009/12/14/oracle-mysql-storage-engine/">10 point list</a> that played a major role in quieting nervous Bureaucrats in Europe.<br /><br /><a href="http://primebase.org/">PrimeBase Technologies</a> is a member of the Board and so far we have heard nothing of a meeting this year.<br /><br />Has the Board been quietly disbanded?<br /><br />If so, what does this mean for the other promises on Oracles list...<br /><br /><span>UPDATE: We are in contact with Oracle concerning this. I will keep you all posted. Hopefully it was just a communications error.</span><div><img width="1" height="1" src="https://blogger.googleusercontent.com/tracker/24359421-1476684540827768319?l=pbxt.blogspot.com" alt="" /></div><br/>PlanetMySQL Voting:
	 <a href="http://planet.mysql.com/entry/vote/?entry_id=30138&vote=1&apivote=1">Vote UP</a> /
	 <a href="http://planet.mysql.com/entry/vote/?entry_id=30138&vote=-1&apivote=1">Vote DOWN</a>";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}s:32:"http://purl.org/dc/elements/1.1/";a:1:{s:7:"creator";a:1:{i:0;a:5:{s:4:"data";s:14:"Paul McCullagh";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}}}i:12;a:6:{s:4:"data";s:58:"
    
    
    
    
    
    
    
    
    
    
    
  ";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";s:5:"child";a:3:{s:0:"";a:6:{s:5:"title";a:1:{i:0;a:5:{s:4:"data";s:47:"This week’s TGIF Percona Live ticket giveaway";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:4:"guid";a:1:{i:0;a:5:{s:4:"data";s:43:"http://www.mysqlperformanceblog.com/?p=6963";s:7:"attribs";a:1:{s:0:"";a:1:{s:11:"isPermaLink";s:5:"false";}}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:4:"link";a:1:{i:0;a:5:{s:4:"data";s:92:"http://www.mysqlperformanceblog.com/2011/09/30/this-weeks-tgif-percona-live-ticket-giveaway/";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:11:"description";a:1:{i:0;a:5:{s:4:"data";s:299:"It&#8217;s Friday again (already?) and as usual, we have a free ticket for Percona Live London. This time Tokutek is doing the honors of running the contest and selecting the winner.  Instructions for entering the contest are on their blog, at the top of my recent guest post about covering indexes.";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:7:"pubDate";a:1:{i:0;a:5:{s:4:"data";s:31:"Fri, 30 Sep 2011 10:31:24 +0000";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:8:"category";a:4:{i:0;a:5:{s:4:"data";s:24:"Events and Announcements";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}i:1;a:5:{s:4:"data";s:5:"MySQL";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}i:2;a:5:{s:4:"data";s:6:"TokuDB";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}i:3;a:5:{s:4:"data";s:7:"Tokutek";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}s:40:"http://purl.org/rss/1.0/modules/content/";a:1:{s:7:"encoded";a:1:{i:0;a:5:{s:4:"data";s:719:"<p>It&#8217;s Friday again (already?) and as usual, we have a <a href="http://www.percona.com/live/london-2011/">free ticket for Percona Live London</a>. This time <a href="http://www.tokutek.com/">Tokutek</a> is doing the honors of running the contest and selecting the winner.  Instructions for entering the contest are on their blog, at the top of <a href="http://www.tokutek.com/2011/09/are-you-forcing-mysql-to-do-twice-as-many-joins-as-necessary/">my recent guest post about covering indexes</a>.</p><br/>PlanetMySQL Voting:
	 <a href="http://planet.mysql.com/entry/vote/?entry_id=30137&vote=1&apivote=1">Vote UP</a> /
	 <a href="http://planet.mysql.com/entry/vote/?entry_id=30137&vote=-1&apivote=1">Vote DOWN</a>";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}s:32:"http://purl.org/dc/elements/1.1/";a:1:{s:7:"creator";a:1:{i:0;a:5:{s:4:"data";s:22:"MySQL Performance Blog";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}}}i:13;a:6:{s:4:"data";s:48:"
    
    
    
    
    
    
    
    
    
  ";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";s:5:"child";a:3:{s:0:"";a:6:{s:5:"title";a:1:{i:0;a:5:{s:4:"data";s:44:"The mysqlnd replication plugin 1.1.0 release";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:4:"guid";a:1:{i:0;a:5:{s:4:"data";s:32:"http://blog.ulf-wendel.de/?p=320";s:7:"attribs";a:1:{s:0:"";a:1:{s:11:"isPermaLink";s:5:"false";}}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:4:"link";a:1:{i:0;a:5:{s:4:"data";s:32:"http://blog.ulf-wendel.de/?p=320";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:11:"description";a:1:{i:0;a:5:{s:4:"data";s:2893:"
PECL/mysqlnd_ms 1.1.0 (download)  has been released (documentation)! It is a drop-in solution to add MySQL replication support to any PHP 5.3+ application using any of the PHP MySQL APIs (mysql, mysqli, PDO_MySQL) when compiled to use the mysqlnd library.  It extends the mysqlnd library by replication and load balancing funtionality. The mysqlnd library is an optional replacement for the MySQL Client Library (AKA libmysql). The mysqlnd library ships together with PHP as of version 5.3. As of PHP 5.4 the mysqlnd library is a compile time default choice for all three PHP MySQL extensions.

	
The plugin provides automatic read-write splitting,  load balancing, lazy connections, failover and a brand new filter concept. Because the plugin operates on its own layer beneath the application, no or very little application changes are needed, depending on the use case. This makes the plugin a perfect drop-in solution for existing applications.  Please, don&#8217;t miss this blog posting comparing PECL/mysqlnd_ms with an application based approach.

	
	
	Wordpress, phpMyFAQ, phpBB, &#8230; - any PHP 5.3 application
	
	
	using any of
	
	
	mysql
	mysqli
	PDO_MySQL
	
	
	compiled to use
	
	
	mysqlnd
	
	
	PECL/mysqlnd_ms plugin
	
	
	|
	
	
	MySQL Server
	
	
	
If you are new to MySQL scale-out solutions and the plugin, check out this overview presentation.

	 The mysqlnd replication and load balancing plugin 
 View more presentations from Ulf Wendel 
 
	
	Changes
	
Version 1.1.0 has been significantly re-factored and improved over the previous version. The most significant and visible change is the introduction of a filter concept. Filter take a list of servers and a query statement string as input to pick one or more servers  capable of executing the statement. Filters can be chained and you can use them like command line tools which you connect with a shell&#8217;s pipe operator: user | random. Check out the blog post Replication plugin | filter | conquer = 1.1.0 coming for details.

	
Please,  note also the significanly extended reference manual which contains a quick start, example, an introduction to the concepts and a referenced part.

	
PECL calls 1.1.0 as alpha. However, that is not the full story. The alpha is a packaging mistake. 1.1.0 is of beta quality. We have tested it extensively. For example, there number of lines of test code is equal to the number of lines of C code&#8230; After a short test out in the wild, we will anounce a production ready version. We are looking forward to hear from you about the 1.1.0 release before we do the production ready version. Just like any PHP 5.4 developer enchourages you to try 5.4 in time. BTW, the plugin also works better with 5.4, see the manual for details. Happy hacking!

	Further reading
	 The PHP mysqlnd plugin talk - plugins an alternative to MySQL Proxy 
 View more presentations from Ulf Wendel 
 
	";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:7:"pubDate";a:1:{i:0;a:5:{s:4:"data";s:31:"Fri, 30 Sep 2011 08:55:12 +0000";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:8:"category";a:2:{i:0;a:5:{s:4:"data";s:21:"PlanetMySQL (english)";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}i:1;a:5:{s:4:"data";s:19:"PlanetPHP (english)";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}s:40:"http://purl.org/rss/1.0/modules/content/";a:1:{s:7:"encoded";a:1:{i:0;a:5:{s:4:"data";s:5271:"<p>
<a href="http://pecl.php.net/package/mysqlnd_ms/1.1.0">PECL/mysqlnd_ms 1.1.0 (download) </a> has been released (<a href="http://blog.ulf-wendel.de/php.net/mysqlnd_ms">documentation</a>)! I<strong>t is a drop-in solution to add MySQL replication support to any PHP 5.3+ application using any of the PHP MySQL APIs (mysql, mysqli, PDO_MySQL) when compiled to use the mysqlnd library. </strong> It extends the mysqlnd library by replication and load balancing funtionality. The mysqlnd library is an optional replacement for the MySQL Client Library (AKA libmysql). The mysqlnd library ships together with PHP as of version 5.3. As of PHP 5.4 the mysqlnd library is a compile time default choice for all three PHP MySQL extensions.
</p>
	<p>
The plugin provides automatic <a href="http://de2.php.net/manual/en/mysqlnd-ms.rwsplit.php">read-write splitting</a>,  <a href="http://de2.php.net/manual/en/mysqlnd-ms.loadbalancing.php">load balancing</a>, <a href="http://de2.php.net/manual/en/mysqlnd-ms.pooling.php">lazy connections</a>, <a href="http://de2.php.net/manual/en/mysqlnd-ms.failover.php">failover</a> and a brand new <a href="http://de2.php.net/manual/en/mysqlnd-ms.filter.php">filter concept</a>. Because the plugin operates on its own layer beneath the application, no or very little application changes are needed, depending on the use case. This makes the plugin a perfect drop-in solution for existing applications.  Please, don&#8217;t miss this blog posting <a href="http://blog.ulf-wendel.de/?p=318">comparing PECL/mysqlnd_ms with an application based approach.</a>
</p>
	<table cellspacing="2" cellpadding="2" width="100%">
	<tr bgcolor="#f0f0f0" >
	<td colspan="3" align="center" valign="top"><strong>Wordpress, phpMyFAQ, phpBB, &#8230; - any PHP 5.3 application</strong></td>
	</tr>
	<tr>
	<td colspan="3" align="center" valign="top">using any of</td>
	</tr>
	<tr bgcolor="#fofofo">
	<td align="center" valign="top">mysql</td>
	<td align="center" valign="top">mysqli</td>
	<td align="center" valign="top">PDO_MySQL</td>
	</tr>
	<tr>
	<td colspan="3" align="center" valign="top">compiled to use</td>
	</tr>
	<tr bgcolor="#f0f0f0" >
	<td colspan="3" align="center" valign="top"><strong>mysqlnd</strong></td>
	</tr>
	<tr bgcolor="#f0f0f0" >
	<td colspan="3" align="center" valign="top"><strong>PECL/mysqlnd_ms plugin</strong></td>
	</tr>
	<tr>
	<td colspan="3" align="center" valign="top">|</td>
	</tr>
	<tr bgcolor="#f0f0f0" >
	<td colspan="3" align="center" valign="top">MySQL Server</td>
	</tr>
	</table>
	<p>
If you are new to MySQL scale-out solutions and the plugin, check out this overview presentation.
</p>
	<p><div> <strong><a href="http://www.slideshare.net/nixnutz/the-mysqlnd-replication-and-load-balancing-plugin" title="The mysqlnd replication and load balancing plugin" target="_blank">The mysqlnd replication and load balancing plugin</a></strong> <br />
<div> View more <a href="http://www.slideshare.net/" target="_blank">presentations</a> from <a href="http://www.slideshare.net/nixnutz" target="_blank">Ulf Wendel</a> </div>
 </div>
	</p>
	<h3>Changes</h3>
	<p>
Version 1.1.0 has been significantly re-factored and improved over the previous version. The most significant and visible change is the introduction of a <a href="http://de2.php.net/manual/en/mysqlnd-ms.filter.php">filter concept</a>. Filter take a list of servers and a query statement string as input to pick one or more servers  capable of executing the statement. Filters can be chained and you can use them like command line tools which you connect with a shell&#8217;s pipe operator: <code>user | random</code>. Check out the blog post <a href="http://blog.ulf-wendel.de/?p=319">Replication plugin | filter | conquer = 1.1.0 coming</a> for details.
</p>
	<p>
Please,  note also the significanly extended <a href="http://de2.php.net/manual/en/book.mysqlnd-ms.php">reference manual</a> which contains a quick start, example, an introduction to the concepts and a referenced part.
</p>
	<p>
PECL calls 1.1.0 as alpha. However, that is not the full story. The alpha is a packaging mistake. 1.1.0 is of beta quality. We have tested it extensively. For example, there number of lines of test code is equal to the number of lines of C code&#8230; After a short test out in the wild, we will anounce a production ready version. We are looking forward to hear from you about the 1.1.0 release before we do the production ready version. Just like any PHP 5.4 developer enchourages you to try 5.4 in time. BTW, the plugin also works better with 5.4, see the manual for details. Happy hacking!
</p>
	<h3>Further reading</h3>
	<p><div> <strong><a href="http://www.slideshare.net/nixnutz/the-mysql" title="The PHP mysqlnd plugin talk - plugins an alternative to MySQL Proxy" target="_blank">The PHP mysqlnd plugin talk - plugins an alternative to MySQL Proxy</a></strong> <br />
<div> View more <a href="http://www.slideshare.net/" target="_blank">presentations</a> from <a href="http://www.slideshare.net/nixnutz" target="_blank">Ulf Wendel</a> </div>
 </div>
	</p><br/>PlanetMySQL Voting:
	 <a href="http://planet.mysql.com/entry/vote/?entry_id=30136&vote=1&apivote=1">Vote UP</a> /
	 <a href="http://planet.mysql.com/entry/vote/?entry_id=30136&vote=-1&apivote=1">Vote DOWN</a>";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}s:32:"http://purl.org/dc/elements/1.1/";a:1:{s:7:"creator";a:1:{i:0;a:5:{s:4:"data";s:10:"Ulf Wendel";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}}}i:14;a:6:{s:4:"data";s:58:"
    
    
    
    
    
    
    
    
    
    
    
  ";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";s:5:"child";a:3:{s:0:"";a:6:{s:5:"title";a:1:{i:0;a:5:{s:4:"data";s:65:"New Episode of Oracle’s "Meet The MySQL Experts" Podcast Series";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:4:"guid";a:1:{i:0;a:5:{s:4:"data";s:59:"http://blogs.oracle.com/MySQL/entry/new_episode_of_oracle_s";s:7:"attribs";a:1:{s:0:"";a:1:{s:11:"isPermaLink";s:5:"false";}}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:4:"link";a:1:{i:0;a:5:{s:4:"data";s:59:"http://blogs.oracle.com/MySQL/entry/new_episode_of_oracle_s";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:11:"description";a:1:{i:0;a:5:{s:4:"data";s:500:"This month, Alex Roedling interviews Software Development
Manager Reggie Burnett about MySQL on Windows. 
    
    
  Reggie covers Connector/NET, integration with Visual Studio,
MySQL Workbench, the new MySQL installer for Windows, the new external
authentication module for Windows, and more... 
    
    
  Enjoy
the podcast! 
    
    
  And, a quick reminder that
if you’re either attending Oracle OpenWorld or in the bay area next Tuesday, we
hope to see you at the MySQL
Community Reception!";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:7:"pubDate";a:1:{i:0;a:5:{s:4:"data";s:31:"Fri, 30 Sep 2011 08:23:23 +0000";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:8:"category";a:4:{i:0;a:5:{s:4:"data";s:5:"MySQL";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}i:1;a:5:{s:4:"data";s:5:"mysql";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}i:2;a:5:{s:4:"data";s:7:"podcast";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}i:3;a:5:{s:4:"data";s:7:"windows";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}s:40:"http://purl.org/rss/1.0/modules/content/";a:1:{s:7:"encoded";a:1:{i:0;a:5:{s:4:"data";s:1100:"<p><span>This month, Alex Roedling interviews Software Development
Manager Reggie Burnett about MySQL on Windows.</span></p> 
  <p> </p> 
  <p><span> </span></p> 
  <p><span>Reggie </span><span>covers Connector/NET, integration with Visual Studio,
MySQL Workbench, the new MySQL installer for Windows, the new external
authentication module for Windows, and more...</span></p> 
  <p> </p> 
  <p><span> </span></p> 
  <p><span><a href="http://streaming.oracle.com/ebn/podcasts/media/10905745_MySQL_Windows_092911.mp3">Enjoy
the podcast!</a></span></p> 
  <p> </p> 
  <p> </p> 
  <p><span>And, a quick reminder that
if you’re either attending Oracle OpenWorld or in the bay area next Tuesday, we
hope to see you at the <a href="http://www.oracle.com/webapps/events/ns/EventsDetail.jsp?p_eventId=140041&amp;src=7314534&amp;src=7314534&amp;Act=81">MySQL
Community Reception!</a></span></p><br/>PlanetMySQL Voting:
	 <a href="http://planet.mysql.com/entry/vote/?entry_id=30135&vote=1&apivote=1">Vote UP</a> /
	 <a href="http://planet.mysql.com/entry/vote/?entry_id=30135&vote=-1&apivote=1">Vote DOWN</a>";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}s:32:"http://purl.org/dc/elements/1.1/";a:1:{s:7:"creator";a:1:{i:0;a:5:{s:4:"data";s:15:"MySQL Community";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}}}i:15;a:6:{s:4:"data";s:58:"
    
    
    
    
    
    
    
    
    
    
    
  ";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";s:5:"child";a:3:{s:0:"";a:6:{s:5:"title";a:1:{i:0;a:5:{s:4:"data";s:52:"Log Buffer #240, A Carnival of the Vanities for DBAs";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:4:"guid";a:1:{i:0;a:5:{s:4:"data";s:36:"http://www.pythian.com/news/?p=27257";s:7:"attribs";a:1:{s:0:"";a:1:{s:11:"isPermaLink";s:5:"false";}}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:4:"link";a:1:{i:0;a:5:{s:4:"data";s:85:"http://www.pythian.com/news/27257/log-buffer-240-a-carnival-of-the-vanities-for-dbas/";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:11:"description";a:1:{i:0;a:5:{s:4:"data";s:323:"With Oracle Open World in the offing, Oracle and MySQL bloggers and professionals are flocking to either San Fransisco or to their blogs to relish this annual medley of technologies under one roof. This Log Buffer Edition covers that and much more in Log Buffer #240. Oracle: Alex Gorbachev wants to show what kind of [...]";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:7:"pubDate";a:1:{i:0;a:5:{s:4:"data";s:31:"Fri, 30 Sep 2011 07:07:39 +0000";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:8:"category";a:4:{i:0;a:5:{s:4:"data";s:10:"Log Buffer";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}i:1;a:5:{s:4:"data";s:5:"MySQL";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}i:2;a:5:{s:4:"data";s:6:"Oracle";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}i:3;a:5:{s:4:"data";s:10:"SQL Server";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}s:40:"http://purl.org/rss/1.0/modules/content/";a:1:{s:7:"encoded";a:1:{i:0;a:5:{s:4:"data";s:536:"With Oracle Open World in the offing, Oracle and MySQL bloggers and professionals are flocking to either San Fransisco or to their blogs to relish this annual medley of technologies under one roof. This Log Buffer Edition covers that and much more in Log Buffer #240. Oracle: Alex Gorbachev wants to show what kind of [...]<br/>PlanetMySQL Voting:
	 <a href="http://planet.mysql.com/entry/vote/?entry_id=30134&vote=1&apivote=1">Vote UP</a> /
	 <a href="http://planet.mysql.com/entry/vote/?entry_id=30134&vote=-1&apivote=1">Vote DOWN</a>";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}s:32:"http://purl.org/dc/elements/1.1/";a:1:{s:7:"creator";a:1:{i:0;a:5:{s:4:"data";s:17:"The Pythian Group";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}}}i:16;a:6:{s:4:"data";s:63:"
    
    
    
    
    
    
    
    
    
    
    
    
  ";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";s:5:"child";a:3:{s:0:"";a:6:{s:5:"title";a:1:{i:0;a:5:{s:4:"data";s:55:"Quick Installation of Replication from MySQL to MongoDB";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:4:"guid";a:1:{i:0;a:5:{s:4:"data";s:69:"tag:blogger.com,1999:blog-768233104244702633.post-8881432212802028854";s:7:"attribs";a:1:{s:0:"";a:1:{s:11:"isPermaLink";s:5:"false";}}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:4:"link";a:1:{i:0;a:5:{s:4:"data";s:86:"http://scale-out-blog.blogspot.com/2011/09/quick-installation-of-replication-from.html";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:11:"description";a:1:{i:0;a:5:{s:4:"data";s:5359:"Proof-of-concept Tungsten support for&nbsp;MongoDB arrived last May, when I posted about our hackathon effort to replicate from MySQL to MongoDB. &nbsp;That code then lay fallow for a few months while we worked on other things like parallel replication, but the period of idleness has ended. &nbsp;Earlier this week I checked in fixes to Tungsten Replicator to add one-line installation support for MongoDB slaves.MySQL to MongoDB replication will be officially supported in the Tungsten Replicator 2.0.5 build, which will be available in a few weeks. &nbsp;However, you can try out MySQL to MongoDB replication right now. &nbsp;Here is a quick how-to using my lab hosts logos1 for the MySQL master and logos2 for the MongoDB slave.&nbsp;1. Download the latest development build of Tungsten Replicator. &nbsp; See the nightly builds page for S3 URLs.$ cd /tmp$ wget --no-check-certificate https://s3.amazonaws.com/files.continuent.com/builds/nightly/tungsten-2.0-snapshots/tungsten-replicator-2.0.5-332.tar.gz2. Untar and cd into the release.&nbsp;$ tar -xzf tungsten-replicator-2.0.5-332.tar.gz$ cd tungsten-replicator-2.0.5-3323. Install a MySQL master replicator on a host that has MySQL installed and is configured to use row replication, i.e. binlog_format=row. &nbsp;Note that you need to enable the colnames and pkey filters. &nbsp;These add column names to row updates and eliminate update and delete query columns other than those corresponding to the primary key, respectively. Last but not least, ensure strings are converted to Unicode rather than transported as raw bytes, which we have to do in homogeneous MySQL replication to finesse character set issues. &nbsp;$ tools/tungsten-installer --master-slave -a \&nbsp;&nbsp;--datasource-type=mysql \&nbsp;&nbsp;--master-host=logos1 &nbsp;\&nbsp;&nbsp;--datasource-user=tungsten &nbsp;\&nbsp;&nbsp;--datasource-password=secret &nbsp;\&nbsp;&nbsp;--service-name=mongodb \&nbsp;&nbsp;--home-directory=/opt/continuent \&nbsp;&nbsp;--cluster-hosts=logos1 \&nbsp;&nbsp;--mysql-use-bytes-for-string=false \&nbsp;&nbsp;--svc-extractor-filters=colnames,pkey \&nbsp;&nbsp;--svc-parallelization-type=disk --start-and-report4. Finally, install a MongoDB slave. &nbsp;Before you do this, ensure mongod 1.8.x is up and running on the host as described in the original blog post on MySQL to MongoDB replication. &nbsp; My mongod is running on the default port of 27017, so there is no --slave-port option necessary.&nbsp;$ tools/tungsten-installer --master-slave -a \&nbsp;&nbsp;--datasource-type=mongodb \&nbsp;&nbsp;--master-host=logos1 &nbsp;\&nbsp;&nbsp;--datasource-user=tungsten &nbsp;\&nbsp;&nbsp;--datasource-password=secret &nbsp;\&nbsp;&nbsp;--service-name=mongodb \&nbsp;&nbsp;--home-directory=/opt/continuent \&nbsp;&nbsp;--cluster-hosts=logos2 \&nbsp;&nbsp;--skip-validation-check=InstallerMasterSlaveCheck \&nbsp;&nbsp;--svc-parallelization-type=disk --start-and-reportThat's it. &nbsp;You test replication by logging into MySQL on the master, adding a row to a table, and confirming it reaches the slave. &nbsp; First the SQL commands:&nbsp;$ mysql -utungsten -psecret -hlogos1 testWelcome to the MySQL monitor. &nbsp;Commands end with ; or \g....mysql&gt; create table bar(id1 int primary key, data varchar(30));Query OK, 0 rows affected (0.15 sec)mysql&gt; insert into bar values(1, 'hello from mysql');Query OK, 1 row affected (0.00 sec)Now check the contents of MongoDB: &nbsp;$ mongo logos2:27017/testMongoDB shell version: 1.8.3connecting to: logos2:27017/testsystem.indexes&gt; db.bar.find(){ "_id" : ObjectId("4e85269484aef8fcae4b0010"), "id1" : "1", "data" : "hello from mysql" }Voila! &nbsp;We may still have bugs, but at least MySQL to MongoDB replication is now easy to install. &nbsp;&nbsp;Speaking of bugs, I have been fixing problems as they pop up in testing. &nbsp;The most significant improvement is a feature I call auto-indexing on MongoDB slaves. &nbsp;MongoDB materializes collections automatically when you put in the first update, but it does nothing about indexes. &nbsp;My first TPC-B runs processed less than 100 transactions per second on the MongoDB slave, which is pretty pathetic.&nbsp;The bottleneck is due to MongoDB update operations of the form 'db.account.findAndModify(myquery,mydoc)'. &nbsp;You must index properties used in the query or things will be very slow. &nbsp;&nbsp;Auto-indexing cures the update bottleneck by ensuring that there is an index corresponding to the SQL primary key for any table that we update. &nbsp;MongoDB makes this logic very easy to implement--you can issue a command like 'db.account.ensureIndex({account_id:1})' to create an index. &nbsp;What's really cool is that MongoDB will do this even if the collection is not yet materialized--e.g., before you load data. &nbsp; It seems to be another example of how MongoDB collections materialize whenever you refer to them, which is a very useful feature. &nbsp;TPC-B updates into MongoDB are now running at over 1000 transactions per second on my test hosts. I plan to fix more bugs and goose up performance still further over the next few weeks. &nbsp;Through MongoDB we are unlearning assumptions within Tungsten that are necessary to work with non-relational databases. &nbsp;It's great preparation for big game hunting next year: &nbsp;replication to HBase and Cassandra. &nbsp;";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:7:"pubDate";a:1:{i:0;a:5:{s:4:"data";s:31:"Fri, 30 Sep 2011 04:57:24 +0000";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:8:"category";a:5:{i:0;a:5:{s:4:"data";s:5:"MySQL";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}i:1;a:5:{s:4:"data";s:11:"Replication";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}i:2;a:5:{s:4:"data";s:7:"MongoDB";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}i:3;a:5:{s:4:"data";s:5:"NoSQL";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}i:4;a:5:{s:4:"data";s:8:"Tungsten";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}s:40:"http://purl.org/rss/1.0/modules/content/";a:1:{s:7:"encoded";a:1:{i:0;a:5:{s:4:"data";s:7726:"Proof-of-concept <a href="http://code.google.com/p/tungsten-replicator/">Tungsten</a> support for&nbsp;<a href="http://www.mongodb.org/">MongoDB</a> arrived last May, when I posted about our <a href="http://scale-out-blog.blogspot.com/2011/05/introducing-mysql-to-mongodb.html">hackathon effort to replicate from MySQL to MongoDB</a>. &nbsp;That code then lay fallow for a few months while we worked on other things like parallel replication, but the period of idleness has ended. &nbsp;Earlier this week I checked in fixes to Tungsten Replicator to add <a href="http://code.google.com/p/tungsten-replicator/issues/detail?id=229">one-line installation support for MongoDB slaves</a>.<br /><div><br /></div><div>MySQL to MongoDB replication will be officially supported in the Tungsten Replicator 2.0.5 build, which will be available in a few weeks. &nbsp;However, you can try out MySQL to MongoDB replication right now. &nbsp;Here is a quick how-to using my lab hosts logos1 for the MySQL master and logos2 for the MongoDB slave.&nbsp;</div><div><br /></div><div>1. Download the latest development build of Tungsten Replicator. &nbsp; See the <a href="http://s3.amazonaws.com/files.continuent.com/builds/nightly/tungsten-2.0-snapshots/index.html">nightly builds page</a> for S3 URLs.</div><div><br /></div><div><span>$ cd /tmp</span></div><div><span>$ wget --no-check-certificate https://s3.amazonaws.com/files.continuent.com/builds/nightly/tungsten-2.0-snapshots/tungsten-replicator-2.0.5-332.tar.gz</span></div><div><br /></div><div>2. Untar and cd into the release.&nbsp;</div><div><br /></div><div><div><span>$ tar -xzf tungsten-replicator-2.0.5-332.tar.gz</span></div></div><div><div><span>$ cd tungsten-replicator-2.0.5-332</span></div></div><div><br /></div><div>3. Install a MySQL master replicator on a host that has MySQL installed and is configured to use row replication, i.e. <span>binlog_format=row</span>. &nbsp;Note that you need to enable the colnames and pkey filters. &nbsp;These add column names to row updates and eliminate update and delete query columns other than those corresponding to the primary key, respectively. Last but not least, ensure strings are converted to Unicode rather than transported as raw bytes, which we have to do in homogeneous MySQL replication to finesse character set issues. &nbsp;</div><div><br /></div><div><div><span>$ tools/tungsten-installer --master-slave -a \</span></div><div><span>&nbsp;&nbsp;--datasource-type=mysql \</span></div><div><span>&nbsp;&nbsp;--master-host=logos1 &nbsp;\</span></div><div><span>&nbsp;&nbsp;--datasource-user=tungsten &nbsp;\</span></div><div><span>&nbsp;&nbsp;--datasource-password=secret &nbsp;\</span></div><div><span>&nbsp;&nbsp;--service-name=mongodb \</span></div><div><span>&nbsp;&nbsp;--home-directory=/opt/continuent \</span></div><div><span>&nbsp;&nbsp;--cluster-hosts=logos1 \</span></div><div><span>&nbsp;&nbsp;--mysql-use-bytes-for-string=false \</span></div><div><span>&nbsp;&nbsp;--svc-extractor-filters=colnames,pkey \</span></div><div><span>&nbsp;&nbsp;--svc-parallelization-type=disk --start-and-report</span></div></div><div><br /></div><div>4. Finally, install a MongoDB slave. &nbsp;Before you do this, ensure mongod 1.8.x is up and running on the host as described in the <a href="http://scale-out-blog.blogspot.com/2011/05/introducing-mysql-to-mongodb.html">original blog post</a> on MySQL to MongoDB replication. &nbsp; My mongod is running on the default port of 27017, so there is no --slave-port option necessary.&nbsp;</div><div><br /></div><div><div><span>$ tools/tungsten-installer --master-slave -a \</span></div><div><span>&nbsp;&nbsp;--datasource-type=mongodb \</span></div><div><span>&nbsp;&nbsp;--master-host=logos1 &nbsp;\</span></div><div><span>&nbsp;&nbsp;--datasource-user=tungsten &nbsp;\</span></div><div><span>&nbsp;&nbsp;--datasource-password=secret &nbsp;\</span></div><div><span>&nbsp;&nbsp;--service-name=mongodb \</span></div><div><span>&nbsp;&nbsp;--home-directory=/opt/continuent \</span></div><div><span>&nbsp;&nbsp;--cluster-hosts=logos2 \</span></div><div><span>&nbsp;&nbsp;--skip-validation-check=InstallerMasterSlaveCheck \</span></div><div><span>&nbsp;&nbsp;--svc-parallelization-type=disk --start-and-report</span></div></div><div><br /></div><div>That's it. &nbsp;You test replication by logging into MySQL on the master, adding a row to a table, and confirming it reaches the slave. &nbsp; First the SQL commands:&nbsp;</div><div><br /></div><div><div><span>$ mysql -utungsten -psecret -hlogos1 test</span></div><div><span>Welcome to the MySQL monitor. &nbsp;Commands end with ; or \g.</span></div><div><span>...</span></div><div><span>mysql&gt; create table bar(id1 int primary key, data varchar(30));</span></div><div><span>Query OK, 0 rows affected (0.15 sec)</span></div><div><span><br /></span></div><div><span>mysql&gt; insert into bar values(1, 'hello from mysql');</span></div><div><span>Query OK, 1 row affected (0.00 sec)</span></div><div><br /></div><div>Now check the contents of MongoDB: &nbsp;</div></div><div><br /></div><div><div><span>$ mongo logos2:27017/test</span></div><div><span>MongoDB shell version: 1.8.3</span></div><div><span>connecting to: logos2:27017/test</span></div><div><span>system.indexes</span></div><div><span>&gt; db.bar.find()</span></div><div><span>{ "_id" : ObjectId("4e85269484aef8fcae4b0010"), "id1" : "1", "data" : "hello from mysql" }</span></div><div><br /></div></div><div>Voila! &nbsp;We may still have bugs, but at least MySQL to MongoDB replication is now easy to install. &nbsp;&nbsp;</div><div><br /></div><div>Speaking of bugs, I have been fixing problems as they pop up in testing. &nbsp;The most significant improvement is a feature I call auto-indexing on MongoDB slaves. &nbsp;MongoDB materializes collections automatically when you put in the first update, but it does nothing about indexes. &nbsp;My first TPC-B runs processed less than 100 transactions per second on the MongoDB slave, which is pretty pathetic.&nbsp;The bottleneck is due to MongoDB update operations of the form 'db.account.findAndModify(myquery,mydoc)'. &nbsp;You must index properties used in the query or things will be very slow. &nbsp;&nbsp;</div><div><br /></div><div>Auto-indexing cures the update bottleneck by ensuring that there is an index corresponding to the SQL primary key for any table that we update. &nbsp;MongoDB makes this logic very easy to implement--you can issue a command like 'db.account.ensureIndex({account_id:1})' to create an index. &nbsp;What's really cool is that MongoDB will do this even if the collection is not yet materialized--e.g., before you load data. &nbsp; It seems to be another example of how MongoDB collections materialize whenever you refer to them, which is a very useful feature. &nbsp;</div><div><br /></div><div>TPC-B updates into MongoDB are now running at over 1000 transactions per second on my test hosts. I plan to fix more bugs and goose up performance still further over the next few weeks. &nbsp;Through MongoDB we are unlearning assumptions within Tungsten that are necessary to work with non-relational databases. &nbsp;It's great preparation for big game hunting next year: &nbsp;replication to <a href="http://hbase.apache.org/">HBase</a> and <a href="http://cassandra.apache.org/">Cassandra</a>. &nbsp;</div><div><img width="1" height="1" src="https://blogger.googleusercontent.com/tracker/768233104244702633-8881432212802028854?l=scale-out-blog.blogspot.com" alt="" /></div><br/>PlanetMySQL Voting:
	 <a href="http://planet.mysql.com/entry/vote/?entry_id=30133&vote=1&apivote=1">Vote UP</a> /
	 <a href="http://planet.mysql.com/entry/vote/?entry_id=30133&vote=-1&apivote=1">Vote DOWN</a>";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}s:32:"http://purl.org/dc/elements/1.1/";a:1:{s:7:"creator";a:1:{i:0;a:5:{s:4:"data";s:13:"Robert Hodges";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}}}i:17;a:6:{s:4:"data";s:73:"
    
    
    
    
    
    
    
    
    
    
    
    
    
    
  ";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";s:5:"child";a:3:{s:0:"";a:6:{s:5:"title";a:1:{i:0;a:5:{s:4:"data";s:28:"MySQL Query Analyzer and PHP";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:4:"guid";a:1:{i:0;a:5:{s:4:"data";s:48:"http://schlueters.de/blog/archives/150-guid.html";s:7:"attribs";a:1:{s:0:"";a:1:{s:11:"isPermaLink";s:5:"false";}}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:4:"link";a:1:{i:0;a:5:{s:4:"data";s:72:"http://schlueters.de/blog/archives/150-MySQL-Query-Analyzer-and-PHP.html";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:11:"description";a:1:{i:0;a:5:{s:4:"data";s:1755:"Today we've released a few things for PHP and MySQL users: One is the first (and probably only) beta of the mysqlnd_ms plugin for MySQL Replication and Load Balancing support and the first GA version of a PHP plugin for the Query Analyzer of the MySQL Enterprise Monitor. 
Ulf blogged a lot about mysqlnd_ms, so I don't have to repeat him here. what I want to talk about is the other one. So what is that about? 
When running a PHP-based application with MySQL it is often quite interesting to see what actually happens on the database sever. Besides monitoring of the system load etc. it is often interesting to see what queries are actually executed and which of them are expensive. A part of MySQL Enterprise Monitor is the MySQL Query Analyzer which helps answering these questions. 
Traditionally the MySQL Query Analyzer&#160; was based on MySQL Proxy which is configured to sit between the application and the MySQL server and collects all relevant data. 
Now in the new 2.3.7 release of the MySQL Enterprise Monitor we have enhanced this for PHP users: We now provide a plugin which can be loaded in PHP and which will provide data for the Query Analyzer directly from within PHP. 
  
By that we don't only reduce the latency for the data collection but we can provide more information about the current environment. 
  
In the query detail window you now don't only see general query statistics but also a stack trace from the application, so you can immediately identify the part of the application which should be improved. So above you can see a few screenshots I made from this server showing some insights of this blog where I was testing the plugin. 
If you want to learn more checkout the documentation and product pages. Hope you like it!";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:7:"pubDate";a:1:{i:0;a:5:{s:4:"data";s:31:"Thu, 29 Sep 2011 22:26:24 +0000";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:8:"category";a:7:{i:0;a:5:{s:4:"data";s:5:"MySQL";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}i:1;a:5:{s:4:"data";s:3:"PHP";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}i:2;a:5:{s:4:"data";s:3:"cta";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}i:3;a:5:{s:4:"data";s:5:"mysql";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}i:4;a:5:{s:4:"data";s:7:"mysqlnd";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}i:5;a:5:{s:4:"data";s:15:"mysqlnd plugins";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}i:6;a:5:{s:4:"data";s:14:"query analyzer";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}s:40:"http://purl.org/rss/1.0/modules/content/";a:1:{s:7:"encoded";a:1:{i:0;a:5:{s:4:"data";s:2774:"<p>Today we've released a few things for PHP and MySQL users: One is the first (and probably only) beta of the <a href="http://pecl.php.net/mysqlnd_ms">mysqlnd_ms plugin</a> for MySQL Replication and Load Balancing support and the first GA version of a PHP plugin for the Query Analyzer of the MySQL Enterprise Monitor.</p> 
<p>Ulf <a href="http://blog.ulf-wendel.de/">blogged a lot</a> about mysqlnd_ms, so I don't have to repeat him here. what I want to talk about is the other one. So what is that about?<br /></p> 
<p>When running a PHP-based application with MySQL it is often quite interesting to see what actually happens on the database sever. Besides monitoring of the system load etc. it is often interesting to see what queries are actually executed and which of them are expensive. A part of MySQL Enterprise Monitor is the <a href="http://mysql.com/products/enterprise/query.html">MySQL Query Analyzer</a> which helps answering these questions.</p> 
<p>Traditionally the MySQL Query Analyzer&#160; was based on MySQL Proxy which is configured to sit between the application and the MySQL server and collects all relevant data.<br /></p> 
<p>Now in the new <a href="http://blogs.oracle.com/mysqlenterprise/entry/mysql_enterprise_monitor_2_33">2.3.7 release</a> of the MySQL Enterprise Monitor we have enhanced this for PHP users: We now provide a plugin which can be loaded in PHP and which will provide data for the Query Analyzer directly from within PHP.</p> 
<p> <!-- s9ymdb:67 --><img width="1053" height="690" src="http://schlueters.de/blog/uploads/screenshots/mem_quan_php1.png" class="serendipity_image_center" style="max-width:100%" /></p> 
<p>By that we don't only reduce the latency for the data collection but we can provide more information about the current environment.</p> 
<p><!-- s9ymdb:68 --><img width="837" height="694" src="http://schlueters.de/blog/uploads/screenshots/mem_quan_php2.png" class="serendipity_image_center" /> </p> 
<p>In the query detail window you now don't only see general query statistics but also a stack trace from the application, so you can immediately identify the part of the application which should be improved. So above you can see a few screenshots I made from this server showing some insights of this blog where I was testing the plugin.</p> 
<p>If you want to learn more checkout the <a href="http://dev.mysql.com/doc/mysql-monitor/2.3/en/mem-qanal-using-cphp.html">documentation</a> and <a href="http://mysql.com/products/enterprise/monitor.html">product pages</a>. Hope you like it!<br /></p><br/>PlanetMySQL Voting:
	 <a href="http://planet.mysql.com/entry/vote/?entry_id=30132&vote=1&apivote=1">Vote UP</a> /
	 <a href="http://planet.mysql.com/entry/vote/?entry_id=30132&vote=-1&apivote=1">Vote DOWN</a>";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}s:32:"http://purl.org/dc/elements/1.1/";a:1:{s:7:"creator";a:1:{i:0;a:5:{s:4:"data";s:22:"Johannes Schl&uuml;ter";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}}}i:18;a:6:{s:4:"data";s:43:"
    
    
    
    
    
    
    
    
  ";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";s:5:"child";a:3:{s:0:"";a:6:{s:5:"title";a:1:{i:0;a:5:{s:4:"data";s:41:"MySQL Enterprise Monitor 2.3.7 Is Now GA!";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:4:"guid";a:1:{i:0;a:5:{s:4:"data";s:75:"http://blogs.oracle.com/mysqlenterprise/entry/mysql_enterprise_monitor_2_33";s:7:"attribs";a:1:{s:0:"";a:1:{s:11:"isPermaLink";s:5:"false";}}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:4:"link";a:1:{i:0;a:5:{s:4:"data";s:75:"http://blogs.oracle.com/mysqlenterprise/entry/mysql_enterprise_monitor_2_33";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:11:"description";a:1:{i:0;a:5:{s:4:"data";s:1392:"
    We are pleased to announce that MySQL Enterprise Monitor 2.3.7 is now available for download on the My Oracle Support (MOS) web site as our latest GA release. It will also be available via Oracle E-Delivery in approximately 1 week. This is a maintenance release that fixes a number of bugs and includes the following new features: 
    
      MySQL Enterprise Monitor Plugins for PHP that allow your PHP applications to provide data to the Query Analyzer so you can monitor and analyze the SQL statements executed by those applications 
      Support for PAM authentication in MySQL Server 5.5.16 
      New graphs and rules for the Thread Pool plugin 
    
    You can find more information on the contents of this release in the changelog:http://dev.mysql.com/doc/mysql-monitor/2.3/en/mem-news-2-3-7.htmlYou will find binaries for the new release on My Oracle Support:https://support.oracle.comChoose the &quot;Patches &amp; Updates&quot; tab, and then use the &quot;Product or Family (Advanced Search)&quot; feature.And from Oracle E-Delivery (in about 1 week):http://edelivery.oracle.com/Choose &quot;MySQL Database&quot; as the Product Pack and you will find the Enterprise Monitor along with other MySQL products.If you haven't looked at 2.3 recently, please do so now and let us know what you think.
    Thanks and Happy Monitoring!- The MySQL Enterprise Tools Development Team
  ";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:7:"pubDate";a:1:{i:0;a:5:{s:4:"data";s:31:"Thu, 29 Sep 2011 20:52:23 +0000";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:8:"category";a:1:{i:0;a:5:{s:4:"data";s:12:"New Releases";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}s:40:"http://purl.org/rss/1.0/modules/content/";a:1:{s:7:"encoded";a:1:{i:0;a:5:{s:4:"data";s:2119:"<div>
    <p>We are pleased to announce that MySQL Enterprise Monitor 2.3.7 is now available for download on the My Oracle Support (MOS) web site as our latest GA release. It will also be available via Oracle E-Delivery in approximately 1 week. This is a maintenance release that fixes a number of bugs and includes the following new features: </p>
    <ul>
      <li><a href="http://dev.mysql.com/doc/mysql-monitor/2.3/en/mem-qanal-using-cphp.html">MySQL Enterprise Monitor Plugins for PHP</a> that allow your PHP applications to provide data to the <a href="http://dev.mysql.com/doc/mysql-monitor/2.3/en/mem-qanal-using.html">Query Analyzer</a> so you can monitor and analyze the SQL statements executed by those applications </li>
      <li>Support for PAM authentication in MySQL Server 5.5.16 </li>
      <li>New graphs and rules for the Thread Pool plugin </li>
    </ul>
    <p>You can find more information on the contents of this release in the changelog:<br /><br /><a href="http://dev.mysql.com/doc/mysql-monitor/2.3/en/mem-news-2-3-7.html">http://dev.mysql.com/doc/mysql-monitor/2.3/en/mem-news-2-3-7.html</a><br /><br />You will find binaries for the new release on My Oracle Support:<br /><br /><a href="https://support.oracle.com/">https://support.oracle.com</a><br /><br />Choose the &quot;Patches &amp; Updates&quot; tab, and then use the &quot;Product or Family (Advanced Search)&quot; feature.<br /><br />And from Oracle E-Delivery (in about 1 week):<br /><br /><a href="http://edelivery.oracle.com/">http://edelivery.oracle.com/</a><br /><br />Choose &quot;MySQL Database&quot; as the Product Pack and you will find the Enterprise Monitor along with other MySQL products.<br /><br />If you haven't looked at 2.3 recently, please do so now and let us know what you think.<br /></p>
    <p>Thanks and Happy Monitoring!<br /><br />- The MySQL Enterprise Tools Development Team</p>
  </div><br/>PlanetMySQL Voting:
	 <a href="http://planet.mysql.com/entry/vote/?entry_id=30126&vote=1&apivote=1">Vote UP</a> /
	 <a href="http://planet.mysql.com/entry/vote/?entry_id=30126&vote=-1&apivote=1">Vote DOWN</a>";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}s:32:"http://purl.org/dc/elements/1.1/";a:1:{s:7:"creator";a:1:{i:0;a:5:{s:4:"data";s:10:"Mark Leith";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}}}i:19;a:6:{s:4:"data";s:43:"
    
    
    
    
    
    
    
    
  ";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";s:5:"child";a:3:{s:0:"";a:6:{s:5:"title";a:1:{i:0;a:5:{s:4:"data";s:52:"MySQL Enterprise Monitor Advisors Version 2.3.7.2104";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:4:"guid";a:1:{i:0;a:5:{s:4:"data";s:88:"http://blogs.oracle.com/mysqlenterprise/entry/mysql_enterprise_monitor_advisors_version3";s:7:"attribs";a:1:{s:0:"";a:1:{s:11:"isPermaLink";s:5:"false";}}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:4:"link";a:1:{i:0;a:5:{s:4:"data";s:88:"http://blogs.oracle.com/mysqlenterprise/entry/mysql_enterprise_monitor_advisors_version3";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:11:"description";a:1:{i:0;a:5:{s:4:"data";s:77:"MySQL Enterprise Monitor Advisors version 2.3.7.2104 is now available.&nbsp; ";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:7:"pubDate";a:1:{i:0;a:5:{s:4:"data";s:31:"Thu, 29 Sep 2011 20:50:36 +0000";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:8:"category";a:1:{i:0;a:5:{s:4:"data";s:12:"New Releases";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}s:40:"http://purl.org/rss/1.0/modules/content/";a:1:{s:7:"encoded";a:1:{i:0;a:5:{s:4:"data";s:569:"<p>MySQL Enterprise Monitor Advisors version 2.3.7.2104 is now available.</p>&nbsp;<!-- mem-advisor-bundle-version: 2.3.7.2104 --> <!-- mem-advisor-url: https://updates.oracle.com/Orion/Services/download/p13041370_23_Generic.zip?aru=14147605&patch_file=p13041370_23_Generic.zip --><!-- mem-advisor-bundle-filename: AdvisorScript-Platinum-2.3.7.2104.jar --><br/>PlanetMySQL Voting:
	 <a href="http://planet.mysql.com/entry/vote/?entry_id=30127&vote=1&apivote=1">Vote UP</a> /
	 <a href="http://planet.mysql.com/entry/vote/?entry_id=30127&vote=-1&apivote=1">Vote DOWN</a>";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}s:32:"http://purl.org/dc/elements/1.1/";a:1:{s:7:"creator";a:1:{i:0;a:5:{s:4:"data";s:10:"Mark Leith";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}}}i:20;a:6:{s:4:"data";s:43:"
    
    
    
    
    
    
    
    
  ";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";s:5:"child";a:3:{s:0:"";a:6:{s:5:"title";a:1:{i:0;a:5:{s:4:"data";s:51:"Spoon full of Sugar, Oracle and the Open Core Model";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:4:"guid";a:1:{i:0;a:5:{s:4:"data";s:39:"http://krow.livejournal.com/702261.html";s:7:"attribs";a:1:{s:0:"";a:1:{s:11:"isPermaLink";s:5:"false";}}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:4:"link";a:1:{i:0;a:5:{s:4:"data";s:39:"http://krow.livejournal.com/702261.html";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:11:"description";a:1:{i:0;a:5:{s:4:"data";s:2880:"(Reposted from blog.krow.net)From the 451 Group:“MySQL flirted with the open core licensing model in early 2008 with plans to introduce new features into Enterprise Edition that would not be available under an open source license.”MySQL didn’t flirt with, it was going to do it. Why? Because we were asking the question, “how do we pull in customers to make more money”. MySQL was going to put the new backup API, which never materialized, into an Enterprise branch. It was a lousy idea for the following reasons:1) There was no internal API in the server for this, so the engineering was going to be messy and expensive. 2) We didn’t own the technology that was needed to even do this (Oracle owned Hot Backup)3) Percona has an awesome tool for doing this, that is Open Source (http://www.percona.com/software/percona-xtrabackup/)4) Backup is a core feature everyone needs, and some of those “everyones” are the folks who manufacture tools that you want to have work with your product.5) When we were going to announce it, we hadn’t even written it/completed it. It was vaporware. It would have been a horrible move, and would have caused Chaos for no particular reason. It was dead on arrival, and when it was to be announced as a strategy since it didn’t even exist. Lets look at Oracle’s move. Both the authentication module, and the Thread Pool come into the MySQL server as plugins. If the engineering of the MySQL server continues in the current direction (which is somewhat flattering to Drizzle I might add), then they are on a good path (if I can find my blog entry where I talked about this as a good strategy, I’ll link back to it here). Much of the hubbub around Open Source, Community, etc, in regards to this are a bit inflated I feel. They haven’t touched the core product, and they are creating API. Are they possibly hurting themselves in regards to ubiquity?Doubtful. Would I pick those two pieces? No, but they aren’t the last two I would pick either.  If Sun had continued as a company? Something similar to this would have been done as well.From an engineering and usage stand point?The first person who sniffs at the authentication mechanism who knows anything about security is going to freak.The Thread Pool can only be used by a very limited number of users (and there are some restrictions on what can be done in the server while it is in use). MySQL’s IO was never designed for the Thread Pool, and there is a lot of engineering work that would need to be done to make it work. Still? People will use both, and I am betting some customers will want them badly enough to pay. If they are really badly needed? Well then someone will write an open source version of both.I have no great love of Oracle, but this is really not a big deal at all. The original GPL’ing of the Public Domain/LGPL clients was a much bigger deal.";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:7:"pubDate";a:1:{i:0;a:5:{s:4:"data";s:31:"Thu, 29 Sep 2011 20:25:26 +0000";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:8:"category";a:1:{i:0;a:5:{s:4:"data";s:5:"mysql";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}s:40:"http://purl.org/rss/1.0/modules/content/";a:1:{s:7:"encoded";a:1:{i:0;a:5:{s:4:"data";s:3481:"(<a href="http://blog.krow.net/post/10816998102">Reposted from blog.krow.net</a>)<br /><br />From the 451 Group:<br />“MySQL flirted with the open core licensing model in early 2008 with plans to introduce new features into Enterprise Edition that would not be available under an open source license.”<br /><br />MySQL didn’t flirt with, it was going to do it. <br /><br />Why? Because we were asking the question, “how do we pull in customers to make more money”. <br /><br />MySQL was going to put the new backup API, which never materialized, into an Enterprise branch. <br /><br />It was a lousy idea for the following reasons:<br /><br />1) There was no internal API in the server for this, so the engineering was going to be messy and expensive. <br /><br />2) We didn’t own the technology that was needed to even do this (Oracle owned Hot Backup)<br /><br />3) Percona has an awesome tool for doing this, that is Open Source (<a href="http://www.percona.com/software/percona-xtrabackup/">http://www.percona.com/software/percona-xtrabackup/</a>)<br /><br />4) Backup is a core feature everyone needs, and some of those “everyones” are the folks who manufacture tools that you want to have work with your product.<br /><br />5) When we were going to announce it, we hadn’t even written it/completed it. It was vaporware. <br /><br />It would have been a horrible move, and would have caused Chaos for no particular reason. It was dead on arrival, and when it was to be announced as a strategy since it didn’t even exist. <br /><br />Lets look at Oracle’s move. Both the authentication module, and the Thread Pool come into the MySQL server as plugins. If the engineering of the MySQL server continues in the current direction (which is somewhat flattering to Drizzle I might add), then they are on a good path (if I can find my blog entry where I talked about this as a good strategy, I’ll link back to it here). <br /><br />Much of the hubbub around Open Source, Community, etc, in regards to this are a bit inflated I feel. They haven’t touched the core product, and they are creating API. Are they possibly hurting themselves in regards to ubiquity?<br /><br />Doubtful. <br /><br />Would I pick those two pieces? No, but they aren’t the last two I would pick either.  If Sun had continued as a company? <br /><br />Something similar to this would have been done as well.<br /><br />From an engineering and usage stand point?<br /><br />The first person who sniffs at the authentication mechanism who knows anything about security is going to freak.<br /><br />The Thread Pool can only be used by a very limited number of users (and there are some restrictions on what can be done in the server while it is in use). MySQL’s IO was never designed for the Thread Pool, and there is a lot of engineering work that would need to be done to make it work. <br /><br />Still? People will use both, and I am betting some customers will want them badly enough to pay. <br /><br />If they are really badly needed? Well then someone will write an open source version of both.<br /><br />I have no great love of Oracle, but this is really not a big deal at all. The original GPL’ing of the Public Domain/LGPL clients was a much bigger deal.<br/>PlanetMySQL Voting:
	 <a href="http://planet.mysql.com/entry/vote/?entry_id=30125&vote=1&apivote=1">Vote UP</a> /
	 <a href="http://planet.mysql.com/entry/vote/?entry_id=30125&vote=-1&apivote=1">Vote DOWN</a>";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}s:32:"http://purl.org/dc/elements/1.1/";a:1:{s:7:"creator";a:1:{i:0;a:5:{s:4:"data";s:10:"Brian Aker";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}}}i:21;a:6:{s:4:"data";s:98:"
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
  ";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";s:5:"child";a:3:{s:0:"";a:6:{s:5:"title";a:1:{i:0;a:5:{s:4:"data";s:61:"Are You Forcing MySQL to Do Twice as Many JOINs as Necessary?";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:4:"guid";a:1:{i:0;a:5:{s:4:"data";s:30:"http://www.tokutek.com/?p=3306";s:7:"attribs";a:1:{s:0:"";a:1:{s:11:"isPermaLink";s:5:"false";}}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:4:"link";a:1:{i:0;a:5:{s:4:"data";s:92:"http://www.tokutek.com/2011/09/are-you-forcing-mysql-to-do-twice-as-many-joins-as-necessary/";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:11:"description";a:1:{i:0;a:5:{s:4:"data";s:5612:"


    .
Baron Schwartz
This guest post is from our friends at Percona. They’re hosting Percona Live London from October 24-25, 2011. Percona Live is a two day summit with 100% technical sessions led by some of the most established speakers in the MySQL field.
In the London area and interested in attending? We are giving away two free passes in the next few days. Watch our @tokutek twitter feed for a chance to win.



Did you know that the following query actually performs a JOIN? You can&#8217;t see it, but it&#8217;s there:

SELECT the_day, COUNT&#40;*&#41;, SUM&#40;clicks&#41;, SUM&#40;cost&#41;
FROM ad_clicks_by_day
WHERE the_day &gt;= '2005-07-01' AND the_day &lt; '2005-07-07'
GROUP BY the_day;

Let me explain.
Suppose you define the table as follows:

CREATE TABLE ad_clicks_by_day &#40;
customer INT  NOT NULL,
the_day  DATE NOT NULL,
clicks   INT  NOT NULL DEFAULT 0,
cost     INT  NOT NULL DEFAULT 0,
PRIMARY KEY&#40;customer, the_day&#41;,
INDEX&#40;the_day&#41;
&#41; ENGINE=InnoDB;

What happens when MySQL executes this query? Here&#8217;s the EXPLAIN:

*************************** 1. row ***************************
           id: 1
  select_type: SIMPLE
        table: ad_clicks_by_day
         type: range
possible_keys: the_day
          key: the_day
      key_len: 3
          ref: NULL
         rows: 368
        Extra: Using where

That looks fine, doesn&#8217;t it? It&#8217;s using an index range scan to find approximately 368 matching rows, and adding up the clicks and cost for them.  Can it be done any more efficiently than this?
In fact, it turns out that it&#8217;s possible to execute this query much more efficiently. What happens internally when the server executes this query is that it begins reading from the &#8216;the_day&#8217; index, and for each row it finds, it performs a lookup in the primary key (which, in InnoDB, stores the whole table) to find the other columns mentioned in the query. That is, it&#8217;s joining the index to the primary key! This is not just an ivory-tower abstraction. In real-life workloads, the random I/O caused by such index-to-table joins slows queries dramatically.
The “join” here isn’t really the same as a true table-to-table SQL JOIN in some ways, and it has a little less overhead at the server level than a table-to-table join, but in terms of the way an index-to-row lookup works, it’s quite similar in many ways.
If you&#8217;re skilled at logical and physical database design, you already noticed that my example can be improved by indexing differently: just put the primary key on (the_day, customer) instead of the other way around.  Then the query will use the primary key instead of the secondary key, and the whole row is available to the query without doing a join to another index.  This is called a covering index, which means that the index covers the whole query&#8211;there is no need for any data outside the index. You&#8217;ll see &#8220;Using index&#8221; in the Extra column from EXPLAIN when an index covers a query.
But then what if we want to group the results by customer? No problem, we can just add another index. To achieve the same results for ad-hoc querying, we&#8217;ll need to index every column:

ALTER TABLE ad_clicks_by_day ADD INDEX&#40;the_day, customer, clicks, cost&#41;;

That works, but isn&#8217;t that going to be kind of expensive? We&#8217;re essentially duplicating the whole table.  And what if we have some other columns we want to target for grouping, or filtering, or sorting, or any other operation that can be optimized with an index? Uh-oh, that’s going to be a lot of indexes.
The overhead of maintaining indexes is often mentioned, but rarely measured. It is sometimes exaggerated as a result. (For further reading on this point, see the book Relational Database Index Design and the Optimizers by Tapio Lahdenmaki.) However, if you did measure the overhead, you would notice two important things: increased disk I/O for modifications to the table, and increased disk space consumption.  Even if it&#8217;s sometimes blown out of proportion, it&#8217;s real.
That&#8217;s why I like TokuDB&#8217;s indexing technology and modifications to the storage engine API.  Indexes are much cheaper in TokuDB than they are in InnoDB, for several reasons:

TokuDB compresses its data quite well, which reduces the footprint both in space consumption and in I/O operations.
TokuDB lets you define multiple clustering indexes&#8211;indexes that sort and compare only on the key columns, but which include all columns in the table, transparently.  That avoids invisible JOINs. I want this feature in InnoDB.
TokuDB uses a different data structure for indexes, which is significantly more efficient. Instead of the classic B-Tree structure, TokuDB uses Fractal Trees, which don&#8217;t slow down when they get bigger than memory.

As a result of these three properties of TokuDB, you can maintain a lot of indexes on a lot of data relatively cheaply. And that means that you can index your data to match your query patterns, and get much faster performance by removing a lot of random I/O operations caused by finding data and then looking up the rest of the row.
Disclosure: Tokutek paid Percona to evaluate the technology, but it is our practice to offer only our honest opinion in blog posts such as this one.

About the Author
Baron is Percona&#8217;s Chief Performance Architect. He&#8217;s the lead author of High Performance MySQL, and creator of Maatkit. He consults with Percona&#8217;s customers, and develops tools and practices for Percona&#8217;s team.
&nbsp;";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:7:"pubDate";a:1:{i:0;a:5:{s:4:"data";s:31:"Thu, 29 Sep 2011 15:22:24 +0000";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:8:"category";a:12:{i:0;a:5:{s:4:"data";s:8:"TokuView";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}i:1;a:5:{s:4:"data";s:14:"Baron Schwartz";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}i:2;a:5:{s:4:"data";s:18:"clustering indexes";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}i:3;a:5:{s:4:"data";s:11:"compression";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}i:4;a:5:{s:4:"data";s:23:"Fractal Tree™ indexes";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}i:5;a:5:{s:4:"data";s:7:"indexes";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}i:6;a:5:{s:4:"data";s:8:"indexing";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}i:7;a:5:{s:4:"data";s:5:"mysql";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}i:8;a:5:{s:4:"data";s:7:"percona";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}i:9;a:5:{s:4:"data";s:12:"Percona Live";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}i:10;a:5:{s:4:"data";s:6:"TokuDB";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}i:11;a:5:{s:4:"data";s:7:"Tokutek";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}s:40:"http://purl.org/rss/1.0/modules/content/";a:1:{s:7:"encoded";a:1:{i:0;a:5:{s:4:"data";s:7467:"<table width="100%">
<tbody>
<tr>
<td width="15%">    <span>.</span><br />
<img class="size-full wp-image-3468" title="Baron" src="http://www.tokutek.com/wp-content/uploads/2011/09/Baron.jpg" alt="" width="50" height="50" />Baron Schwartz</td>
<td><span>This guest post is from our friends at <a href="http://www.percona.com/" target="_blank">Percona</a>. They’re hosting <a href="http://www.percona.com/live/london-2011/" target="_blank">Percona Live London</a> from October 24-25, 2011. Percona Live is a two day summit with 100% technical sessions led by some of the most established speakers in the MySQL field.</span></p>
<p><span>In the London area and interested in attending? We are giving away two free passes in the next few days. Watch our <a href="http://twitter.com/tokutek" target="_blank">@tokutek</a> twitter feed for a chance to win.</span></td>
</tr>
</tbody>
</table>
<p>Did you know that the following query actually performs a JOIN? You can&#8217;t see it, but it&#8217;s there:</p>

<div><div><pre><span>SELECT</span> the_day<span>,</span> <span>COUNT</span><span>&#40;</span><span>*</span><span>&#41;</span><span>,</span> <span>SUM</span><span>&#40;</span>clicks<span>&#41;</span><span>,</span> <span>SUM</span><span>&#40;</span>cost<span>&#41;</span>
<span>FROM</span> ad_clicks_by_day
<span>WHERE</span> the_day <span>&gt;=</span> <span>'2005-07-01'</span> <span>AND</span> the_day <span>&lt;</span> <span>'2005-07-07'</span>
<span>GROUP</span> <span>BY</span> the_day;</pre></div></div>

<p>Let me explain.</p>
<p>Suppose you define the table as follows:</p>

<div><div><pre><span>CREATE</span> <span>TABLE</span> ad_clicks_by_day <span>&#40;</span>
customer <span>INT</span>  <span>NOT</span> <span>NULL</span><span>,</span>
the_day  <span>DATE</span> <span>NOT</span> <span>NULL</span><span>,</span>
clicks   <span>INT</span>  <span>NOT</span> <span>NULL</span> <span>DEFAULT</span> <span>0</span><span>,</span>
cost     <span>INT</span>  <span>NOT</span> <span>NULL</span> <span>DEFAULT</span> <span>0</span><span>,</span>
<span>PRIMARY</span> <span>KEY</span><span>&#40;</span>customer<span>,</span> the_day<span>&#41;</span><span>,</span>
<span>INDEX</span><span>&#40;</span>the_day<span>&#41;</span>
<span>&#41;</span> ENGINE<span>=</span>InnoDB;</pre></div></div>

<p>What happens when MySQL executes this query? Here&#8217;s the EXPLAIN:</p>

<div><div><pre>*************************** 1. row ***************************
           id: 1
  select_type: SIMPLE
        table: ad_clicks_by_day
         type: range
possible_keys: the_day
          key: the_day
      key_len: 3
          ref: NULL
         rows: 368
        Extra: Using where</pre></div></div>

<p>That looks fine, doesn&#8217;t it? It&#8217;s using an index range scan to find approximately 368 matching rows, and adding up the clicks and cost for them.  Can it be done any more efficiently than this?</p>
<p>In fact, it turns out that it&#8217;s possible to execute this query much more efficiently. What happens internally when the server executes this query is that it begins reading from the &#8216;the_day&#8217; index, and for each row it finds, it performs a lookup in the primary key (which, in InnoDB, stores the whole table) to find the other columns mentioned in the query. That is, it&#8217;s joining the index to the primary key! This is not just an ivory-tower abstraction. In real-life workloads, the random I/O caused by such index-to-table joins slows queries dramatically.</p>
<p>The “join” here isn’t really the same as a true table-to-table SQL JOIN in some ways, and it has a little less overhead at the server level than a table-to-table join, but in terms of the way an index-to-row lookup works, it’s quite similar in many ways.</p>
<p>If you&#8217;re skilled at logical and physical database design, you already noticed that my example can be improved by indexing differently: just put the primary key on (the_day, customer) instead of the other way around.  Then the query will use the primary key instead of the secondary key, and the whole row is available to the query without doing a join to another index.  This is called a covering index, which means that the index covers the whole query&#8211;there is no need for any data outside the index. You&#8217;ll see &#8220;Using index&#8221; in the Extra column from EXPLAIN when an index covers a query.</p>
<p>But then what if we want to group the results by customer? No problem, we can just add another index. To achieve the same results for ad-hoc querying, we&#8217;ll need to index every column:</p>

<div><div><pre><span>ALTER</span> <span>TABLE</span> ad_clicks_by_day <span>ADD</span> <span>INDEX</span><span>&#40;</span>the_day<span>,</span> customer<span>,</span> clicks<span>,</span> cost<span>&#41;</span>;</pre></div></div>

<p>That works, but isn&#8217;t that going to be kind of expensive? We&#8217;re essentially duplicating the whole table.  And what if we have some other columns we want to target for grouping, or filtering, or sorting, or any other operation that can be optimized with an index? Uh-oh, that’s going to be a lot of indexes.</p>
<p>The overhead of maintaining indexes is often mentioned, but rarely measured. It is sometimes exaggerated as a result. (For further reading on this point, see the book Relational Database Index Design and the Optimizers by Tapio Lahdenmaki.) However, if you did measure the overhead, you would notice two important things: increased disk I/O for modifications to the table, and increased disk space consumption.  Even if it&#8217;s sometimes blown out of proportion, it&#8217;s real.</p>
<p>That&#8217;s why I like TokuDB&#8217;s indexing technology and modifications to the storage engine API.  Indexes are much cheaper in TokuDB than they are in InnoDB, for several reasons:</p>
<ul>
<li>TokuDB compresses its data quite well, which reduces the footprint both in space consumption and in I/O operations.</li>
<li>TokuDB lets you define multiple clustering indexes&#8211;indexes that sort and compare only on the key columns, but which include all columns in the table, transparently.  That avoids invisible JOINs. I want this feature in InnoDB.</li>
<li>TokuDB uses a different data structure for indexes, which is significantly more efficient. Instead of the classic B-Tree structure, TokuDB uses Fractal Trees, which don&#8217;t slow down when they get bigger than memory.</li>
</ul>
<p>As a result of these three properties of TokuDB, you can maintain a lot of indexes on a lot of data relatively cheaply. And that means that you can index your data to match your query patterns, and get much faster performance by removing a lot of random I/O operations caused by finding data and then looking up the rest of the row.</p>
<p><em>Disclosure: Tokutek paid Percona to evaluate the technology, but it is our practice to offer only our honest opinion in blog posts such as this one.</em></p>
<hr />
<p><strong>About the Author</strong></p>
<p>Baron is Percona&#8217;s Chief Performance Architect. He&#8217;s the lead author of High Performance MySQL, and creator of Maatkit. He consults with Percona&#8217;s customers, and develops tools and practices for Percona&#8217;s team.</p>
<p>&nbsp;</p><br/>PlanetMySQL Voting:
	 <a href="http://planet.mysql.com/entry/vote/?entry_id=30123&vote=1&apivote=1">Vote UP</a> /
	 <a href="http://planet.mysql.com/entry/vote/?entry_id=30123&vote=-1&apivote=1">Vote DOWN</a>";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}s:32:"http://purl.org/dc/elements/1.1/";a:1:{s:7:"creator";a:1:{i:0;a:5:{s:4:"data";s:13:"Tokuview Blog";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}}}i:22;a:6:{s:4:"data";s:88:"
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
  ";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";s:5:"child";a:3:{s:0:"";a:6:{s:5:"title";a:1:{i:0;a:5:{s:4:"data";s:39:"MySQL HA Solutions: New Guide Available";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:4:"guid";a:1:{i:0;a:5:{s:4:"data";s:64:"http://blogs.oracle.com/MySQL/entry/mysql_ha_solutions_new_guide";s:7:"attribs";a:1:{s:0:"";a:1:{s:11:"isPermaLink";s:5:"false";}}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:4:"link";a:1:{i:0;a:5:{s:4:"data";s:64:"http://blogs.oracle.com/MySQL/entry/mysql_ha_solutions_new_guide";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:11:"description";a:1:{i:0;a:5:{s:4:"data";s:1893:"    
  Databases
are the center of today’s web, enterprise and embedded applications, storing
and protecting an organization’s most valuable assets and supporting business-critical
applications. Just minutes of downtime can result in significant lost revenue
and dissatisfied customers. Ensuring database highly
availability is therefore a top priority for any organization.  
  The new
MySQL Guide to High Availability solutions&nbsp;is designed to navigate
users through the HA maze, discussing: 
  - The
causes, effects and impacts of downtime; 
  - Methodologies
to select the right HA solution; 
  - Different
approaches to delivering highly available MySQL services; 
  - Operational
best practices to meet Service Level Agreements (SLAs). 
    
    As discussed in
the new Guide, selecting the high availability solution that is appropriate for
your application depends upon 3 core principles: 
    
  - The level of availability required to meet business objectives,
within budgetary constraints; 
    
  - The profile of application being deployed (i.e. concurrent users,
requests per second, etc.); 
    
  - Operational standards within each data center.  
    
    
  Recognizing that
each application or service has different operational and availability
requirements, the guide discusses the range of certified and supported High
Availability (HA) solutions – from internal departmental applications all the
way through to geographically redundant, multi-data center systems delivering
99.999% availability (i.e. less than 5 ½ minutes of downtime per year)
supporting transactional web services, communications networks, cloud and hosting environments, etc. 
    
    
  By combining the
right technology with the right skills and processes, users can achieve
business continuity, while developers and DBAs can sleep tight at night! Download the guide&nbsp;to learn
more. ";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:7:"pubDate";a:1:{i:0;a:5:{s:4:"data";s:31:"Thu, 29 Sep 2011 09:53:26 +0000";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:8:"category";a:10:{i:0;a:5:{s:4:"data";s:5:"MySQL";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}i:1;a:5:{s:4:"data";s:12:"availability";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}i:2;a:5:{s:4:"data";s:7:"cluster";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}i:3;a:5:{s:4:"data";s:8:"database";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}i:4;a:5:{s:4:"data";s:2:"ha";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}i:5;a:5:{s:4:"data";s:4:"high";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}i:6;a:5:{s:4:"data";s:4:"keep";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}i:7;a:5:{s:4:"data";s:3:"mat";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}i:8;a:5:{s:4:"data";s:5:"mysql";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}i:9;a:5:{s:4:"data";s:11:"replication";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}s:40:"http://purl.org/rss/1.0/modules/content/";a:1:{s:7:"encoded";a:1:{i:0;a:5:{s:4:"data";s:21076:"<!--[if gte mso 9]><xml>
 <o:DocumentProperties>
  <o:Revision>0</o:Revision>
  <o:TotalTime>0</o:TotalTime>
  <o:Pages>1</o:Pages>
  <o:Words>271</o:Words>
  <o:Characters>1547</o:Characters>
  <o:Company>Homework</o:Company>
  <o:Lines>12</o:Lines>
  <o:Paragraphs>3</o:Paragraphs>
  <o:CharactersWithSpaces>1815</o:CharactersWithSpaces>
  <o:Version>14.0</o:Version>
 </o:DocumentProperties>
 <o:OfficeDocumentSettings>
  <o:AllowPNG/>
 </o:OfficeDocumentSettings>
</xml><![endif]--> <!--[if gte mso 9]><xml>
 <w:WordDocument>
  <w:View>Normal</w:View>
  <w:Zoom>0</w:Zoom>
  <w:TrackMoves/>
  <w:TrackFormatting/>
  <w:PunctuationKerning/>
  <w:ValidateAgainstSchemas/>
  <w:SaveIfXMLInval>false</w:SaveIfXMLInvalid>
  <w:IgnoreMixedContent>false</w:IgnoreMixedContent>
  <w:AlwaysShowPlaceholderText>false</w:AlwaysShowPlaceholderText>
  <w:DoNotPromoteQF/>
  <w:LidThemeOther>EN-US</w:LidThemeOther>
  <w:LidThemeAsian>JA</w:LidThemeAsian>
  <w:LidThemeComplexScript>X-NONE</w:LidThemeComplexScript>
  <w:Compatibility>
   <w:BreakWrappedTables/>
   <w:SnapToGridInCell/>
   <w:WrapTextWithPunct/>
   <w:UseAsianBreakRules/>
   <w:DontGrowAutofit/>
   <w:SplitPgBreakAndParaMark/>
   <w:EnableOpenTypeKerning/>
   <w:DontFlipMirrorIndents/>
   <w:OverrideTableStyleHps/>
   <w:UseFELayout/>
  </w:Compatibility>
  <m:mathPr>
   <m:mathFont m:val="Cambria Math"/>
   <m:brkBin m:val="before"/>
   <m:brkBinSub m:val="&#45;-"/>
   <m:smallFrac m:val="off"/>
   <m:dispDef/>
   <m:lMargin m:val="0"/>
   <m:rMargin m:val="0"/>
   <m:defJc m:val="centerGroup"/>
   <m:wrapIndent m:val="1440"/>
   <m:intLim m:val="subSup"/>
   <m:naryLim m:val="undOvr"/>
  </m:mathPr></w:WordDocument>
</xml><![endif]--><!--[if gte mso 9]><xml>
 <w:LatentStyles DefLockedState="false" DefUnhideWhenUsed="true"
  DefSemiHidden="true" DefQFormat="false" DefPriority="99"
  LatentStyleCount="276">
  <w:LsdException Locked="false" Priority="0" SemiHidden="false"
   UnhideWhenUsed="false" QFormat="true" Name="Normal"/>
  <w:LsdException Locked="false" Priority="9" SemiHidden="false"
   UnhideWhenUsed="false" QFormat="true" Name="heading 1"/>
  <w:LsdException Locked="false" Priority="9" QFormat="true" Name="heading 2"/>
  <w:LsdException Locked="false" Priority="9" QFormat="true" Name="heading 3"/>
  <w:LsdException Locked="false" Priority="9" QFormat="true" Name="heading 4"/>
  <w:LsdException Locked="false" Priority="9" QFormat="true" Name="heading 5"/>
  <w:LsdException Locked="false" Priority="9" QFormat="true" Name="heading 6"/>
  <w:LsdException Locked="false" Priority="9" QFormat="true" Name="heading 7"/>
  <w:LsdException Locked="false" Priority="9" QFormat="true" Name="heading 8"/>
  <w:LsdException Locked="false" Priority="9" QFormat="true" Name="heading 9"/>
  <w:LsdException Locked="false" Priority="39" Name="toc 1"/>
  <w:LsdException Locked="false" Priority="39" Name="toc 2"/>
  <w:LsdException Locked="false" Priority="39" Name="toc 3"/>
  <w:LsdException Locked="false" Priority="39" Name="toc 4"/>
  <w:LsdException Locked="false" Priority="39" Name="toc 5"/>
  <w:LsdException Locked="false" Priority="39" Name="toc 6"/>
  <w:LsdException Locked="false" Priority="39" Name="toc 7"/>
  <w:LsdException Locked="false" Priority="39" Name="toc 8"/>
  <w:LsdException Locked="false" Priority="39" Name="toc 9"/>
  <w:LsdException Locked="false" Priority="0" Name="footnote text"/>
  <w:LsdException Locked="false" Priority="35" QFormat="true" Name="caption"/>
  <w:LsdException Locked="false" Priority="0" Name="footnote reference"/>
  <w:LsdException Locked="false" Priority="10" SemiHidden="false"
   UnhideWhenUsed="false" QFormat="true" Name="Title"/>
  <w:LsdException Locked="false" Priority="1" Name="Default Paragraph Font"/>
  <w:LsdException Locked="false" Priority="0" Name="Body Text"/>
  <w:LsdException Locked="false" Priority="11" SemiHidden="false"
   UnhideWhenUsed="false" QFormat="true" Name="Subtitle"/>
  <w:LsdException Locked="false" Priority="22" SemiHidden="false"
   UnhideWhenUsed="false" QFormat="true" Name="Strong"/>
  <w:LsdException Locked="false" Priority="20" SemiHidden="false"
   UnhideWhenUsed="false" QFormat="true" Name="Emphasis"/>
  <w:LsdException Locked="false" Priority="59" SemiHidden="false"
   UnhideWhenUsed="false" Name="Table Grid"/>
  <w:LsdException Locked="false" UnhideWhenUsed="false" Name="Placeholder Text"/>
  <w:LsdException Locked="false" Priority="1" SemiHidden="false"
   UnhideWhenUsed="false" QFormat="true" Name="No Spacing"/>
  <w:LsdException Locked="false" Priority="60" SemiHidden="false"
   UnhideWhenUsed="false" Name="Light Shading"/>
  <w:LsdException Locked="false" Priority="61" SemiHidden="false"
   UnhideWhenUsed="false" Name="Light List"/>
  <w:LsdException Locked="false" Priority="62" SemiHidden="false"
   UnhideWhenUsed="false" Name="Light Grid"/>
  <w:LsdException Locked="false" Priority="63" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium Shading 1"/>
  <w:LsdException Locked="false" Priority="64" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium Shading 2"/>
  <w:LsdException Locked="false" Priority="65" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium List 1"/>
  <w:LsdException Locked="false" Priority="66" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium List 2"/>
  <w:LsdException Locked="false" Priority="67" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium Grid 1"/>
  <w:LsdException Locked="false" Priority="68" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium Grid 2"/>
  <w:LsdException Locked="false" Priority="69" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium Grid 3"/>
  <w:LsdException Locked="false" Priority="70" SemiHidden="false"
   UnhideWhenUsed="false" Name="Dark List"/>
  <w:LsdException Locked="false" Priority="71" SemiHidden="false"
   UnhideWhenUsed="false" Name="Colorful Shading"/>
  <w:LsdException Locked="false" Priority="72" SemiHidden="false"
   UnhideWhenUsed="false" Name="Colorful List"/>
  <w:LsdException Locked="false" Priority="73" SemiHidden="false"
   UnhideWhenUsed="false" Name="Colorful Grid"/>
  <w:LsdException Locked="false" Priority="60" SemiHidden="false"
   UnhideWhenUsed="false" Name="Light Shading Accent 1"/>
  <w:LsdException Locked="false" Priority="61" SemiHidden="false"
   UnhideWhenUsed="false" Name="Light List Accent 1"/>
  <w:LsdException Locked="false" Priority="62" SemiHidden="false"
   UnhideWhenUsed="false" Name="Light Grid Accent 1"/>
  <w:LsdException Locked="false" Priority="63" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium Shading 1 Accent 1"/>
  <w:LsdException Locked="false" Priority="64" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium Shading 2 Accent 1"/>
  <w:LsdException Locked="false" Priority="65" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium List 1 Accent 1"/>
  <w:LsdException Locked="false" UnhideWhenUsed="false" Name="Revision"/>
  <w:LsdException Locked="false" Priority="34" SemiHidden="false"
   UnhideWhenUsed="false" QFormat="true" Name="List Paragraph"/>
  <w:LsdException Locked="false" Priority="29" SemiHidden="false"
   UnhideWhenUsed="false" QFormat="true" Name="Quote"/>
  <w:LsdException Locked="false" Priority="30" SemiHidden="false"
   UnhideWhenUsed="false" QFormat="true" Name="Intense Quote"/>
  <w:LsdException Locked="false" Priority="66" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium List 2 Accent 1"/>
  <w:LsdException Locked="false" Priority="67" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium Grid 1 Accent 1"/>
  <w:LsdException Locked="false" Priority="68" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium Grid 2 Accent 1"/>
  <w:LsdException Locked="false" Priority="69" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium Grid 3 Accent 1"/>
  <w:LsdException Locked="false" Priority="70" SemiHidden="false"
   UnhideWhenUsed="false" Name="Dark List Accent 1"/>
  <w:LsdException Locked="false" Priority="71" SemiHidden="false"
   UnhideWhenUsed="false" Name="Colorful Shading Accent 1"/>
  <w:LsdException Locked="false" Priority="72" SemiHidden="false"
   UnhideWhenUsed="false" Name="Colorful List Accent 1"/>
  <w:LsdException Locked="false" Priority="73" SemiHidden="false"
   UnhideWhenUsed="false" Name="Colorful Grid Accent 1"/>
  <w:LsdException Locked="false" Priority="60" SemiHidden="false"
   UnhideWhenUsed="false" Name="Light Shading Accent 2"/>
  <w:LsdException Locked="false" Priority="61" SemiHidden="false"
   UnhideWhenUsed="false" Name="Light List Accent 2"/>
  <w:LsdException Locked="false" Priority="62" SemiHidden="false"
   UnhideWhenUsed="false" Name="Light Grid Accent 2"/>
  <w:LsdException Locked="false" Priority="63" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium Shading 1 Accent 2"/>
  <w:LsdException Locked="false" Priority="64" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium Shading 2 Accent 2"/>
  <w:LsdException Locked="false" Priority="65" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium List 1 Accent 2"/>
  <w:LsdException Locked="false" Priority="66" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium List 2 Accent 2"/>
  <w:LsdException Locked="false" Priority="67" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium Grid 1 Accent 2"/>
  <w:LsdException Locked="false" Priority="68" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium Grid 2 Accent 2"/>
  <w:LsdException Locked="false" Priority="69" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium Grid 3 Accent 2"/>
  <w:LsdException Locked="false" Priority="70" SemiHidden="false"
   UnhideWhenUsed="false" Name="Dark List Accent 2"/>
  <w:LsdException Locked="false" Priority="71" SemiHidden="false"
   UnhideWhenUsed="false" Name="Colorful Shading Accent 2"/>
  <w:LsdException Locked="false" Priority="72" SemiHidden="false"
   UnhideWhenUsed="false" Name="Colorful List Accent 2"/>
  <w:LsdException Locked="false" Priority="73" SemiHidden="false"
   UnhideWhenUsed="false" Name="Colorful Grid Accent 2"/>
  <w:LsdException Locked="false" Priority="60" SemiHidden="false"
   UnhideWhenUsed="false" Name="Light Shading Accent 3"/>
  <w:LsdException Locked="false" Priority="61" SemiHidden="false"
   UnhideWhenUsed="false" Name="Light List Accent 3"/>
  <w:LsdException Locked="false" Priority="62" SemiHidden="false"
   UnhideWhenUsed="false" Name="Light Grid Accent 3"/>
  <w:LsdException Locked="false" Priority="63" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium Shading 1 Accent 3"/>
  <w:LsdException Locked="false" Priority="64" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium Shading 2 Accent 3"/>
  <w:LsdException Locked="false" Priority="65" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium List 1 Accent 3"/>
  <w:LsdException Locked="false" Priority="66" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium List 2 Accent 3"/>
  <w:LsdException Locked="false" Priority="67" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium Grid 1 Accent 3"/>
  <w:LsdException Locked="false" Priority="68" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium Grid 2 Accent 3"/>
  <w:LsdException Locked="false" Priority="69" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium Grid 3 Accent 3"/>
  <w:LsdException Locked="false" Priority="70" SemiHidden="false"
   UnhideWhenUsed="false" Name="Dark List Accent 3"/>
  <w:LsdException Locked="false" Priority="71" SemiHidden="false"
   UnhideWhenUsed="false" Name="Colorful Shading Accent 3"/>
  <w:LsdException Locked="false" Priority="72" SemiHidden="false"
   UnhideWhenUsed="false" Name="Colorful List Accent 3"/>
  <w:LsdException Locked="false" Priority="73" SemiHidden="false"
   UnhideWhenUsed="false" Name="Colorful Grid Accent 3"/>
  <w:LsdException Locked="false" Priority="60" SemiHidden="false"
   UnhideWhenUsed="false" Name="Light Shading Accent 4"/>
  <w:LsdException Locked="false" Priority="61" SemiHidden="false"
   UnhideWhenUsed="false" Name="Light List Accent 4"/>
  <w:LsdException Locked="false" Priority="62" SemiHidden="false"
   UnhideWhenUsed="false" Name="Light Grid Accent 4"/>
  <w:LsdException Locked="false" Priority="63" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium Shading 1 Accent 4"/>
  <w:LsdException Locked="false" Priority="64" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium Shading 2 Accent 4"/>
  <w:LsdException Locked="false" Priority="65" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium List 1 Accent 4"/>
  <w:LsdException Locked="false" Priority="66" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium List 2 Accent 4"/>
  <w:LsdException Locked="false" Priority="67" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium Grid 1 Accent 4"/>
  <w:LsdException Locked="false" Priority="68" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium Grid 2 Accent 4"/>
  <w:LsdException Locked="false" Priority="69" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium Grid 3 Accent 4"/>
  <w:LsdException Locked="false" Priority="70" SemiHidden="false"
   UnhideWhenUsed="false" Name="Dark List Accent 4"/>
  <w:LsdException Locked="false" Priority="71" SemiHidden="false"
   UnhideWhenUsed="false" Name="Colorful Shading Accent 4"/>
  <w:LsdException Locked="false" Priority="72" SemiHidden="false"
   UnhideWhenUsed="false" Name="Colorful List Accent 4"/>
  <w:LsdException Locked="false" Priority="73" SemiHidden="false"
   UnhideWhenUsed="false" Name="Colorful Grid Accent 4"/>
  <w:LsdException Locked="false" Priority="60" SemiHidden="false"
   UnhideWhenUsed="false" Name="Light Shading Accent 5"/>
  <w:LsdException Locked="false" Priority="61" SemiHidden="false"
   UnhideWhenUsed="false" Name="Light List Accent 5"/>
  <w:LsdException Locked="false" Priority="62" SemiHidden="false"
   UnhideWhenUsed="false" Name="Light Grid Accent 5"/>
  <w:LsdException Locked="false" Priority="63" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium Shading 1 Accent 5"/>
  <w:LsdException Locked="false" Priority="64" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium Shading 2 Accent 5"/>
  <w:LsdException Locked="false" Priority="65" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium List 1 Accent 5"/>
  <w:LsdException Locked="false" Priority="66" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium List 2 Accent 5"/>
  <w:LsdException Locked="false" Priority="67" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium Grid 1 Accent 5"/>
  <w:LsdException Locked="false" Priority="68" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium Grid 2 Accent 5"/>
  <w:LsdException Locked="false" Priority="69" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium Grid 3 Accent 5"/>
  <w:LsdException Locked="false" Priority="70" SemiHidden="false"
   UnhideWhenUsed="false" Name="Dark List Accent 5"/>
  <w:LsdException Locked="false" Priority="71" SemiHidden="false"
   UnhideWhenUsed="false" Name="Colorful Shading Accent 5"/>
  <w:LsdException Locked="false" Priority="72" SemiHidden="false"
   UnhideWhenUsed="false" Name="Colorful List Accent 5"/>
  <w:LsdException Locked="false" Priority="73" SemiHidden="false"
   UnhideWhenUsed="false" Name="Colorful Grid Accent 5"/>
  <w:LsdException Locked="false" Priority="60" SemiHidden="false"
   UnhideWhenUsed="false" Name="Light Shading Accent 6"/>
  <w:LsdException Locked="false" Priority="61" SemiHidden="false"
   UnhideWhenUsed="false" Name="Light List Accent 6"/>
  <w:LsdException Locked="false" Priority="62" SemiHidden="false"
   UnhideWhenUsed="false" Name="Light Grid Accent 6"/>
  <w:LsdException Locked="false" Priority="63" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium Shading 1 Accent 6"/>
  <w:LsdException Locked="false" Priority="64" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium Shading 2 Accent 6"/>
  <w:LsdException Locked="false" Priority="65" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium List 1 Accent 6"/>
  <w:LsdException Locked="false" Priority="66" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium List 2 Accent 6"/>
  <w:LsdException Locked="false" Priority="67" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium Grid 1 Accent 6"/>
  <w:LsdException Locked="false" Priority="68" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium Grid 2 Accent 6"/>
  <w:LsdException Locked="false" Priority="69" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium Grid 3 Accent 6"/>
  <w:LsdException Locked="false" Priority="70" SemiHidden="false"
   UnhideWhenUsed="false" Name="Dark List Accent 6"/>
  <w:LsdException Locked="false" Priority="71" SemiHidden="false"
   UnhideWhenUsed="false" Name="Colorful Shading Accent 6"/>
  <w:LsdException Locked="false" Priority="72" SemiHidden="false"
   UnhideWhenUsed="false" Name="Colorful List Accent 6"/>
  <w:LsdException Locked="false" Priority="73" SemiHidden="false"
   UnhideWhenUsed="false" Name="Colorful Grid Accent 6"/>
  <w:LsdException Locked="false" Priority="19" SemiHidden="false"
   UnhideWhenUsed="false" QFormat="true" Name="Subtle Emphasis"/>
  <w:LsdException Locked="false" Priority="21" SemiHidden="false"
   UnhideWhenUsed="false" QFormat="true" Name="Intense Emphasis"/>
  <w:LsdException Locked="false" Priority="31" SemiHidden="false"
   UnhideWhenUsed="false" QFormat="true" Name="Subtle Reference"/>
  <w:LsdException Locked="false" Priority="32" SemiHidden="false"
   UnhideWhenUsed="false" QFormat="true" Name="Intense Reference"/>
  <w:LsdException Locked="false" Priority="33" SemiHidden="false"
   UnhideWhenUsed="false" QFormat="true" Name="Book Title"/>
  <w:LsdException Locked="false" Priority="37" Name="Bibliography"/>
  <w:LsdException Locked="false" Priority="39" QFormat="true" Name="TOC Heading"/>
 </w:LatentStyles>
</xml><![endif]--> <!--[if gte mso 10]>

<![endif]--> <!--StartFragment--> 
  <p align="left"><span lang="EN-US">Databases
are the center of today’s web, enterprise and embedded applications, storing
and protecting an organization’s most valuable assets and supporting business-critical
applications. Just minutes of downtime can result in significant lost revenue
and dissatisfied</span><span lang="EN-US"> </span><span lang="EN-US">customers. Ensuring database highly
availability is therefore a top priority for any organization.</span> </p> 
  <p align="left"><span lang="EN-US">The new
<a href="http://www.mysql.com/why-mysql/white-papers/mysql_wp_ha_strategy_guide.php">MySQL Guide to High Availability solutions</a>&nbsp;is designed to navigate
users through the HA maze, discussing:</span></p> 
  <p align="left"><span lang="EN-US"></span>- The
causes, effects and impacts of downtime;</p> 
  <p align="left">- Methodologies
to select the right HA solution;</p> 
  <p align="left"><span lang="EN-US">- Different
approaches to delivering highly available MySQL services;<o:p /></span></p> 
  <p align="left"><span lang="EN-US">- Operational
best practices to meet </span><span lang="EN-US">Service Level Agreements (SLAs)</span><span lang="EN-US">.</span></p> 
  <p> <img src="http://blogs.oracle.com/MySQL/resource/downtime_1.jpg" /></p> 
  <p>  As discussed in
the new Guide, selecting the high availability solution that is appropriate for
your application depends upon 3 core principles:</p> 
  <p> </p> 
  <p align="left"><span lang="EN-US">- The level of availability required to meet business objectives,
within budgetary constraints;<o:p /></span></p> 
  <p> </p> 
  <p align="left"><span lang="EN-US">- The profile of application being deployed (i.e. concurrent users,
requests per second, etc.);<o:p /></span></p> 
  <p> </p> 
  <p align="left"><span lang="EN">- Operational standards within each data center. <o:p /></span></p> 
  <p><span lang="EN"><o:p> </o:p></span></p> 
  <p> </p> 
  <p><span lang="EN">Recognizing that
each application or service has different operational and availability
requirements, the <a href="http://www.mysql.com/why-mysql/white-papers/mysql_wp_ha_strategy_guide.php">guide</a> discusses the range of certified and supported High
Availability (HA) solutions – from internal departmental applications all the
way through to geographically redundant, multi-data center systems delivering
99.999% availability (i.e. less than 5 ½ minutes of downtime per year)
supporting transactional web services, communications networks, cloud and hosting environments, etc.<o:p /></span></p> 
  <p><span lang="EN"><o:p> </o:p></span></p> 
  <p> </p> 
  <p><span lang="EN">By combining the
right technology with the right skills and processes, users can achieve
business continuity, while developers and DBAs can sleep tight at night!<span> </span>Download the <a href="http://www.mysql.com/why-mysql/white-papers/mysql_wp_ha_strategy_guide.php">guide</a>&nbsp;to learn
more.<o:p /></span></p> <!--EndFragment--><br/>PlanetMySQL Voting:
	 <a href="http://planet.mysql.com/entry/vote/?entry_id=30122&vote=1&apivote=1">Vote UP</a> /
	 <a href="http://planet.mysql.com/entry/vote/?entry_id=30122&vote=-1&apivote=1">Vote DOWN</a>";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}s:32:"http://purl.org/dc/elements/1.1/";a:1:{s:7:"creator";a:1:{i:0;a:5:{s:4:"data";s:15:"MySQL Community";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}}}i:23;a:6:{s:4:"data";s:88:"
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
  ";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";s:5:"child";a:3:{s:0:"";a:6:{s:5:"title";a:1:{i:0;a:5:{s:4:"data";s:63:"MariaDB: the new MySQL?  Interview with Michael Monty Widenius.";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:4:"guid";a:1:{i:0;a:5:{s:4:"data";s:33:"http://www.odbms.org/blog/?p=1153";s:7:"attribs";a:1:{s:0:"";a:1:{s:11:"isPermaLink";s:5:"false";}}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:4:"link";a:1:{i:0;a:5:{s:4:"data";s:94:"http://www.odbms.org/blog/2011/09/mariadb-the-new-mysql-interview-with-michael-monty-widenius/";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:11:"description";a:1:{i:0;a:5:{s:4:"data";s:328:"“I want to ensure that the MySQL code base (under the name of MariaDB) will survive as open source, in spite of what Oracle may do.” -- Michael “Monty” Widenius. Michael “Monty” Widenius is the main author of the original version of the open-source MySQL database and a founding member of the MySQL AB company. [...]";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:7:"pubDate";a:1:{i:0;a:5:{s:4:"data";s:31:"Thu, 29 Sep 2011 08:19:56 +0000";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:8:"category";a:10:{i:0;a:5:{s:4:"data";s:13:"uncategorized";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}i:1;a:5:{s:4:"data";s:5:"HBase";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}i:2;a:5:{s:4:"data";s:7:"MariaDB";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}i:3;a:5:{s:4:"data";s:28:"Michael “Monty” Widenius";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}i:4;a:5:{s:4:"data";s:5:"MySQL";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}i:5;a:5:{s:4:"data";s:15:"nosql databases";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}i:6;a:5:{s:4:"data";s:9:"Open Core";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}i:7;a:5:{s:4:"data";s:11:"open source";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}i:8;a:5:{s:4:"data";s:6:"Oracle";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}i:9;a:5:{s:4:"data";s:3:"SQL";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}s:40:"http://purl.org/rss/1.0/modules/content/";a:1:{s:7:"encoded";a:1:{i:0;a:5:{s:4:"data";s:541:"“I want to ensure that the MySQL code base (under the name of MariaDB) will survive as open source, in spite of what Oracle may do.” -- Michael “Monty” Widenius. Michael “Monty” Widenius is the main author of the original version of the open-source MySQL database and a founding member of the MySQL AB company. [...]<br/>PlanetMySQL Voting:
	 <a href="http://planet.mysql.com/entry/vote/?entry_id=30121&vote=1&apivote=1">Vote UP</a> /
	 <a href="http://planet.mysql.com/entry/vote/?entry_id=30121&vote=-1&apivote=1">Vote DOWN</a>";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}s:32:"http://purl.org/dc/elements/1.1/";a:1:{s:7:"creator";a:1:{i:0;a:5:{s:4:"data";s:17:"Roberto V. Zicari";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}}}i:24;a:6:{s:4:"data";s:53:"
    
    
    
    
    
    
    
    
    
    
  ";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";s:5:"child";a:3:{s:0:"";a:6:{s:5:"title";a:1:{i:0;a:5:{s:4:"data";s:42:"Intel 320 SSD write performance – contd.";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:4:"guid";a:1:{i:0;a:5:{s:4:"data";s:43:"http://www.mysqlperformanceblog.com/?p=6956";s:7:"attribs";a:1:{s:0:"";a:1:{s:11:"isPermaLink";s:5:"false";}}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:4:"link";a:1:{i:0;a:5:{s:4:"data";s:85:"http://www.mysqlperformanceblog.com/2011/09/28/intel-320-ssd-write-performance-contd/";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:11:"description";a:1:{i:0;a:5:{s:4:"data";s:2095:"I wrote about Intel 320 SSD write performance before, but I was not satisfied with these results.
Somewhat each time on Intel 320 SSD I was getting different write performance, so it made me looking into this with details.

So let&#8217;s run experiment as in previous post, this is sysbench fileio random write on different file size, from 10GiB to 140GiB with 10GiB step. I use ext4 filesystem, and I perform filesystem format before increasing filesize. 
The results are pretty much as in previous post, the throughput drops as we increase filesize:

However, there is when interesting stuff begin. Now when we run the same iterations again, the result will look like:
 
As you see, second time the throughput is much worse, even on medium size files. Just after 50GiB size, throughput gets below 40MiB/sec And this is with the fact, that I perform filesystem format before each run.
This leads me to conclusion that write performance on Intel 320 SSD is decreasing in time, and actually it is quite unpredictable in each given point of time. Filesystem format does not help, and only secure erase procedure allows to return to initial state. There are commands for this procedure for reference.

hdparm --user-master u --security-set-pass Eins /dev/sd$i
hdparm --user-master u --security-erase Eins /dev/sd$i

Discussing this problem with engineers working with Intel 320 SSD drives I was advised to use artificial space provisioning, about 20%. Basically we create partition which takes only 80% of space.
So let&#8217;s try this. The experiment the same as previously, with difference that I use 120G partition, and max filesize is 110GiB.

You can see that throughput in first iteration is basically the same as with full drive, but second iteration performs much better. Throughput never drops below 40MiB/sec, and stays on about 50MiB/sec level.
So, I think, this advise to use space provisioning is worth to consider if you want to  have some kind of protection and maintain throughput on some level.
Raw results and used scripts as always you can find on our Benchmarks Launchpad




";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:7:"pubDate";a:1:{i:0;a:5:{s:4:"data";s:31:"Thu, 29 Sep 2011 01:36:10 +0000";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:8:"category";a:3:{i:0;a:5:{s:4:"data";s:10:"Benchmarks";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}i:1;a:5:{s:4:"data";s:20:"Hardware and Storage";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}i:2;a:5:{s:4:"data";s:5:"MySQL";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}s:40:"http://purl.org/rss/1.0/modules/content/";a:1:{s:7:"encoded";a:1:{i:0;a:5:{s:4:"data";s:3848:"<p>I wrote about <a href="http://www.ssdperformanceblog.com/2011/06/intel-320-ssd-random-write-performance/">Intel 320 SSD write performance before</a>, but I was not satisfied with these results.</p>
<p>Somewhat each time on Intel 320 SSD I was getting different write performance, so it made me looking into this with details.<br />
<span></span><br />
So let&#8217;s run experiment as in previous post, this is sysbench fileio random write on different file size, from 10GiB to 140GiB with 10GiB step. I use <strong>ext4</strong> filesystem, and I perform filesystem format before increasing filesize. </p>
<p>The results are pretty much as in previous post, the throughput drops as we increase filesize:<br />
<a href="http://www.ssdperformanceblog.com/wp-content/uploads/2011/09/intel-320-1st.png"><img src="http://www.ssdperformanceblog.com/wp-content/uploads/2011/09/intel-320-1st.png" alt="" title="intel-320-1st" width="600" height="400" class="aligncenter size-full wp-image-173" /></a></p>
<p>However, there is when interesting stuff begin. Now when we run the same iterations again, the result will look like:</p>
<p><a href="http://www.ssdperformanceblog.com/wp-content/uploads/2011/09/intel-320-2nd.png"><img src="http://www.ssdperformanceblog.com/wp-content/uploads/2011/09/intel-320-2nd.png" alt="" title="intel-320-2nd" width="600" height="400" class="aligncenter size-full wp-image-176" /></a> </p>
<p>As you see, second time the throughput is much worse, even on medium size files. Just after <strong>50GiB</strong> size, throughput gets below <strong>40MiB/sec</strong> And this is with the fact, that I perform <strong>filesystem format</strong> before each run.</p>
<p>This leads me to conclusion that write performance on Intel 320 SSD is decreasing in time, and actually it is quite <strong>unpredictable</strong> in each given point of time. Filesystem format does not help, and only <strong>secure erase</strong> procedure allows to return to initial state. There are commands for this procedure for reference.<br />
<code><br />
hdparm --user-master u --security-set-pass Eins /dev/sd$i<br />
hdparm --user-master u --security-erase Eins /dev/sd$i<br />
</code></p>
<p>Discussing this problem with engineers working with Intel 320 SSD drives I was advised to use artificial space provisioning, about 20%. Basically we create partition which takes only 80% of space.</p>
<p>So let&#8217;s try this. The experiment the same as previously, with difference that I use 120G partition, and max filesize is 110GiB.</p>
<p><a href="http://www.ssdperformanceblog.com/wp-content/uploads/2011/09/intel-320-reservation.png"><img src="http://www.ssdperformanceblog.com/wp-content/uploads/2011/09/intel-320-reservation.png" alt="" title="intel-320-reservation" width="600" height="400" class="aligncenter size-full wp-image-180" /></a></p>
<p>You can see that throughput in first iteration is basically the same as with full drive, but second iteration performs much better. Throughput never drops below <strong>40MiB/sec</strong>, and stays on about <strong>50MiB/sec</strong> level.</p>
<p>So, I think, this advise to use space provisioning is worth to consider if you want to  have some kind of protection and maintain throughput on some level.</p>
<p>Raw results and used scripts as always you can find on our <a href="https://code.launchpad.net/~vadim-tk/percona-benchmark-result/intel-320-write">Benchmarks Launchpad</a></p>
<p><!-- Place this tag where you want the +1 button to render --><br />
<g:plusone annotation="inline"></g:plusone></p>
<p><!-- Place this render call where appropriate --><br />
</p>
<p></p><br/>PlanetMySQL Voting:
	 <a href="http://planet.mysql.com/entry/vote/?entry_id=30120&vote=1&apivote=1">Vote UP</a> /
	 <a href="http://planet.mysql.com/entry/vote/?entry_id=30120&vote=-1&apivote=1">Vote DOWN</a>";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}s:32:"http://purl.org/dc/elements/1.1/";a:1:{s:7:"creator";a:1:{i:0;a:5:{s:4:"data";s:22:"MySQL Performance Blog";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}}}i:25;a:6:{s:4:"data";s:43:"
    
    
    
    
    
    
    
    
  ";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";s:5:"child";a:3:{s:0:"";a:6:{s:5:"title";a:1:{i:0;a:5:{s:4:"data";s:49:"MySQL Workbench Blog is now at mysqlworkbench.org";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:4:"guid";a:1:{i:0;a:5:{s:4:"data";s:27:"http://wb.mysql.com/?p=1192";s:7:"attribs";a:1:{s:0:"";a:1:{s:11:"isPermaLink";s:5:"false";}}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:4:"link";a:1:{i:0;a:5:{s:4:"data";s:33:"http://mysqlworkbench.org/?p=1192";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:11:"description";a:1:{i:0;a:5:{s:4:"data";s:292:"The URL for the MySQL Workbench community blog is being changed to mysqlworkbench.org. The old URL will soon no longer point to this blog. Nothing else is changing, so update your bookmarks and keep checking for news, announcements and other content of interest for all MySQL Workbench users!";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:7:"pubDate";a:1:{i:0;a:5:{s:4:"data";s:31:"Wed, 28 Sep 2011 22:21:21 +0000";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:8:"category";a:1:{i:0;a:5:{s:4:"data";s:13:"Announcements";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}s:40:"http://purl.org/rss/1.0/modules/content/";a:1:{s:7:"encoded";a:1:{i:0;a:5:{s:4:"data";s:552:"<p>The URL for the MySQL Workbench community blog is being changed to <a href="http://mysqlworkbench.org">mysqlworkbench.org</a>. The old URL will soon no longer point to this blog. Nothing else is changing, so update your bookmarks and keep checking for news, announcements and other content of interest for all MySQL Workbench users!</p><br/>PlanetMySQL Voting:
	 <a href="http://planet.mysql.com/entry/vote/?entry_id=30119&vote=1&apivote=1">Vote UP</a> /
	 <a href="http://planet.mysql.com/entry/vote/?entry_id=30119&vote=-1&apivote=1">Vote DOWN</a>";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}s:32:"http://purl.org/dc/elements/1.1/";a:1:{s:7:"creator";a:1:{i:0;a:5:{s:4:"data";s:18:"The Workbench Team";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}}}i:26;a:6:{s:4:"data";s:43:"
    
    
    
    
    
    
    
    
  ";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";s:5:"child";a:3:{s:0:"";a:6:{s:5:"title";a:1:{i:0;a:5:{s:4:"data";s:26:"InnoDB at Oracle OpenWorld";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:4:"guid";a:1:{i:0;a:5:{s:4:"data";s:34:"http://blogs.innodb.com/wp/?p=1425";s:7:"attribs";a:1:{s:0:"";a:1:{s:11:"isPermaLink";s:5:"false";}}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:4:"link";a:1:{i:0;a:5:{s:4:"data";s:63:"http://blogs.innodb.com/wp/2011/09/innodb-at-oracle-open-world/";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:11:"description";a:1:{i:0;a:5:{s:4:"data";s:640:"Sunny and I will be presenting at the Oracle OpenWorld next week:

Introduction to InnoDB, MySQL&#8217;s Default Storage Engine,  10/04/11 Tuesday 01:15 PM,   Marriott Marquis &#8211; Golden Gate C3,     Calvin Sun
InnoDB Performance Tuning,  10/04/11 Tuesday  03:30 PM,   Marriott Marquis &#8211; Golden Gate C2,   Sunny Bains

The first session is for beginners, who are new to InnoDB and MySQL. The second session will cover many new performance features in MySQL 5.5 and 5.6, and share some tuning tips to maximize MySQL performance.
What to learn more about MySQL? There will be something for everyone. Come to join us!

&nbsp;";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:7:"pubDate";a:1:{i:0;a:5:{s:4:"data";s:31:"Wed, 28 Sep 2011 21:59:23 +0000";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:8:"category";a:1:{i:0;a:5:{s:4:"data";s:13:"Uncategorized";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}s:40:"http://purl.org/rss/1.0/modules/content/";a:1:{s:7:"encoded";a:1:{i:0;a:5:{s:4:"data";s:15578:"<p>Sunny and I will be presenting at the Oracle OpenWorld next week:</p>
<ul>
<li>Introduction to InnoDB, MySQL&#8217;s Default Storage Engine,  10/04/11 Tuesday 01:15 PM,   Marriott Marquis &#8211; Golden Gate C3,     Calvin Sun</li>
<li>InnoDB Performance Tuning,  10/04/11 Tuesday  03:30 PM,   Marriott Marquis &#8211; Golden Gate C2,   Sunny Bains</li>
</ul>
<p>The first session is for beginners, who are new to InnoDB and MySQL. The second session will cover many new performance features in MySQL 5.5 and 5.6, and share some tuning tips to maximize MySQL performance.</p>
<p>What to learn more about MySQL? There will be <a title="Focus on MySQL" href="http://www.oracle.com/openworld/oow11-focuson-mysql-486114.pdf">something for everyone</a>. Come to join us!</p>
<p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAPoAAAD6CAIAAAAHjs1qAAAgAElEQVR4nO2dv2/byLbHiSDJlgH/g4DVlgb0B8TAslvchRvVN5WaW2Q7pYtxkQe5S2tXTms3vrVUJM0rHuQHA4v7ft0nwQGCt147kWIr642vLHNeccjDw/ml4S+RFmdwYFjU8MeQnznznTPDkePYZFOjUlBvY9asFWFhulNbNkDz7Gtxt1asIUgWd2vrZiI/i8jCtFCbxd1a/U1kj9ptZBZ3a+tglJZbhc1NcNfonMIlkIW+qEfeNJP6cgr63OK+ZlY5c5WDbnFvkFVOXiWIi8Ra3BthlVPYLNxXU9TKqaqhVc6fxd3ibnFfO9xXX9TK2aqhVc5fzXEvLBBpca+DVc6fxd3ibnG3uFvcLe71xL1unVSLu8VdZM/i3jirnEKLu8Xd4m5xt7hb3OuD+1KybbKpVinXMJO5R6/K01fuSmtolTvdmnv3EnEvG/3K2aqVVc6fxd3ibnG3uFvcLe4Wd4u7xX1NcC8D+soJq5VVzl+tcNeEIC3u62CV82dxLx76yqmqrVXOX61w14uZf1rc77tVzt/9xr1u0FfOU82tcv6agnvg+7G1WrCRuS7dvgLcA98P2u2g2w263aDdDlqtyhGUWPK2FJi5cv6agjujaTDAOhBvPDwsFfeg22XTKRPTeBy029UjnqyTiSssMHPDrGa4d7u4Leh0ysLdddnxsQR0koJOp3LKLe5rjjvb2wu3TKflaXdaqfAC2Hic2DKdMtetHPSm4O777PCwebij093bKw/3hIaZTgPPC7djZQMHv1Ql1xL3e6bdfZ8NBuENvy+43xaFO6IWdV4z4658wK1W4tQ7O/FXnpfAvdutHPQsuKc6cuWs0xteNegrxT3wPDYYsMFA5dqLwZ27xRzTFneLe1rcTaCXencJ3xAiBPO8wPPYzg7UiqDbZa4blqfTYYeHUFUC39fhznn38Viv0QPPiy+g02GOE7TbbG+PDQbs8FDVow06HbxOdngIF6+6nqDbDXNi5mQ8VIm76ybuT6vFX3BUY8WNge/TUkgQ6XbjW+p5AfcslhKmKFfi+Jx6xKdcMu4q0KvHnXe3XOjw+DjwPDHMsiSuIhxEQ3wCtcGAe0KMMba3x1cnrteLiQin0MSjyTIrcae7Hx9rMvMbd3bEUsQNoyxyFbTbiY9atvTlCvMoEniruuN+m1LSJIpohjtjjB0fS0Io0yl2d+KkIViMzEynSj9NQYF6cnzMVZhEj1DFOuQkAinodLibwJUCL8mEYGwQjHCH03GlaLdjv0sT3HMus4Ytg3KVjbsKJz3oNcMdHQOHFEia5F1eEpSQxt3HY3Evudbn/F/kiRPXMB6DgOE2Sq8hVh0UtcFA591lu5vWjXYbFA5XtPD2Jo8svec61y7bnStX4DiB73P1KgwloUBtOO5xvRfvndA+LsHddSUNAqTDQ9oyKJ2ojEt2eEiftNTlx7pcdrVGvpk7eyRjUh0hNHITYrKTFyZ1+TrcpbtLe6WldVXLwH1+j3FHZKXzCIiaV4HCixzR49ILoFRp+xVGsLouvWyTfm0K3FUI5kTT4h6ninAPG3TikulhU+CO22na24sjIdS7J+ObYUxJNalBei56wUL3ty64a8tVNu4q6NPiPk/avcc9pKHdFt08HCE77ooU424wdUd+LurahdlsleNuNCXJ4l4h7nL4dnbKxZ2L1h0eiqFo6bnk3Yb64G5QLov7qnDneqgaUAaDPLgvr280c5qYI6/dk52B6nFPlku3+zrhroc+cffrgTvvnjPgTjU6uYDEnC3XTXvYJZEZGtysHPdUu9emqyp2T7kQ5D+XBiJrijvXqpKwBheHlooZeSASgUvSI3fkMNSvwj05eKmElXPwKePuGtyZ63JXK7nnGXCXDspa3MvGnR/zOz7GqSacdg/HYrhHgsqBhkcwjCMdJKJPOgpZ8kM8iknIOlhpTjI7v4C4Ox1RglEI1zUdZhLKFR5ztdq9DNxv7iPunF9Upshhi1ER6dwmefuwt8eH9ukEG7r9+FgcZWRMB6u0LSoEd8llCEmDmkm5wszcdL1oLt29wd28w5oo52ojM7xgENN4rJyCIk6JSb73pGMlORdNnpObvKWHlat1MGchv3cXg1RQyem5NLQZlCt+ZOJctPRzZoqCWyNj7jHuDPzK3p7EzR8fw7xilRQOJ+VjIhUjoZeEeWzcYUOjEECeJAFLhD7n4A8Pi/HuTji1GCYAhx43jfAQyxUI5YqrFjeBbC1xN7G0xdbwreTe84Jo8Q95BoWQ0OxieGQUV4HJchrlWIrbm1Jnx+8Qmhwc71VK1k0oMkdcDD6uG+7LgVD5xbUw+W3EdzIGgzgyU3KMPJtZ3C3uuXGXTgCm+oQISIu7xf3emPxO0q7RdMp2dviOpvRlP4t7ZtzrAHpzcXeEsWeayGt+lZsJS+agq3C/iczifr9Nd1dhBi+GmMZjdniYIWxicb9XuMte7F8bq5zXkkBPG3ycC8bJmBvH+dYE3NfbKqd2HXDPA322wlfOzT21yqktHOuck8D+qQD9W4G4h6MMqBnSv45eIhOp1lbPxpys+LXDPbkevyRDq7U8D81gNjfGBHfmugtyZD3uQat16/sL31/4fuB5K8U9aLWUQYC9PXPoSwSizK7q0uLXB3d+uqiYQZw3IbCeOAIua5Mbd+7Iety5eROrw335VK3p1NAH3EfcDYtfF9y50Dv3XLjZO9I83NQxM1+2JrhLJuKOx+LSVoYDePcPd+Pil4p7Cui5Vas43yyrulyeRIUZjw2rWVW43xAD1v/Igztf16NVf8XZp3IVeM9xF4sfVwOh+LXAXbHkmNT3hyla9S3MQ2Wb8VjVmuDOa1batHEvemnXmy0dhZK8u1D8+IxC8WuBu5N8byP5YxvylTaSLTP3tmEqrPPgzmFJ7/xChjsnYAD0PxznOhfuyftyx91Z9V1bE9yTBUz3bVW40/cVk2ok3q5aOZVrHIQWu0m4Hx7yuNO7hrgnl1oPnHAR8YT/c92g0wlXLgfb2Qk6HVWUI7EQO7zKYLi2OnzrefE66HiutLgfHvLfJotPz4XFZ04BK83zdxUXI5Au/a7qa9JbdHjILegnyZMM7NwpLjIhfZNlvyOPfuE4i+TBKYT0BwEAbg53vYApBne+8N0ujzv3hot4ywaDuPOEQLRayvdQhdeOdAuxE/50uEsFq+xcPILiMklcHtnqIFzxC1lpXgRRt/Q7d9myl8vCyo8fsbYoXkDTX6QcmOSj1+Au4eH4uHjcVSNbetzDrwxxp/cIm3u6EQId3BaKlHYhdv2bzqHX1CTtj4IUgLt2pfnwHi5baV4KMWO6pd/FI9wlRU74ox2YoqpCK2fipVj9RXY6ErmSfPS3Au44EUA3r5MxlhJ3ZVd1FbjTBOsfcetbAG3ceizRsOjyhdi1bzpztUW66LtG1RSAu+Kk4do4sgJKNkp9NpBtsPQ7oHyXlF78wz0+FneMA5Tcyveuy4fsxmOpOo+TGne+CJ3OXHjEeXHXz1soGHf4yQ1cX0W1cqJ0qSOThdhBH0vfVaUrRuBq19zdFBV5sbgrVpoXu5WJd66TK81rVLV8kYLkO013HFWDQRhKJulOaBYAa75ZIAxwxZTgHj16IPtWhvttsjFEpmnlXHS7N0nKOdBrhDs4CY1E1uFushA7/mQXTUAYbUlI1eLb3DJxlx8tGrrnCiiHGIR1Gtw573iX3ILPkT879Q7jMcZhuGzSIHXQbou4w8ZFJFqkuC+SXgBxv0tq91JwN+mqpsbdkQQi4564rM8ag0U36pfokOKebHDj2fCyNcBWijveFprUK82nxl2IJ1J/j8jySp1WkkgC8V5chXu3K+LOzWfMgzsAfS9xX9J9LAl3TaoJ7oqUAXdOqQedDvXQ8UOk9wcWvE4eqmG4J1dLW4I7zq1bFgJPfDses50d0Z/VAneh+DrccVnJEnAXXY+KuRh3rtuDiayNxamXxKFarUJwp69imOCOw0kV4M4PM9E7JT4tDNPqcVetAS3V7skbnQv3bKOeyQKafJsZd+4FU31LuxR3ZVUnYXL++dIGgVwDd5FrjXty4UyKO9e1j6dnSMlDSaNabFq6XbEQe2KEVROZoaqJdlXpalj6qV3J4ie+EoqfBfdkAWPckyvNm+Ouqh5xnnY78XylMe/k6ojcRd5FtHD9aelAUlG4qxA3GmZKgXvyB8Bw0Fjs/isHRAxxl/7+qHHdkJ+UG/GRtjDqQCSTFT8+iFB8OdaKleZ1HU2Hj/FlwJ333Jii8GKYRzbkzB9HOEWIO90F3k5KjzsX1EfcaR0rHncR9BBrcZ11zwvvPjekh28JqOddMCe5HG40nC4Ol0gQUWX2dT9FJuZUVi2pRpIVn6UqfjQ+z600H2aWDtonR+L0d1WHuzj/kbTP8ucLx0m2ANxTWOAsF5JCrtSzYm5VuHMdJM+7EQ6uwf0PYteRZcddftfEROdMa3HnNGXQ7QbtNj93XLUQO3RqaWbV+u6ILK1d4zE3V4QlHbbc8hVftdK8NGIoXWk+O+6yeTU87rL3m7gWYPlT2NvLjPs8qRjvBoNb379LSqzsuJvLmLi0mulBkA4PE/Pg9d5d+jsF0ykXA5YLDyEp13enClv9swgm8yJzFl+10nycf9lK85lxFz03zFKktuD6J4yx8Zh+G84O0FzkdMpcV4+7Rszw8j1KnHYXJ/1KQS8A9zsnWkdcfHLHx5KFCPW4iwDBAra0BU/qaclC7Iyxw8PEDzapw0GB50mmJQ4G+lAP1yvNXnzZSvP8LuqV5pfeVR3ugufm5uveCT1OxhItACVE/hT29gLPi1VDJtznjrDSfKdD68CqcU/cRM2CDcuM85qB75u/1EzDKaaYckdI/qpeun0JdkuKL+UyWmled3/ISvMZ7q35E+Rw1zBAv8WJ6YtoPQzpfHKpicshicZc99b3b31f9f51RbjnsGyY1sFSFFPduJVqq8E9m5ngrl9rIAvuFYK+GtzTnqUU8laIezbEs+EuWlGIpwUd7Fqw3yMzfZtJb/lv7mo83CpxkZRRESAvw8yfnQmyxQKtx1e/poBq/iP16L8L9jWydK93lIF7ffxZ2abHvaj7WSzoJvgWhbsea/1EXypdLO61MIv7vce9AAiag3tyyYC1wd3cANP8uAPcFvd7bBZ3i7vF3eJucbe4W9zz4L6086Gy/Dd3NY+wWkt7P7PdZ/OzqMy8W5ktgKifpqufvisOG4lYa0D/6jgzi7vFff1w5xBHu7K4W9zXCfevglncLe4Wd2PcbbKpVmlF3r1yl1lby+9l097zMvx6Nu9uPg6q9+IqK8a7cxetKnx5D/J+wZEWnbSQmdz//GHB/PgWBbQ4h1EzqzEV4gj6leNcWtwt7hb3NcF9lVbsvSoD7iaAbnG3uFvc1bibN6bW9CCu8lzFgl5/3FWgU9yvBItxx4vW34Jifcx62CrvVdo4SR6I80THzbFOOxFA5b+lvpyzLxb31SBocbe4r4lZ3C3uDbLV4J4fdIu7xd3i3kjcuUsXC1/U7V5vU6Gjz1kUoKvEtyig9TEWPdxi7EUajQHQv1jcLe5rgztgLfp1oHwaGY+7BV0FWRnQl424CejZIDaJmucHXTrNS+PFNaBPHWdicbe4Nxp3lRX7AFZv5jClbfT1e6m+zX/ePJYN8TzdzWzQpwX9i2DTpIUJi2pxXyfcswFdLLLZdLlKnau8uBRu8OjUluOuwoJfvn4dk8W9PrgD0JXi/uOPlS+vXpLdOY7Fff1xF011Ky3uKrzy41ielaHFy4BbEzs3NB3u1+obZHG/L7gXhXKxHtp8YEivzkXPrbeJzJZ7d9UjtLiXITPyoHwfQVchnireIrXPgl1Y3C3uTcR96c0SH0ATcK9KPZdhTcCd6haL+z3GPW33MRvK5viaaPG0UXN9pzOtXre4l4i76i6ZIJ4f5XqCns1zG8ZYJgZwi2Zxt7hb3A1svXFfOA5jrFolvRrQi8LdBO60EfSlgUUp6MtxN7x9Fve0QKvgTtspzGZlqHD9DMRVanEN1iqzuJeLe36/a3HPIFos7hZ3i3tK3Kk1AfdVqufVI7563PNPBMiAONpviLvhrbS4p4U7G3x5LC24aTuaeUY61wL3p0/Z5ibb3GQbGyUiCKfY3GSuWxPc6wB3ftDz4J4fX5PwYma4OTvLiXvQbrN37xIvRJycJKAXE5cBbH8/zrC5yX+7tcVOT+MM0yl7/pw/xfY2v9f2tvyVDYu7xV1zE1Xoh+xCevOGvXnDplPGGDs9jR0wAvruXZz59JTHi9L85k3iq6dP4722t+ODPH1qivvJCXv3LrY0uGvuxu+Oc+V5N7u7wWTCgoCNx187nTzAXTkOC4JZu70CWPNbUV3PAruhGtzPIsuHO4fa8+fhFvS+kBCyN28kLnxjI84GdEodP/CN9ONJl+IuNhdF4H7pusFkwsbjm273a6dzs7vLguBbr6f0sp6n+zbC/Wun83se3F133u8Hk0kwmcwPDi5dV4ms6877fRYEwWTytdNR9TUx22I0wmx03+tuF3m97nZZEOAW7qMmdp4f7hXijjy5Lu+hOdw3NyUI/vxzmAf+YSyhzqEO0AahBrhfO863Xo8FwZXnoZC46XZZEFy6rojjzHG+djosCJZ692xNBEI87/fZeDxrt2ft9mI0mvf7Ktzn/f5iOJz5fliQVkuK+7zfX4xGM98Hdme+/8VxFsMh7BtubLcnjjMfDqGhA765j+XhLooWDvEzx/k1suW4q0yCu8g39xGBpvIdgN7ejiuDKM01ImS1uKMthsP5wUHCW3sePPuZ41y1WovhkAXBvN+/8jyoCWCQ4abbBRoWw+FVqzWLcJ8fHLDxGH1zWJEiyYQbb7rdxWgEpM58/4pA/LXTgb3gWynrV60Wsnvpul87nSvPU+E+a7fBqQO7uC/ok3m/P+/3J44zPziAOxDinvxYL9w1nmM57iJ8UtyfPg2VNydXIG1txf/v7xeJ+/4+294OzRj9W8dhjGnuCQuCm26X082wEXTOt17vyvPAiV66LhB/5XnYDsza7SvPmx8cBJMJqI6Qfs+78rxgMrnZ3b0Easfjq1brqtVajEawMVF/fF9KKvhgiT6JmhoQYNAaLJXdM9+Ha4Z9keBvvV4wmeBHju9G4o5pOmVv3iS0ytZW+BVsVEmXPLjTJGYrAXcAAgie+f5Nt4uEQTak9jJqE0DDhLXFcS4jjw6Zv/V6sPFbr7cYjS5phVFEwecHB5qaACJk3u/PfB+gv2q1NKxDBZ73+9NoX06vI7LAt+pjeeq8TrhDZAbjNuDIwaDzinwjo6h2aundgcL5wUEsD1AhtNuhiKfiIYk7xZp+BO5D3KODoBdHw2/1nctZu/1Ftvt1t3sdNTWAMmzUsL4YjaCNEnEH775i3FVYSxH/1XH+L7IwaUJOyn4VJowJqnDHj0dH/C4QgoQg4/Z2HIf5+efCcM+k3QF3TRgu9L6ui5yBmwQpDP98cRzoz32JcA9lxmh0s7sL/6Piv4zgwKMtRqMvjgPRD1A4M9+HnNcK3DEyg34ddqR26bqzdpvD/WunIw0phqyPRsB6rGp8H3CfD4fzfn99cFehH+MudlWPjuSwcpEZjCqKCY8A9YHiDuFzLvhTJu5SJwryejEagXoB8QCwAsGg3RfDIYRHwshMq3XputdUu/f7ABN44sVodNVqzXwf1H/I/XAYavfhkCoKCZrDIQQWZ74Ppop8gzgBMXMHnYeoz4o6G1iHygN25XmfHWc+HEJcEvvKCCLcBNXHMqSLCvf/E+xjMbijOMEIOhclVOGOcXoUGziQNJ3yDYK+Rq0cd8AaXCl0MWn0eub7i9EI9DGgDOijI7+OIjMQuvkShT4wCIPu/9J1oS5hZEaFO1QzzlS4X7Vac4gdDYdXrdaEVMg4j3BAcNVcMJ5CWQbu5l5c6tGLw/333xlj7OSEuS5zXYlW0eMO+blADQYrxSrhkK6tOJJF6wzF/eef4/k2KbW7HvcyjKKp/zabaQY15wcHEFIsb2B/Nbh/VFuYDB9GIgrBWDxKShOdBaDCHaQ5dF65WQNiE4ETBzBBBaOn4JKTd84M4F4UZPUxDccwnNQs3KXdMul2xhj78Ue2ucn290M9fXSUiLoAc9vb7PnzgwcP/vLw4Q+PHv34pz/9+Kc//fWnn85cN/w2OWPs1HH+5fXrf3n9+q8//fT64UMw2PJ1MAi9OA1lvnoF31J7/fDhX3/6Cf6fvHxJHT8eE+z9gwf07Lj94MEDxhg84MoZ1WOaarqVeeS77EH+bHBnBr0g3Je5yRPH+f7x44fffSfaXx4+FPO/f/BAmhnsh0ePPgu7aPI//O47DmjxgNJvf3j0yOJeEu4m8XKVIl+qztPhbm4muF8vY/G1QLwedxHQnLg//O67Dxb3puGOt1XVPcqG++uHDylYBw8evH/wgDr77x8/1uP+w6NHPzx6xLUPH9S4Q35qJ8vqBm1kONzhMedHbTWwljFEX55cqRj3Mrz7D48eiY58lmSO874Ud3Tkvyd34doE+tVScSXiTqucFHfR6g/36nHXQ2yiyPUom1jFuKuwllYDDe7Mcf5CGopicYdmJy3uEIe+2d2lmF5HM7fqhvul6/5xcBBH+lute437UqyX4J5BoabFnW7XsLsy3KlAwhOlxZ1OBpw4Dgzc1Ar3CzIRYNZuz3x/3u/fTSZXnpeK5nPP+9brZcAdUDbBHVBeQ9xfp8T9SzK8o8H9/YMH1E7UlwTKHj9ey3BXPdrPjgNuEobQASwYg4SNtRIe0OacR3yfe544GrrUc8OYa2bPbWKrwz1DrGAFuH//+DFEwbmu6i8G+kRsH0Tc6bngMgxxv3AcmBUDs9KRqsVoxE2IjScLDIdXrRagDDvCrBjYNx7S7/fB78IMBWhAMBtM7cLdcXyeZr7e3b10XXqp8+FwMRzKawK+ODIcznz/N+EUs273wnFmyddTfnOc693du+iNkzPXPXOcWbe7GI1mvR4LggvfXzrInyFqnso+OM4HYUutcU9LcFrcl3xchvt1twtTXJCqb70exf06+RoHzMQCNwlzG+Gfs+TrIPPh8NJ1b0cjENkz37+LyMbXMq48bxYd/AJmI/f7V573qdWC+fG/JS8V6yS1b73e3WQy830QKsFkchZd3vXu7rnn4fWfRdPaoImY9XqL0ehTqwWnu97dPUtWiQvfTxVjKQr3D8ssFjNprRLcv3/8+Iv2LFwUUhzJ4vimXYKTlLjPul2cDXvueSwIPrVagAXkgYm+KCFgnm3IU7d77nlAD2w5c93fHGfm+7NuF2oCyo/r3d3FaERziteAmeEVEKqnAV9RfoAzhopx5rosCKbR5cHF/Bad4iwpZuiOgD7iPmu3UyFOpUvTcUcxEw/spzmLPjPg/gvZQtE39O4XjgN6BpQMCmUuD/cxfGsuCOb9PjpOevBZcgt+BOa4A8JGziju4PtF3MW9ZtHRaB6KOzhsccdfo4ssNYy45riLUqRw3JlijoOhd0f5C0qGIxUaeurdZ+32ued9arVQJSNh1LvDFpV353AP39Votc4978rzLnwf5DXa9e4uHv/CcT61Wrej0azdBo0Ejcy558G1UazPomL+msT9bjKZYevk+5/bbcQ9LdDZQF+K9RLcM0QP0uJOh0IzxN3Lw50b+k2LO2iJWNcS3LF9P49e40BfPvP9i+hl5/PodZDz6HUQUPPzgwOgEM8lxR0y3+zunnsedHk5X37ueVAhZ+32he/Ph8O7yeTMdeGFqQvfP496Ap9aLSnu6N0/tVpnrnu9uzsfDkG7w+lqhfup2srFnTpOKkVU2yvB/aOss6vHHVt54OluMpkPh/A/PHVEbdbt3kWDO1AfzqIRn2AyQQV8QV4HAWn+qdXCVyjgRGdRg0CVBqijT1Fg524ywVAJNahvd5PJ3WQy7/eheQFww9dTRqPP7faZ43xut1GT/Eq8+7nnwSk+t9tQBKjkfxwcnLluZtzLEC2V4c6rYQHoh9999zG5y+pxZ8nWxhD3Yq3Aw2aLeWfrXJaB8ipwvygHd47s7x8/5sASgc6Ju2iqGZH04AdCOAhwLxzrkqwMoPWIV4VyBsRPHWccWYx7WjOc7/4XmTJG+1VbQ1aGu3gQi/t64A6UjyIrHXfmOOKwKPB04fviqvBV4c5VS8A9mzAoz/KIjfxWf7g5X05BLwJ3llwSA19FZclVIKdTxtis18OpLGxvL/H+6OlpIr/0NVP6SiueSLoqmJiOjtL+1AL8cGzlfK8Y91Xq7/uJO66Q4ZBFBBhZFwmXBca1A/CFbljfC17Qnk7j9Qu4pdkhA4XbBPfT08Si8vT4BvbPinDPD/SvZEDeHOL6+G89yplBHznO/xaAOyPrU+PCG4wsa4pogn9F+sUMyC63RIzrxgvumeOOX+FaHdySBwa459e75VmTcR8rjINbtCJwx8VbYMUvbplfYBcbAW7tDQoo6iJxRST8SZwMuDuypciKwB2mi4Sh8V4vD7t0fhUOWhUoPGDaTEmC5L7g/o9icAewcAU8ZBG8Piz7iKjhMkl0hSOgeSnu2by7WFuKwB1mwM663WmnA7NeYTgmD+7TTgdN478z4D7rdi98v0KIa4o7DW8tx308ZiySJaAZwKlTWPHXClQoizhyeUS4a4A7CwLq0a93d/M4eJxfVeduZbG4m2BtgvgKcR8MYsShAwr6mCLOwZ0Kd0ynp4mf9Cgf9xvHYYxpaIOJA59aLW47DLDDcP2s14ONoCVwTUZRqOAIPKdAZt0uTHz/6Dif2208ArhqGPCf9Xrh6bpd2BEnIOBGGPwPPT3m7/Xi/NHLJeee98Fxzj3v62AQHiHKVh/cxW6oiPg/BPsfxF06eCEiTr8N4UaMAClYRQy2Q/gPEnZnU+F+chKHVo6O4oNUjfuvEWog3K93dy98H8G9m0xgqiC86AC4w2SscE7VcCiKDSpmAE3U8YA7kAcTXTYpAaIAAApDSURBVO4mk4+OMyWvYsARYELL3WQCGyEDXMm008FdYBoj/AP5Z70eID4fDs9cdzEafR0MPrVaF74fTCaTly9XhnVaxFWg/4/M8uH+4kXMLsUaBDr8cgFLLnqqwZ3r3TKyLjZEZnDV36pxBwOewJeDJ4aNMG0Q5jlOOx3AHf5BRy7FHe12NALcAT7IA2iee97k5Us4wjSaOQxgwTUAx7ARVTuHO07f/UAOcuo4F74/efnyc/RyyanjfHCc693d29FoZYivAvcztamGqRlj7McfYxApr9hthe30t5YwLEhXk+QiJ6quqhjeSYU7HSIww10jXgE+/AjQf4zmHiK4ABn+81GLO7cRuKR5oF6BIbs0/+TlS9Whpp3OhwhfOMLXweDMdaHynBJYuS3wsRC4zZW3OdyidAGy/1tmuXGnv5pNscaxIZb8JT1xgV8xEl9sIBKPj41DbtzhVbcEi70e4D6PJqxTyvPjjtKIUi7iDpEizrt/arUQd2h8TiMxNnn5UvTu0+jlEkPvXh7u0ti5SpdzlhF3lYXw0W4lxZpWA24AH3+gBpQPHgF3N8edLuvOrfi+vx8u6I6DX9zqxPm8O7wkkQhE9nofHSeYTL4OBiimOdw/yMgWN6I4AdH8MXKxqP7B3QKXH5L5QUSBdse94AJOyXFg4+fo5RLQ7vPhEFz+3WTyx8HBuedhrSgQ7jyeWyNUEPH/Euw/I8uNO50nQ0fpEVlRQqCeoYmOAYm44282cbhLjyBNtOUpAneMwIDUnnW7HyI3DDhChxI7nXFgxMC7U3zhI57udjQCNfIh8tAc7qfkGm5HI6AcLuBUCBwBfxe+fzsaobwZOc6nVgsiM7ejERwzA+Lm4mTVuGcIFYfwuW68uDslZmOD/xEl7ltcFR5+L5t++/x5uB2bha2tcAs0CHhwangiuvHoKNUP7pnj/lHWrOvzm1uqfuHqe5CGvpwiKwJN8dXDnVa6ANkU9P9wnP8oBvc1tbXEvVTiy8PdRJeLvrww3MOhkwbjXh6OZVt5oAPKopgxwZ1CD0CnxZ0ijnAj6GgW9/uKex40wfIfQYS7nrj/3XH+TnHP8BLAeuP+zXEYY5UzXbhXNpl5kn92iomZ63JNYPG/hc6o6NER979b3C3uReEuqvBisS4dd7ERbxruRUFWlRU1ipktXGgCtwp0TTBRahrE0X6xuKusbrgX5ZXXD3cV3DrcMwTLLO6rRLwoKEVAVf9nM3Og9cFEE8Qp6L+YmcXd4p4F96KUt8W9FmaOuygSVNtVpspvAq4ecRNwVeG/PHES0VSDQWkVuShdDEH/xXFOLO4q+0OBu4kCTuuPTfI3AXcKNGzRqPAMZnGvBe7mwkMFax61LWJNt2QTIea4q/y3iHtmxKnFuNMorx50yGNxLwr3PIMy1DcXa3k0d7W4n6hNjrvKmoa7iLUJ7iqZoTIVxOaDNSKC5libiA1x6lVaFa6S5hTopVHzbIhb3E1xV3lui3u2TqeGdZOo+apxp9YE3PUIpu0UplXPJl1GPe564aGXIhRT3KIRHibDQJkDiHkEDNq/I+5pWQ9xX/dk0ikU1bMJoMVGrPOoapXnLgp3jbcuqgNqaKlxPy1hAEW1nZo+DKcaOjG3/L7ZHMFsuJvAqpIf4nZq+s6iZu64of0SkZ0hmJgNa8p3xbhnm91RB9yL8s3iXuIR0upjPawqT5wN3zy4r8aLI9yihem0TNzFsUNV5y9bkM48YGfS7StbbKi6iRT0VMGNVCbqaZWJCtu8K5k/Xp4f92OZ3Q/c9RCbIGuSpwz1bII7hT5DLC8D7iaRkPuI+78TAbMEd9HKEzBpB1+yxTfSYm0yUFKsid1Ek85ffkFigq+IbJ5A4QqUOiIO0KfGvYyOaR1wV6GsB8s8ypE2HiLia3GvKe7mcwDzDKoX25U0h68M3FffWaRmjq8K9/xY58dd2g1VIb5q3LN1OpuJO9XN5vimBbeelgf3paAncOcANfHW5v5bFSJMG9vOEzlJKyrKszywmncTK2c3J9BFIf5vSSsGd3P9nScgmKc7WAfc8/vm+uOeX38XKF2UuBtOfqLbTYRKNm+dH9+0KK9SN99HmVEeyiagZ8BaZeuDe7UoW9xr5cWX4P6/akGikigmUZRsUfBs3rqoztxqrHJ2K/TWebDOgLgc96LsPuJeOXkW95XibjhErxIk5nBnG91MK04s0FUBnRZxE9CB1MyIg/1rqbjnH1pfP9wpBMXiWzfE7yXuJqADoNmChtniKipBosK9Poib415/iNPiDrCmxT0P2dzf+uKeLVZ9H3FXoX9/cRchrgR3kXWwMKWV3Rn0d7ZO5/2Ke9QBstWfMU93Mz/iKl8utXS4i7589bhX660t7nXD3Zz1GPc8Pculncv8ocMmIFsGfOVZfqzTIi714kv5luPOwWqOdVrcs407WsTrg3upfrpA3aLDnYMyz/yTPJOimgOuiFF5EOu7ifk9d+FYZ1ApuXAvyizuFveiiC8S96rXL7LJplWkCHdr1hpgFndrDTKLu7UGmcXdWoPM4m6tQWZxt9Ygs7hba5A1D/etLba9zd6+Ze/f8/b2LdveZltbifwbG5Kc1La32eam7oybm+xvf2Pb27o8rsueP2fb2+xvf5OfZXMzvpKNDdPC6o+5tcWePGGvXrGdnSVFWBdrEu4bG+zkxGg04uQkRurZM6Nd9vflJ336lE2nYZ4XL+R5trbiPNL07l3iSp49W17YzU12eqo75ukpe/KEPXvGdnbYs2fs1avqH1D51hjcNzZipPb32atXctvfD/NMpyHxCNnSXaTEvHsXEzadsqdP+QzPn8ffvnkjPwXsZY775ubyY2J9/vnn0M1X/ozKt8bgDtidni5XAlgxTk+ZQyDT7ALEQ35qW1sxoOBrwU+juW54rpOT5cAZ4u664bmOjhoCsbk1A/eNjRAUQ4WK+be2jHBHrOlGRPnNG+YQWKmkefEi9MEmXBri/uc/pzhmw6wZuL96FXpQ811A5b96tRx31w2bDu74R0ehy0fs3rzhJQ3kUel+zgxxh8JOp0t62FAJG2ZNwv39+xS7vH8vwV0apcEuAaUQ/T2N8zx5wksaqCeG3cRUuOsT9kwaZs3AHdp3xpjrGuVHHfLiBe/daZcX0+lpAkHc/eiIPzInacDfGzY7hrijQHr2TGmNZJ01BfcnT0L+3r41yv/2baw6RDFDA5ovXkjQAYkC6plGZjj/Sg/+/PnyqzLE/enTRI2yRqwZuDvEwcPwihgQdBz29Cnb2gplDOIi1e5PnsTEc6RyMobG3bkEkgbjmG/fss1NXftjHoiERgOPKS1sI60xuDuEeJOEelrTVUVSsa+pkTHUOEmDx9EkGiMyuXKTYzbP/TcJd8dhGxtsf183hDmdsv39hPvUR2awX3hywlw3jr0sDQICjhil+fOflbKHRZWHNimqRLsBz56FsmppzsZYw3C31myzuFtrkFncrTXILO7WGmQWd2sNMou7tQaZxd1ag8wmm5qV/h8HonjNin8LYQAAAABJRU5ErkJggg==" alt="" /></p>
<p>&nbsp;</p><br/>PlanetMySQL Voting:
	 <a href="http://planet.mysql.com/entry/vote/?entry_id=30118&vote=1&apivote=1">Vote UP</a> /
	 <a href="http://planet.mysql.com/entry/vote/?entry_id=30118&vote=-1&apivote=1">Vote DOWN</a>";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}s:32:"http://purl.org/dc/elements/1.1/";a:1:{s:7:"creator";a:1:{i:0;a:5:{s:4:"data";s:11:"InnoDB Team";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}}}i:27;a:6:{s:4:"data";s:138:"
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
  ";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";s:5:"child";a:3:{s:0:"";a:6:{s:5:"title";a:1:{i:0;a:5:{s:4:"data";s:34:"PuppetConf and the state of devops";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:4:"guid";a:1:{i:0;a:5:{s:4:"data";s:47:"http://blogs.the451group.com/opensource/?p=5607";s:7:"attribs";a:1:{s:0:"";a:1:{s:11:"isPermaLink";s:5:"false";}}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:4:"link";a:1:{i:0;a:5:{s:4:"data";s:60:"http://feedproxy.google.com/~r/451opensource/~3/Jz_BggRNos8/";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:11:"description";a:1:{i:0;a:5:{s:4:"data";s:3359:"It&#8217;s been some time now that we&#8217;ve been talking about devops, the pushing together of application development and application deployment via IT operations, in the enterprise. To keep up to speed on the trend, 451 CAOS attended PuppetConf, a conference for the Puppet Labs community of IT administrators, developers and industry leaders around the open source Puppet server configuration and automation software. One thing that seems clear, given the talk about agile development and operations, cloud computing, business and culture, our definition of devops continues to be accurate.
Another consistent part of devops that also emerged at PuppetConf last week was the way it tends to introduce additional stakeholders beyond software developers and IT administrators. This might be the web or mobile folks, sales and CRM people, security professionals or others, but it is typically about applying business operations methodology to applications and IT, thus bringing in more of the business minds as well. The introduction of additional stakeholders was also a theme we heard from Puppet Labs CEO Luke Kanies in his keynote address. Kanies then discussed how the community was working to make Puppet the &#8216;language of operations,&#8217; which it basically is along with competitors Chef from Opscode and CFEngine when it comes to devops implementations.
There was another interesting point on the PuppetConf stage from DTO Solutions co-founder and President Damon Edwards, who said devops should not be sold as a way to achieve cost savings, but rather as something that will bring return on investment (ROI). This is similar to the shift of open source software drivers we&#8217;ve seen in the enterprise, which are sometimes changing from cost savings and time to factors of performance, reliability and innovation.
Later in the conference during his keynote, Eucalyptus Systems CEO Marten Mickos also had some interesting observations concerning devops, which he described as managing the cloud from both sides. One of his points was that developers have the most to learn about operations. While I would agree to some extent, this statement is interesting when considered alongside my contention that most of the change in devops is happening on the IT administrator and operations side. Later in an interview, Mickos elaborated on his devops thinking, indicating the experts who orchestrate applications in cloud computing &#8212; both developers and admins &#8212; must understand the entire lifecycle and environment. Continuing our comparison of devops to open source, Mickos indicated the open source MySQL database that he helped usher into the enterprise was disrupting old technology, while devops is innovating new technology.
While it remains early days for devops in the case of many enterprise organizations, we continue to see and hear signs that devops practices, technologies, ideas and culture are making their way into more and more mainstream enterprise IT shops. While we expect devops practices to be implemented by many enterprises based on utility and need to leverage cloud computing, we see a higher level of awareness and engagement from leadership and executives than we did with open source software. This means we expect uptake of devops to happen more quickly and to generate more revenue and opportunity. 
";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:7:"pubDate";a:1:{i:0;a:5:{s:4:"data";s:31:"Wed, 28 Sep 2011 21:34:18 +0000";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:8:"category";a:20:{i:0;a:5:{s:4:"data";s:8:"Software";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}i:1;a:5:{s:4:"data";s:9:"451 group";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}i:2;a:5:{s:4:"data";s:13:"451caostheory";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}i:3;a:5:{s:4:"data";s:8:"451group";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}i:4;a:5:{s:4:"data";s:6:"admins";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}i:5;a:5:{s:4:"data";s:23:"application development";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}i:6;a:5:{s:4:"data";s:12:"applications";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}i:7;a:5:{s:4:"data";s:10:"automation";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}i:8;a:5:{s:4:"data";s:19:"business operations";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}i:9;a:5:{s:4:"data";s:21:"business requirements";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}i:10;a:5:{s:4:"data";s:10:"caostheory";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}i:11;a:5:{s:4:"data";s:8:"Cfengine";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}i:12;a:5:{s:4:"data";s:4:"chef";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}i:13;a:5:{s:4:"data";s:15:"cloud computing";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}i:14;a:5:{s:4:"data";s:13:"configuration";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}i:15;a:5:{s:4:"data";s:22:"continuous integration";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}i:16;a:5:{s:4:"data";s:13:"Damon Edwards";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}i:17;a:5:{s:4:"data";s:10:"developers";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}i:18;a:5:{s:4:"data";s:6:"devops";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}i:19;a:5:{s:4:"data";s:6:"DTO So";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}s:40:"http://purl.org/rss/1.0/modules/content/";a:1:{s:7:"encoded";a:1:{i:0;a:5:{s:4:"data";s:4216:"<p>It&#8217;s been some time now that we&#8217;ve been talking about devops, the pushing together of application development and application deployment via IT operations, in the enterprise. To keep up to speed on the trend, 451 CAOS attended <a href="http://puppetconf.com/">PuppetConf</a>, a conference for the Puppet Labs community of IT administrators, developers and industry leaders around the open source Puppet server configuration and automation software. One thing that seems clear, given the talk about agile development and operations, cloud computing, business and culture, our <a href="http://blogs.the451group.com/opensource/2010/03/03/devops-mixing-dev-ops-agile-cloud-open-source-and-business/">definition of devops</a> continues to be accurate.</p>
<p>Another consistent part of devops that also emerged at PuppetConf last week was the way it tends to introduce additional stakeholders beyond software developers and IT administrators. This might be the web or mobile folks, sales and CRM people, security professionals or others, but it is typically about applying business operations methodology to applications and IT, thus bringing in more of the business minds as well. The introduction of additional stakeholders was also a theme we heard from Puppet Labs CEO Luke Kanies in his keynote address. Kanies then discussed how the community was working to make Puppet the &#8216;language of operations,&#8217; which it basically is along with competitors Chef from Opscode and CFEngine when it comes to devops implementations.</p>
<p>There was another interesting point on the PuppetConf stage from DTO Solutions co-founder and President Damon Edwards, who said devops should not be sold as a way to achieve cost savings, but rather as something that will bring return on investment (ROI). This is similar to the <a href="http://blogs.the451group.com/opensource/2011/07/28/contemplating-innovation-openness-clouds-at-oscon/">shift</a> of open source software drivers we&#8217;ve seen in the enterprise, which are sometimes changing from cost savings and time to factors of performance, reliability and innovation.</p>
<p>Later in the conference during his keynote, Eucalyptus Systems CEO Marten Mickos also had some interesting observations concerning devops, which he described as managing the cloud from both sides. One of his points was that developers have the most to learn about operations. While I would agree to some extent, this statement is interesting when considered alongside my contention that most of the change in devops is happening on the IT administrator and operations side. Later in an <a href="http://dev2ops.org/blog/2011/9/27/video-marten-mickos-and-rich-wolski-talk-devops-and-private.html">interview,</a> Mickos elaborated on his devops thinking, indicating the experts who orchestrate applications in cloud computing &#8212; both developers and admins &#8212; must understand the entire lifecycle and environment. Continuing our comparison of devops to open source, Mickos indicated the open source MySQL database that he helped usher into the enterprise was disrupting old technology, while devops is innovating new technology.</p>
<p>While it remains early days for devops in the case of many enterprise organizations, we continue to see and hear signs that devops practices, technologies, ideas and culture are <a href="http://blogs.the451group.com/opensource/2011/06/27/structure-builds-empowerment-value-out-of-devops-auto-ops/">making their way</a> into more and more mainstream enterprise IT shops. While we expect devops practices to be implemented by many enterprises based on utility and need to leverage cloud computing, we see a higher level of awareness and engagement from leadership and executives than we did with open source software. This means we expect uptake of devops to happen more quickly and to generate more revenue and opportunity. </p>
<img src="http://feeds.feedburner.com/~r/451opensource/~4/Jz_BggRNos8" height="1" width="1" /><br/>PlanetMySQL Voting:
	 <a href="http://planet.mysql.com/entry/vote/?entry_id=30117&vote=1&apivote=1">Vote UP</a> /
	 <a href="http://planet.mysql.com/entry/vote/?entry_id=30117&vote=-1&apivote=1">Vote DOWN</a>";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}s:32:"http://purl.org/dc/elements/1.1/";a:1:{s:7:"creator";a:1:{i:0;a:5:{s:4:"data";s:13:"The 451 Group";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}}}i:28;a:6:{s:4:"data";s:63:"
    
    
    
    
    
    
    
    
    
    
    
    
  ";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";s:5:"child";a:3:{s:0:"";a:6:{s:5:"title";a:1:{i:0;a:5:{s:4:"data";s:79:"Installing HandlerSocket on RHEL 6 + Percona-Server 5.5 in Five(ish) Easy Steps";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:4:"guid";a:1:{i:0;a:5:{s:4:"data";s:29:"http://www.pablowe.net/?p=767";s:7:"attribs";a:1:{s:0:"";a:1:{s:11:"isPermaLink";s:5:"false";}}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:4:"link";a:1:{i:0;a:5:{s:4:"data";s:107:"http://www.pablowe.net/2011/09/installing-handlersocket-on-rhel-6-percona-server-5-5-in-fiveish-easy-steps/";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:11:"description";a:1:{i:0;a:5:{s:4:"data";s:326:"As a followup to my previous post on installing HandlerSocket on CentOS 5 + Percona-Server 5.1, I&#8217;ve been asked to provide an updated HOWTO for RHEL 6 + Percona-Server 5.5. Although very similar to the original steps, there are some new traps (RHEL 6 comes with SELinux enabled) and there are some new ec2 gotchas! [...]";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:7:"pubDate";a:1:{i:0;a:5:{s:4:"data";s:31:"Wed, 28 Sep 2011 20:00:05 +0000";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:8:"category";a:5:{i:0;a:5:{s:4:"data";s:13:"HandlerSocket";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}i:1;a:5:{s:4:"data";s:5:"MySQL";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}i:2;a:5:{s:4:"data";s:20:"MySQL Administration";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}i:3;a:5:{s:4:"data";s:11:"Performance";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}i:4;a:5:{s:4:"data";s:11:"Random Tech";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}s:40:"http://purl.org/rss/1.0/modules/content/";a:1:{s:7:"encoded";a:1:{i:0;a:5:{s:4:"data";s:539:"As a followup to my previous post on installing HandlerSocket on CentOS 5 + Percona-Server 5.1, I&#8217;ve been asked to provide an updated HOWTO for RHEL 6 + Percona-Server 5.5. Although very similar to the original steps, there are some new traps (RHEL 6 comes with SELinux enabled) and there are some new ec2 gotchas! [...]<br/>PlanetMySQL Voting:
	 <a href="http://planet.mysql.com/entry/vote/?entry_id=30116&vote=1&apivote=1">Vote UP</a> /
	 <a href="http://planet.mysql.com/entry/vote/?entry_id=30116&vote=-1&apivote=1">Vote DOWN</a>";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}s:32:"http://purl.org/dc/elements/1.1/";a:1:{s:7:"creator";a:1:{i:0;a:5:{s:4:"data";s:9:"Ryan Lowe";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}}}i:29;a:6:{s:4:"data";s:68:"
    
    
    
    
    
    
    
    
    
    
    
    
    
  ";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";s:5:"child";a:3:{s:0:"";a:6:{s:5:"title";a:1:{i:0;a:5:{s:4:"data";s:29:"Thirteen signs of DBA fudging";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:4:"guid";a:1:{i:0;a:5:{s:4:"data";s:32:"http://www.bluegecko.net/?p=3296";s:7:"attribs";a:1:{s:0:"";a:1:{s:11:"isPermaLink";s:5:"false";}}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:4:"link";a:1:{i:0;a:5:{s:4:"data";s:62:"http://www.bluegecko.net/oracle/thirteen-signs-of-dba-fudging/";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:11:"description";a:1:{i:0;a:5:{s:4:"data";s:3079:"If you are a director, manager or project manager who works with DBAs, you probably have had the nagging suspicion at one time or another that a DBA&#8217;s assertions regarding his or her practices lack an empirical or scientific basis, or are simply deflections intended to pass the buck.
Manager: Mr. DBA, the application is really slow. Do you have any idea what&#8217;s wrong?
DBA: Oracle is very complex. It could be any of 100 different possible causes. I will begin checking each. Anyhow, what makes you think it is the database?
Some DBAs are professional, thoughtful scientific-minded contributors. But the sad truth is that many DBAs lack the skills to professionally manage their systems. To cover, they use deflections such as the example above, or fall back on old, long-disproved practices without the benefit of evidence. Why is this true of DBAs?  One reason is that the standard education options are poor.
To help non-DBAs realize that they are being subjected to misdirection, obsolete advice, or simply ignorance, we have compiled a list of common ways that DBAs cover for their shortcomings, and avoid legitimate empirical investigation and analysis of problems and solutions.
Take notice when a DBA:

Cites &#8220;best practices,&#8221; or advice from a particular guru or website, as the sole reason for doing something.
States that &#8220;this is how we have always done it&#8221; as the sole reason for doing something.
Claims that reducing &#8220;head movement&#8221; by changing file or disk layout will improve performance.
Blames &#8220;fragmentation&#8221; for performance problems and states the database must be taken down for &#8220;defragmentation.&#8221;
Spends lots of time (and compute resources) rebuilding indexes.
States he/she must do things to improve the &#8220;buffer cache hit ratio.&#8221;
Discourages the use of RMAN or ASM because they are &#8220;too complex.&#8221;
Insists on separating indexes from tables physically, despite a modern caching SAN.
Blames performance problems on a SQL statement&#8217;s length, apparent complexity, length of execution plan or number of joins.
Says that there is no conclusive way to determine the cause of slowness.
Claims certain actions are &#8220;dangerous&#8221; without having a cogent technical explanation of why.
States it is necessary to perform manual tasks upon database startup, or at any regular scheduled interval
Accounts for time by listing the procedures/checks he/she manually runs on a daily/weekly/monthly basis

At Blue Gecko, our remote DBA services are based in proven, evidence-based standards.  When we assert that something must be done, we will always be able to provide a cogent reason, and cite evidence for our actions. We don&#8217;t do things without a good reason.  We find that pat advice from &#8220;gurus&#8221; often lacks a basis in evidence.  We deal in databases. We should always be able to cite data!



Related posts:New whitepaper: Common Oracle Misconceptions
Jeremiah Wilton published in the latest Oak Table press book!
Proactive support
";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:7:"pubDate";a:1:{i:0;a:5:{s:4:"data";s:31:"Wed, 28 Sep 2011 18:14:35 +0000";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:8:"category";a:6:{i:0;a:5:{s:4:"data";s:27:"Jeremiah Wilton's Oradeblog";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}i:1;a:5:{s:4:"data";s:5:"MySQL";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}i:2;a:5:{s:4:"data";s:6:"Oracle";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}i:3;a:5:{s:4:"data";s:19:"Oracle Applications";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}i:4;a:5:{s:4:"data";s:10:"Remote DBA";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}i:5;a:5:{s:4:"data";s:10:"SQL Server";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}s:40:"http://purl.org/rss/1.0/modules/content/";a:1:{s:7:"encoded";a:1:{i:0;a:5:{s:4:"data";s:4250:"<p>If you are a director, manager or project manager who works with DBAs, you probably have had the nagging suspicion at one time or another that a DBA&#8217;s assertions regarding his or her practices lack an empirical or scientific basis, or are simply deflections intended to pass the buck.</p>
<blockquote><p>Manager: Mr. DBA, the application is really slow. Do you have any idea what&#8217;s wrong?</p>
<p>DBA: Oracle is very complex. It could be any of 100 different possible causes. I will begin checking each. Anyhow, what makes you think it is the database?</p></blockquote>
<p>Some DBAs are professional, thoughtful scientific-minded contributors. But the sad truth is that many DBAs lack the skills to professionally manage their systems. To cover, they use deflections such as the example above, or fall back on old, long-disproved practices without the benefit of evidence. Why is this true of DBAs?  One reason is that the <a title="Good OCP / bad OCP" href="http://www.bluegecko.net/education/good-ocp-bad-ocp/" target="_blank">standard education options are poor</a>.</p>
<p>To help non-DBAs realize that they are being subjected to misdirection, obsolete advice, or simply ignorance, we have compiled a list of common ways that DBAs cover for their shortcomings, and avoid legitimate empirical investigation and analysis of problems and solutions.</p>
<p>Take notice when a DBA:</p>
<ol>
<li>Cites &#8220;best practices,&#8221; or advice from a particular guru or website, as the sole reason for doing something.</li>
<li>States that &#8220;this is how we have always done it&#8221; as the sole reason for doing something.</li>
<li>Claims that reducing &#8220;head movement&#8221; by changing file or disk layout will improve performance.</li>
<li>Blames &#8220;fragmentation&#8221; for performance problems and states the database must be taken down for &#8220;defragmentation.&#8221;</li>
<li>Spends lots of time (and compute resources) rebuilding indexes.</li>
<li>States he/she must do things to improve the &#8220;buffer cache hit ratio.&#8221;</li>
<li>Discourages the use of RMAN or ASM because they are &#8220;too complex.&#8221;</li>
<li>Insists on separating indexes from tables physically, despite a modern caching SAN.</li>
<li>Blames performance problems on a SQL statement&#8217;s length, apparent complexity, length of execution plan or number of joins.</li>
<li>Says that there is no conclusive way to determine the cause of slowness.</li>
<li>Claims certain actions are &#8220;dangerous&#8221; without having a cogent technical explanation of why.</li>
<li>States it is necessary to perform manual tasks upon database startup, or at any regular scheduled interval</li>
<li>Accounts for time by listing the procedures/checks he/she manually runs on a daily/weekly/monthly basis</li>
</ol>
<p>At Blue Gecko, our <a href="http://www.bluegecko.net/remote-dba-services/" target="_blank">remote DBA services</a> are based in proven, evidence-based standards.  When we assert that something must be done, we will always be able to provide a cogent reason, and cite evidence for our actions. We don&#8217;t do things without a good reason.  We find that pat advice from &#8220;gurus&#8221; often lacks a basis in evidence.  We deal in databases. We should always be able to cite data!</p>
<ol></ol>


<p>Related posts:<ol><li><a href="http://www.bluegecko.net/news-events/new-whitepaper-common-oracle-misconceptions/" rel="bookmark" title="Permanent Link: New whitepaper: Common Oracle Misconceptions">New whitepaper: Common Oracle Misconceptions</a></li>
<li><a href="http://www.bluegecko.net/news-events/jeremiah-wilton-published-in-the-latest-oak-table-press-book/" rel="bookmark" title="Permanent Link: Jeremiah Wilton published in the latest Oak Table press book!">Jeremiah Wilton published in the latest Oak Table press book!</a></li>
<li><a href="http://www.bluegecko.net/remote-dba/proactive-support/" rel="bookmark" title="Permanent Link: Proactive support">Proactive support</a></li>
</ol></p><br/>PlanetMySQL Voting:
	 <a href="http://planet.mysql.com/entry/vote/?entry_id=30115&vote=1&apivote=1">Vote UP</a> /
	 <a href="http://planet.mysql.com/entry/vote/?entry_id=30115&vote=-1&apivote=1">Vote DOWN</a>";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}s:32:"http://purl.org/dc/elements/1.1/";a:1:{s:7:"creator";a:1:{i:0;a:5:{s:4:"data";s:13:"Sarah Novotny";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}}}i:30;a:6:{s:4:"data";s:53:"
    
    
    
    
    
    
    
    
    
    
  ";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";s:5:"child";a:3:{s:0:"";a:6:{s:5:"title";a:1:{i:0;a:5:{s:4:"data";s:53:"MySQL For Oracle DBAs or Speaking MySQL for Beginners";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:4:"guid";a:1:{i:0;a:5:{s:4:"data";s:41:"http://opensourcedba.wordpress.com/?p=317";s:7:"attribs";a:1:{s:0:"";a:1:{s:11:"isPermaLink";s:5:"false";}}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:4:"link";a:1:{i:0;a:5:{s:4:"data";s:100:"http://opensourcedba.wordpress.com/2011/09/28/mysql-for-oracle-dbas-or-speaking-mysql-for-beginners/";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:11:"description";a:1:{i:0;a:5:{s:4:"data";s:525:" I will be presenting at Oracle Open World but my presentation is not designed for a MySQL Audience. MySQL for Oracle DBAs or Speaking MySQL for Beginners will help Oracle DBAs embrace MySQL.  Many Oracle shops also have MySQL and 11G or RAC DBAs can easily add MySQL skills to their existing set but can benefit from some gentle nudges in the right direction to get them started.  Look for Session 15143 on Tuesday at 3:30 in Golden gate B at the Marriott Marquis.  And do not forget the community reception after!
         ";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:7:"pubDate";a:1:{i:0;a:5:{s:4:"data";s:31:"Wed, 28 Sep 2011 14:48:07 +0000";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:8:"category";a:3:{i:0;a:5:{s:4:"data";s:14:"community team";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}i:1;a:5:{s:4:"data";s:5:"MySQL";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}i:2;a:5:{s:4:"data";s:22:"Oracle Open World 2011";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}s:40:"http://purl.org/rss/1.0/modules/content/";a:1:{s:7:"encoded";a:1:{i:0;a:5:{s:4:"data";s:2603:"<p><img src="http://opensourcedba.files.wordpress.com/2011/09/imspeaking.gif?w=160&amp;h=160" alt="" title="imspeaking" width="160" height="160" vspace="10" hspace="10" class="alignleft size-full wp-image-318" /> I will be presenting at Oracle Open World but my presentation is not designed for a MySQL Audience. <em>MySQL for Oracle DBAs or Speaking MySQL for Beginners</em> will help Oracle DBAs embrace MySQL.  Many Oracle shops also have MySQL and 11G or RAC DBAs can easily add MySQL skills to their existing set but can benefit from some gentle nudges in the right direction to get them started.  Look for Session 15143 on Tuesday at 3:30 in Golden gate B at the Marriott Marquis.  And do not forget the community reception after!</p>
<br />  <a rel="nofollow" href="http://feeds.wordpress.com/1.0/gocomments/opensourcedba.wordpress.com/317/"><img alt="" border="0" src="http://feeds.wordpress.com/1.0/comments/opensourcedba.wordpress.com/317/" /></a> <a rel="nofollow" href="http://feeds.wordpress.com/1.0/godelicious/opensourcedba.wordpress.com/317/"><img alt="" border="0" src="http://feeds.wordpress.com/1.0/delicious/opensourcedba.wordpress.com/317/" /></a> <a rel="nofollow" href="http://feeds.wordpress.com/1.0/gofacebook/opensourcedba.wordpress.com/317/"><img alt="" border="0" src="http://feeds.wordpress.com/1.0/facebook/opensourcedba.wordpress.com/317/" /></a> <a rel="nofollow" href="http://feeds.wordpress.com/1.0/gotwitter/opensourcedba.wordpress.com/317/"><img alt="" border="0" src="http://feeds.wordpress.com/1.0/twitter/opensourcedba.wordpress.com/317/" /></a> <a rel="nofollow" href="http://feeds.wordpress.com/1.0/gostumble/opensourcedba.wordpress.com/317/"><img alt="" border="0" src="http://feeds.wordpress.com/1.0/stumble/opensourcedba.wordpress.com/317/" /></a> <a rel="nofollow" href="http://feeds.wordpress.com/1.0/godigg/opensourcedba.wordpress.com/317/"><img alt="" border="0" src="http://feeds.wordpress.com/1.0/digg/opensourcedba.wordpress.com/317/" /></a> <a rel="nofollow" href="http://feeds.wordpress.com/1.0/goreddit/opensourcedba.wordpress.com/317/"><img alt="" border="0" src="http://feeds.wordpress.com/1.0/reddit/opensourcedba.wordpress.com/317/" /></a> <img alt="" border="0" src="http://stats.wordpress.com/b.gif?host=opensourcedba.wordpress.com&amp;blog=15386988&amp;post=317&amp;subd=opensourcedba&amp;ref=&amp;feed=1" width="1" height="1" /><br/>PlanetMySQL Voting:
	 <a href="http://planet.mysql.com/entry/vote/?entry_id=30114&vote=1&apivote=1">Vote UP</a> /
	 <a href="http://planet.mysql.com/entry/vote/?entry_id=30114&vote=-1&apivote=1">Vote DOWN</a>";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}s:32:"http://purl.org/dc/elements/1.1/";a:1:{s:7:"creator";a:1:{i:0;a:5:{s:4:"data";s:11:"Dave Stokes";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}}}i:31;a:6:{s:4:"data";s:48:"
    
    
    
    
    
    
    
    
    
  ";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";s:5:"child";a:3:{s:0:"";a:6:{s:5:"title";a:1:{i:0;a:5:{s:4:"data";s:54:"Replication plugin ¦ filter ¦ conquer = 1.1.0 coming";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:4:"guid";a:1:{i:0;a:5:{s:4:"data";s:32:"http://blog.ulf-wendel.de/?p=319";s:7:"attribs";a:1:{s:0:"";a:1:{s:11:"isPermaLink";s:5:"false";}}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:4:"link";a:1:{i:0;a:5:{s:4:"data";s:32:"http://blog.ulf-wendel.de/?p=319";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:11:"description";a:1:{i:0;a:5:{s:4:"data";s:8838:"
The soon to be announced version 1.1.0-beta of the mysqlnd replication and load balancing plugin (PECL/mysqlnd_ms) for PHP introduces a new concept of filters to the plugin. Filters take a list of servers to pick one or more of it. Filters can be chained, similar command line tools. Imagine a future with a filter chain like: user_multi | roundrobin, table_partitioning | random_once,  table_partitioning | adaptive_loadbalancer, &#8230; For example, user_multi | roundrobin will first invoke a callback and then apply static round robin load balancing to the servers returned by the callback set with user_multi . Or, table_partitioning | adaptive_loadbalancer would first apply replication partitioning rules (db.a -> server_a, db.b -> server_b&#8230;) and then a candicate is choosen for statement executions using some sort of adaptive load balancing implemented by the adaptive_loadbalancer&#8230;. future music, though!

	The filters of 1.1.0
	
The filter concept is not fully developed in 1.1.0-beta. Foundations had to be laid first. Backward compatibility of the plugins configuration file format was broken between alpha and beta. As of 1.1.0, JavaScript Object Notation (JSON) format is used instead of PHP (php.ini) configuration file format. JSON allows defining hierarchical data structures and is easy to process, thanks to PHPs build in JSON support. Please, follow the links to the mysqlnd_ms manual for details.

	

	
{
    &quot;myapp&quot;: {
        &quot;master&quot;: {
            &quot;master_0&quot;: {
                &quot;host&quot;: &quot;localhost&quot;
            }
        },
        &quot;slave&quot;: {
            &quot;slave_0&quot;: {
                &quot;host&quot;: &quot;192.168.78.136&quot;,
                &quot;port&quot;: &quot;3306&quot;
            },
            &quot;slave_1&quot;: {
                &quot;host&quot;: &quot;192.168.78.137&quot;,
                &quot;port&quot;: &quot;3306&quot;
            }
        },
        &quot;filters&quot;: {
            &quot;roundrobin&quot;: [
	
            ]
        }
    }
}

	

	
	
The following filters are included in 1.1.0-beta.
	
	random
Replaces pick[]=random, pick[]=random_once, implements random and random once load balancing.

	roundrobin
Replaces pick[]=roundrobin, implements roundrobin load balancing.

	user
Replaces mysqlnd_ms_set_user_pick_server(), callback for user-defined server selection

	
	How filters work
	
Whatever kind of MySQL replication cluster your PHP application may use, it will be faced with two tasks whenever a SQL statement is to be executed:
	
	Identify the servers capable of executing a statement
	
	Read or write request?
	Accessing a database or table not replicated to all nodes?
	
	
	Choose one of the candidates to execute the statement
	
	Random choice?
	Round robin load balancing?
	Load balancing adaptive to system load?
	
	
	
	
By answering those questions an application filters the list of configured replication nodes until one node is left. And this is, what filters are about. Filters stepwise reduce the list of candidates for statement execution. In pseudo-code this looks like:

	

	
foreach (filters as filter) {
   servers = filter-&gt;reduce(statement, servers);
   if (1 == count(servers))
     break;
}

	

	
Filtering is an iterative process. There can be more than one filter. In a way you can compare chaining filters to chaining small, easy to maintain small command line tools on a shell using the shell&#8217;s pipe operator. Instead of having one complex, hard to use super-duper tool you combine small tools to get the job done.

	

	
grep -R &quot;filter&quot; en/reference/mysqlnd_ms/ | sort | head -n 1

	

	
Like a command line tool accepts parameters, some of mysqlnd_ms 1.1.0-beta filters accept parameters as well. For example, the random filter has a &quot;sticky&quot; argument to enable random once load balancing.

	Filter chains today
	
Plenty of code got re-factored between 1.0.1-alpha and 1.1.0-beta to make the plugins C code base more modular by introducing filters. Thus, we decided to act stepwise, offering no filters providing new major features in 1.1.0. None of the 1.1.0 filters is  a &quot;multi-filter&quot;.

	
There are two types of filters, lets call them &quot;single-filter&quot; and &quot;multi-filter&#038;;. All filters get the statement to be executed and a list of servers as an input. Some filters reduce the server list down to one server. Those filters shall be called &quot;single-filters&quot;. The random, roundrobin and user filter are such single-filters. They are supposed to output exactly one server. In the future there may be multi-filters. A multi-filter outputs one or more servers. The output of a multi-filter requires further processing until one server has been picked for statement execution.

	

	
n &gt;= 1 servers -&gt; single-filter -&gt; 1 server
n &gt;= 1 servers -&gt; multi-filter -&gt; m &lt;= n servers

	

	
Chaining the 1.1.0 single-filters makes little sense and is thus forbidden by the plugin. You get an error when you try to do something like random | roundrobin. Random always outputs only one server. Round robin with only one server&#8230;

	A fictive table partitioning multi-filter
	
The full potential of the filter concept becomes visible with a fictive &quot;table&quot; filter.  A table filter to support MySQL replication partitioning rules.
MySQL replication can be instructed to restrict replication to certain schema objects for certain replication nodes. Imagine you have an application using two databases &quot;web&quot; and &quot;reports&quot;. The &quot;web&quot; database is very popular and you replicate it from the master to all your slaves. The &quot;reports&quot; database is not so and it is sufficient to have it available on the master and one of the slaves.

	

	
{
    &quot;myapp&quot;: {
        &quot;master&quot;: {
            &quot;master_0&quot;: {
                &quot;host&quot;: &quot;localhost&quot;
            }
        },
        &quot;slave&quot;: {
            &quot;slave_0&quot;: {
                &quot;host&quot;: &quot;192.168.2.27&quot;,
                &quot;port&quot;: &quot;3306&quot;
            },
            &quot;slave_1&quot;: {
                &quot;host&quot;: &quot;192.168.78.136&quot;,
                &quot;port&quot;: &quot;3306&quot;
            },
            &quot;slave_2&quot;: {
                &quot;host&quot;: &quot;192.168.78.137&quot;,
                &quot;port&quot;: &quot;3306&quot;
            }
        },
        &quot;filters&quot;: {
            &quot;table&quot;: {
                &quot;rules&quot;: {
                    &quot;reports.%&quot;: {
                        &quot;master&quot;: [
                            &quot;master_0&quot;
                        ],
                        &quot;slave&quot;: [
                            &quot;slave_0&quot;
                        ]
                    },
                    &quot;web.%&quot;: {
                        &quot;master&quot;: [
                            &quot;master_0&quot;
                        ],
                        &quot;slave&quot;: [
                            &quot;slave_0&quot;,
                            &quot;slave_1&quot;,
                            &quot;slave_2&quot;
                        ]
                    }
                }
            },
            &quot;random&quot;: {
                &quot;sticky&quot;: &quot;1&quot;
            }
        }
    }
}

	

	
Of course, you want the plugin to be aware of these partitioning rules. The fictive table filter will serve you. You add it to your filter chain and teach it about the data distribution. The table multi-filter analyzes the statement to be executed and outputs a list of one or more replication nodes capable of executing the statement. Then, you pass the output into the random single-filter to pick a candidate for query execution. Here is some pseudo-code to illustrate what happens:

	

	
servers = array(
 &quot;master&quot; =&gt; array(&quot;master_0&quot;),
 &quot;slave&quot; =&gt; array(&quot;slave_0&quot;, &quot;slave_1&quot;, &quot;slave_2)
)
statement = &quot;SELECT * FROM reports.daily&quot;;
	
servers = filters-&gt;table-&gt;reduce(statement, servers)
servers = filters-&gt;random-&gt;reduce(statement, servers)
	
execute(statement, servers[0])

	

	
And, no, in theory, there&#8217;s nothing that would stop us from supporting more than one master with such a fictive table filter&#8230;

	
However, it has been quite a bit of work to lay the foundations of the filter concept. 1.1.0 is about laying foundations. Whishes and requests for the future are much appreciated. Please, leave a comment or drop us an email.

	
Happy mysqlnd_ms 1.1.0-beta testing!

	
PS: I hope Andrey will release 1.1.0-beta tomorrow.
";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:7:"pubDate";a:1:{i:0;a:5:{s:4:"data";s:31:"Wed, 28 Sep 2011 12:51:04 +0000";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:8:"category";a:2:{i:0;a:5:{s:4:"data";s:21:"PlanetMySQL (english)";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}i:1;a:5:{s:4:"data";s:19:"PlanetPHP (english)";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}s:40:"http://purl.org/rss/1.0/modules/content/";a:1:{s:7:"encoded";a:1:{i:0;a:5:{s:4:"data";s:10762:"<p>
The <strong>soon to be announced version 1.1.0-beta</strong> of the <a href="http://docs.php.net/manual/en/book.mysqlnd-ms.php">mysqlnd replication and load balancing plugin</a> (PECL/mysqlnd_ms) for PHP introduces a new concept of filters to the plugin. Filters take a list of servers to pick one or more of it. Filters can be chained, similar command line tools. <strong>Imagine a future with a filter chain like: <code>user_multi | roundrobin</code>, <code>table_partitioning | random_once</code>,  <code>table_partitioning | adaptive_loadbalancer</code>, &#8230; </strong>For example, <code>user_multi | roundrobin</code> will first invoke a callback and then apply static round robin load balancing to the servers returned by the callback set with <code>user_multi</code> . Or, <code>table_partitioning | adaptive_loadbalancer</code> would first apply <a href="http://dev.mysql.com/doc/refman/5.6/en/replication-solutions-partitioning.html">replication partitioning rules</a> (db.a -> server_a, db.b -> server_b&#8230;) and then a candicate is choosen for statement executions using some sort of adaptive load balancing implemented by the <code>adaptive_loadbalancer</code>&#8230;.<strong> future music, though!</strong>
</p>
	<h3>The filters of 1.1.0</h3>
	<p>
The filter concept is not fully developed in 1.1.0-beta. Foundations had to be laid first. Backward compatibility of the plugins <a href="http://docs.php.net/manual/en/mysqlnd-ms.plugin-ini-json.php">configuration file format</a> was broken between alpha and beta. As of 1.1.0, JavaScript Object Notation (JSON) format is used instead of PHP (php.ini) configuration file format. JSON allows defining hierarchical data structures and is easy to process, thanks to PHPs build in JSON support. Please, follow the links to the <a href="http://docs.php.net/manual/en/book.mysqlnd-ms.php">mysqlnd_ms manual</a> for details.
</p>
	<p>
<code></p>
	<pre>
{
    &quot;myapp&quot;: {
        &quot;master&quot;: {
            &quot;master_0&quot;: {
                &quot;host&quot;: &quot;localhost&quot;
            }
        },
        &quot;slave&quot;: {
            &quot;slave_0&quot;: {
                &quot;host&quot;: &quot;192.168.78.136&quot;,
                &quot;port&quot;: &quot;3306&quot;
            },
            &quot;slave_1&quot;: {
                &quot;host&quot;: &quot;192.168.78.137&quot;,
                &quot;port&quot;: &quot;3306&quot;
            }
        },
        &quot;filters&quot;: {
            &quot;roundrobin&quot;: [
	
            ]
        }
    }
}
</pre>
	<p></code>
</p>
	<p><a></a></p>
	<p>
The following filters are included in 1.1.0-beta.</p>
	<ul>
	<li>random<br />
Replaces <code>pick[]=random</code>, <code>pick[]=random_once</code>, implements <a href="http://docs.php.net/manual/en/mysqlnd-ms.plugin-ini-json.php#ini.mysqlnd-ms-plugin-config-v2.filter_random">random and random once</a> load balancing.
</li>
	<li>roundrobin<br />
Replaces <code>pick[]=roundrobin</code>, implements <a href="http://docs.php.net/manual/en/mysqlnd-ms.plugin-ini-json.php#ini.mysqlnd-ms-plugin-config-v2.filter_roundrobin">roundrobin</a> load balancing.
</li>
	<li><a href="http://docs.php.net/manual/en/mysqlnd-ms.plugin-ini-json.php#ini.mysqlnd-ms-plugin-config-v2.filter_user">user</a><br />
Replaces <code><a href="http://docs.php.net/manual/en/function.mysqlnd-ms-set-user-pick-server.php">mysqlnd_ms_set_user_pick_server()</a></code>, callback for user-defined server selection
</li>
	</ul>
	<h3>How filters work</h3>
	<p>
Whatever kind of MySQL replication cluster your PHP application may use, it will be faced with two tasks whenever a SQL statement is to be executed:</p>
	<ol>
	<li>Identify the servers capable of executing a statement
	<ul>
	<li>Read or write request?</li>
	<li>Accessing a database or table not replicated to all nodes?</li>
	</ul>
	</li>
	<li>Choose one of the candidates to execute the statement
	<ul>
	<li>Random choice?</li>
	<li>Round robin load balancing?</li>
	<li>Load balancing adaptive to system load?</li>
	</ul>
	</li>
	</ol>
	<p>
By answering those questions an application filters the list of configured replication nodes until one node is left. And this is, what filters are about. Filters stepwise reduce the list of candidates for statement execution. In pseudo-code this looks like:
</p>
	<p>
<code></p>
	<pre>
foreach (filters as filter) {
   servers = filter-&gt;reduce(statement, servers);
   if (1 == count(servers))
     break;
}
</pre>
	<p></code>
</p>
	<p>
Filtering is an iterative process. There can be more than one filter. In a way you can compare chaining filters to chaining small, easy to maintain small command line tools on a shell using the shell&#8217;s pipe operator. Instead of having one complex, hard to use super-duper tool you combine small tools to get the job done.
</p>
	<p>
<code></p>
	<pre>
grep -R &quot;filter&quot; en/reference/mysqlnd_ms/ | sort | head -n 1
</pre>
	<p></code>
</p>
	<p>
Like a command line tool accepts parameters, some of mysqlnd_ms 1.1.0-beta filters accept parameters as well. For example, the <a href="http://docs.php.net/manual/en/mysqlnd-ms.plugin-ini-json.php#ini.mysqlnd-ms-plugin-config-v2.filter_random">random</a> filter has a &quot;sticky&quot; argument to enable random once load balancing.
</p>
	<h3>Filter chains today</h3>
	<p>
Plenty of code got re-factored between 1.0.1-alpha and 1.1.0-beta to make the plugins C code base more modular by introducing filters. Thus, we decided to act stepwise, offering no filters providing new major features in 1.1.0. None of the 1.1.0 filters is  a &quot;multi-filter&quot;.
</p>
	<p>
There are two types of filters, lets call them &quot;single-filter&quot; and &quot;multi-filter&#038;;. All filters get the statement to be executed and a list of servers as an input. Some filters reduce the server list down to one server. Those filters shall be called &quot;single-filters&quot;. The random, roundrobin and user filter are such single-filters. They are supposed to output exactly one server. In the future there may be multi-filters. A multi-filter outputs one or more servers. The output of a multi-filter requires further processing until one server has been picked for statement execution.
</p>
	<p>
<code></p>
	<pre>
n &gt;= 1 servers -&gt; single-filter -&gt; 1 server
n &gt;= 1 servers -&gt; multi-filter -&gt; m &lt;= n servers
</pre>
	<p></code>
</p>
	<p>
Chaining the 1.1.0 single-filters makes little sense and is thus forbidden by the plugin. You get an error when you try to do something like <code>random | roundrobin</code>. Random always outputs only one server. Round robin with only one server&#8230;
</p>
	<h3>A fictive table partitioning multi-filter</h3>
	<p>
The full potential of the filter concept becomes visible with a fictive &quot;table&quot; filter.  A table filter to support MySQL <a href="http://dev.mysql.com/doc/refman/5.6/en/replication-solutions-partitioning.html">replication partitioning rules</a>.<br />
MySQL replication can be instructed to restrict replication to certain schema objects for certain replication nodes. Imagine you have an application using two databases &quot;web&quot; and &quot;reports&quot;. The &quot;web&quot; database is very popular and you replicate it from the master to all your slaves. The &quot;reports&quot; database is not so and it is sufficient to have it available on the master and one of the slaves.
</p>
	<p>
<code></p>
	<pre>
{
    &quot;myapp&quot;: {
        &quot;master&quot;: {
            &quot;master_0&quot;: {
                &quot;host&quot;: &quot;localhost&quot;
            }
        },
        &quot;slave&quot;: {
            &quot;slave_0&quot;: {
                &quot;host&quot;: &quot;192.168.2.27&quot;,
                &quot;port&quot;: &quot;3306&quot;
            },
            &quot;slave_1&quot;: {
                &quot;host&quot;: &quot;192.168.78.136&quot;,
                &quot;port&quot;: &quot;3306&quot;
            },
            &quot;slave_2&quot;: {
                &quot;host&quot;: &quot;192.168.78.137&quot;,
                &quot;port&quot;: &quot;3306&quot;
            }
        },
        &quot;filters&quot;: {
            &quot;table&quot;: {
                &quot;rules&quot;: {
                    &quot;reports.%&quot;: {
                        &quot;master&quot;: [
                            &quot;master_0&quot;
                        ],
                        &quot;slave&quot;: [
                            &quot;slave_0&quot;
                        ]
                    },
                    &quot;web.%&quot;: {
                        &quot;master&quot;: [
                            &quot;master_0&quot;
                        ],
                        &quot;slave&quot;: [
                            &quot;slave_0&quot;,
                            &quot;slave_1&quot;,
                            &quot;slave_2&quot;
                        ]
                    }
                }
            },
            &quot;random&quot;: {
                &quot;sticky&quot;: &quot;1&quot;
            }
        }
    }
}
</pre>
	<p></code>
</p>
	<p>
Of course, you want the plugin to be aware of these partitioning rules. The fictive table filter will serve you. You add it to your filter chain and teach it about the data distribution. The table multi-filter analyzes the statement to be executed and outputs a list of one or more replication nodes capable of executing the statement. Then, you pass the output into the random single-filter to pick a candidate for query execution. Here is some pseudo-code to illustrate what happens:
</p>
	<p>
<code></p>
	<pre>
servers = array(
 &quot;master&quot; =&gt; array(&quot;master_0&quot;),
 &quot;slave&quot; =&gt; array(&quot;slave_0&quot;, &quot;slave_1&quot;, &quot;slave_2)
)
statement = &quot;SELECT * FROM reports.daily&quot;;
	
servers = filters-&gt;table-&gt;reduce(statement, servers)
servers = filters-&gt;random-&gt;reduce(statement, servers)
	
execute(statement, servers[0])
</pre>
	<p></code>
</p>
	<p>
And, no, in theory, there&#8217;s nothing that would stop us from supporting more than one master with such a fictive table filter&#8230;
</p>
	<p>
However, it has been quite a bit of work to lay the foundations of the filter concept. 1.1.0 is about laying foundations. Whishes and requests for the future are much appreciated. Please, leave a comment or drop us an email.
</p>
	<p>
Happy mysqlnd_ms 1.1.0-beta testing!
</p>
	<p>
PS: I hope Andrey will release 1.1.0-beta tomorrow.
</p><br/>PlanetMySQL Voting:
	 <a href="http://planet.mysql.com/entry/vote/?entry_id=30113&vote=1&apivote=1">Vote UP</a> /
	 <a href="http://planet.mysql.com/entry/vote/?entry_id=30113&vote=-1&apivote=1">Vote DOWN</a>";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}s:32:"http://purl.org/dc/elements/1.1/";a:1:{s:7:"creator";a:1:{i:0;a:5:{s:4:"data";s:10:"Ulf Wendel";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}}}i:32;a:6:{s:4:"data";s:48:"
    
    
    
    
    
    
    
    
    
  ";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";s:5:"child";a:3:{s:0:"";a:6:{s:5:"title";a:1:{i:0;a:5:{s:4:"data";s:37:"PECL/mysqlnd_ms compared to a classic";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:4:"guid";a:1:{i:0;a:5:{s:4:"data";s:32:"http://blog.ulf-wendel.de/?p=318";s:7:"attribs";a:1:{s:0:"";a:1:{s:11:"isPermaLink";s:5:"false";}}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:4:"link";a:1:{i:0;a:5:{s:4:"data";s:32:"http://blog.ulf-wendel.de/?p=318";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:11:"description";a:1:{i:0;a:5:{s:4:"data";s:10277:"
Recently I was asked if PECL/mysqlnd_ms should be used to add MySQL replication support to a yet to be developed PHP application.  The mysqlnd plugin, which supports all PHP MySQL extensions (PDO, mysqli, mysql), stood up against a classical, simple, proven and fast approach: one connection for reads, one connection for writes. Let&#8217;s compare. This is a bit of an unfair challenge, because PECL/mysqlnd_ms  was designed as a drop-in for existing applications, not optimized for those starting from scratch, *yell*&#8230; The plugin stands up quite well, anyway!

	The classical pattern
	
If starting from scratch you can manually direct all reads to the slaves and all writes to the masters. Use a factory/singleton to create database objects.  For database read requests, ask the factory for connection object to a slave. For writes, ask the factory for a  connection object to a master. Once the application has requested a connection to a master, always return that master connection, even for reads. It is possible that the application has just written data and wants to read it now. Because MySQL replication slaves can lag behind the master, your application should execute all reads for the rest of the request on the master.

	

	
class DBCreator {
  static private $connection;
  static private $what;
	
  static public function getConnection($what) {
   if (&quot;read&quot; == $what) {
    if (is_null(self::$connection)) {
     self::$connection = new mysqli(&quot;slave&quot;, &quot;user&quot;, &quot;pass&quot;);
     self::$what = &quot;read&quot;;
    }
   } else {
    if (is_null(self::$connection) || (&quot;read&quot; == self::$what)) {
     self::$connection = new mysqli(&quot;master&quot;, &quot;user&quot;, &quot;pass&quot;);
     self::$what = &quot;write&quot;;
    }
   }
   return self::$connection;
  }
}

	

	
Using is straight forward.

	

	
$mysqli = DBCreator::getConnection(&quot;read&quot;);
$mysqli-&gt;query(&quot;SELECT id, title, short_desc FROM latest_products ORDER BY id DESC&quot;);
/* ... */
$mysqli = DBCreator::getConnection(&quot;write&quot;);
$mysqli-&gt;query(&quot;INSERT INTO something (id, value) VALUES (1, 'silly example')&quot;);
/* goes to the master */
$mysqli = DBCreator::getConnection(&quot;read&quot;);
$mysqli-&gt;query(&quot;SELECT id, value FROM something ORDER BY id DESC&quot;);

	

	The plugin
	
Now, the mysqlnd plugin.  Instead of creating and deploying a DBCreator class, you install the PECL/mysqlnd_ms extension.  Very different, but if you start from scratch it makes no real difference. At the end of the day it may not make much of a difference to either deploy an extension or some library code, because you have automated your deployment anyway. Also, C versus PHP didn&#8217;t matter much - at least to the person who asked.

	Classic pattern vs. plugin, deployment - 1:1
	
Fast forward to the code you have to write to do the same as above, if using the plugin.

	

	
$mysqli = new mysqli(&quot;reply_cluster_config_name&quot;, &quot;user&quot;, &quot;password&quot;, &quot;db&quot;);
$mysqli-&gt;query(&quot;SELECT id, title, short_desc FROM latest_products ORDER BY id DESC&quot;);
/* ... */
$mysqli-&gt;query(&quot;INSERT INTO something (id, value) VALUES (1, 'silly example')&quot;);
/* goes to the master if master_on_write configured */
$mysqli-&gt;query(&quot;SELECT id, value FROM something ORDER BY id DESC&quot;);

	

	
Obviously the code is a little shorter, a little easier. And, if not starting from scratch but looking for a drop-in solution requiring no code changes, hard to beat. The plugin integrated read-write splitter is basic but could handle this case. All statements which start with SELECT will be executed on a slave. If enabling  master_on_write,  all read statements will go to the master after the first write.  Lazy connections are a plugin default and make sure that no connection is opened before query execution.

	Classic pattern vs. plugin, most basic example - 1:2
	
	A complex example
	
The shorter-easier-better code argument can be flipped around, if using a more complex example. The complex example calls a stored procedures and uses the good, old session variable trick to obtains the value of its OUT parameter.  Classic solution first.

	

	
$mysqli = DBCreator::getConnection(&quot;read&quot;);
$mysqli-&gt;query(&quot;CALL p(@myvar)&quot;);
$mysqli-&gt;query(&quot;SELECT @myvar AS _outparam&quot;);

	

	
Plugin next. Plugin seems to loose this time. The CALL statement does not begin with SELECT and thus the plugin will execute it on a master, unless you enforce use of a slave with a SQL hint. The SELECT goes to the slave. If not using a SQL hint for CALL, the session variable @myvar will be available on the master and the SELECT fails.  Strictly speaking the example lacks another SQL hint which would make it even more ugly. Imagine you would have more than one slave and you had misconfigured the plugins build-in load balancing to allow server switches between CALL and SELECT.  In that case you must use the MYSQLND_MS_LAST_USED_SWITCH.

	

	
$mysqli = new mysqli(&quot;reply_cluster_config_name&quot;, &quot;user&quot;, &quot;password&quot;, &quot;db&quot;);
$mysqli-&gt;query(sprintf(&quot;/*%s*/CALL p(@myvar)&quot;, MYSQLND_MS_SLAVE_SWITCH));
$mysqli-&gt;query(&quot;SELECT @myvar AS _outparam&quot;);

	

	Classic pattern vs. plugin, complex example - 2:2? Wait! The nasty SQL hints would be history, if there was a function to mark a connection as read-only. Similar to MySQL Connector/J.

	

	
$mysqli = new mysqli(&quot;reply_cluster_config_name&quot;, &quot;user&quot;, &quot;password&quot;, &quot;db&quot;);
mysqlnd_ms_connection_set_readonly($mysqli, true);
$mysqli-&gt;query(&quot;CALL p(@myvar)&quot;);
$mysqli-&gt;query(&quot;SELECT @myvar AS _outparam&quot;);

	

	
We will implement such a function after the release of PECL/mysqlnd_ms 1.1.0-beta scheduled for Thursday. But as of today, it does not exist. Classic gets the point.

	Classic pattern vs. plugin, complex example - 2:2
	Anybody using the plugin?
	
At this point the person who asked what to use had only time for one more question before he had to leave. Is there anybody using the plugin in production? When asked I couldn&#8217;t point to any references. Andrey just shared that there is a US sports news site running 1.1.0-svn.  I had not heard back from them after fixing a bug in 1.0.1-alpha and 1.1.0-svn quite some time ago&#8230; will ask them if, we can share more details.

	
At this point the conversation ended. Two versus two, proven versus new technology. Easy choice for the person who had asked.  Maybe it was a bit early to leave the discussion. Let&#8217;s look at an edge case: a developer making a mistake.

	The human factor
	
The developers mistake is to forget about the state of the read- and the write connection. The read connection is set to use the database otherdb and charset latin1. The write connection is using the default database and the default charset, whatever they may be. The SQL statement SELECT id, title, short_desc FROM latest_products ORDER BY id DESC is once executed against otherdb on the read connection and once against the default database on the write connection. This may or may not give an error. In any case, it is likely not what the developer had in mind.

	

	
$mysqli = DBCreator::getConnection(&quot;read&quot;);
$mysqli-&gt;select_db(&quot;otherdb&quot;);
$mysqli-&gt;set_charset(&quot;latin1&quot;);
$mysqli-&gt;query(&quot;SELECT id, title, short_desc FROM latest_products ORDER BY id DESC&quot;);
/* ... */
$mysqli = DBCreator::getConnection(&quot;write&quot;);
$mysqli-&gt;query(&quot;INSERT INTO something (id, value) VALUES (1, 'silly example')&quot;);
/* goes to the master */
$mysqli = DBCreator::getConnection(&quot;read&quot;);
$mysqli-&gt;query(&quot;SELECT id, value FROM something ORDER BY id DESC&quot;);
$mysqli-&gt;query(&quot;SELECT id, title, short_desc FROM latest_products ORDER BY id DESC&quot;);

	

	
The plugin documentation has an in-depth discussion of what makes the state of a connection and which pitfalls exist. The documentation is not so long because the plugin does so bad and is so hard to use. Rather the opposite&#8230;

	
Some state changing API calls, such as select_db() and set_charset() are monitored by the plugin and broadcasted on all open connections.  When the mysqlnd library call select_db() is invoked through the user API call mysqli_select_db() no connection has been opened by the plugin yet, because lazy connections are configured (see above).  Lazy connections delay openinig until statement execution. As of 1.1.0-beta the plugin &quot;remembers&quot; some of the state changing API calls and replays them whenever a connection is opened. As a result the read- and the write connections opened by the plugin will use otherdb and latin1.  Pitfall removed, the PHP documentation has the details.

	

	
$mysqli = new mysqli(&quot;reply_cluster_config_name&quot;, &quot;user&quot;, &quot;password&quot;, &quot;db&quot;);
/* state changes broadcasted on all connections */
$mysqli-&gt;select_db(&quot;otherdb&quot;);
$mysqli-&gt;set_charset(&quot;latin1&quot;);
$mysqli-&gt;query(&quot;SELECT id, title, short_desc FROM latest_products ORDER BY id DESC&quot;);
/* ... */
$mysqli-&gt;query(&quot;INSERT INTO something (id, value) VALUES (1, 'silly example')&quot;);
/* goes to the master if master_on_write configured */
$mysqli-&gt;query(&quot;SELECT id, value FROM something ORDER BY id DESC&quot;);
$mysqli-&gt;query(&quot;SELECT id, title, short_desc FROM latest_products ORDER BY id DESC&quot;);

	

	Classic pattern vs. plugin, human factor - 2:3
	Load Balancing and other goodies
	
Imagine you have more than one slave server and need to do load balancing. If using the plugin, load balancing can be configured in a few lines&#8230; and, there is more to discover. The 1.1. series changelog does not read very exiting. The versions motto/theme is &quot;cover replication basics with production quality&quot;. Many foundations have been laid in 1.1. The freshly updated and not yet reviewed documentation has pointers about the future here and there. More to come&#8230; classic pattern vs. plugin 1.3 - a different league, hopefully.
";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:7:"pubDate";a:1:{i:0;a:5:{s:4:"data";s:31:"Tue, 27 Sep 2011 22:52:13 +0000";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:8:"category";a:2:{i:0;a:5:{s:4:"data";s:21:"PlanetMySQL (english)";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}i:1;a:5:{s:4:"data";s:19:"PlanetPHP (english)";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}s:40:"http://purl.org/rss/1.0/modules/content/";a:1:{s:7:"encoded";a:1:{i:0;a:5:{s:4:"data";s:12064:"<p>
Recently I was asked if <a href="http://de2.php.net/mysqlnd_ms">PECL/mysqlnd_ms</a> should be used to add MySQL replication support to a yet to be developed PHP application.  The <a href="http://blog.ulf-wendel.de/php.net/mysqlnd">mysqlnd</a> plugin, which supports all PHP MySQL extensions (PDO, mysqli, mysql), stood up against a classical, simple, proven and fast approach: one connection for reads, one connection for writes. Let&#8217;s compare. This is a bit of an unfair challenge, because PECL/mysqlnd_ms  was designed as a drop-in for existing applications, not optimized for those starting from scratch, *yell*&#8230; The plugin stands up quite well, anyway!
</p>
	<h3>The classical pattern</h3>
	<p>
If starting from scratch you can manually direct all reads to the slaves and all writes to the masters. Use a factory/singleton to create database objects.  For database read requests, ask the factory for connection object to a slave. For writes, ask the factory for a  connection object to a master. Once the application has requested a connection to a master, always return that master connection, even for reads. It is possible that the application has just written data and wants to read it now. Because MySQL replication slaves can lag behind the master, your application should execute all reads for the rest of the request on the master.
</p>
	<p>
<code></p>
	<pre>
class DBCreator {
  static private $connection;
  static private $what;
	
  static public function getConnection($what) {
   if (&quot;read&quot; == $what) {
    if (is_null(self::$connection)) {
     self::$connection = new mysqli(&quot;slave&quot;, &quot;user&quot;, &quot;pass&quot;);
     self::$what = &quot;read&quot;;
    }
   } else {
    if (is_null(self::$connection) || (&quot;read&quot; == self::$what)) {
     self::$connection = new mysqli(&quot;master&quot;, &quot;user&quot;, &quot;pass&quot;);
     self::$what = &quot;write&quot;;
    }
   }
   return self::$connection;
  }
}
</pre>
	<p></code>
</p>
	<p>
Using is straight forward.
</p>
	<p>
<code></p>
	<pre>
$mysqli = DBCreator::getConnection(&quot;read&quot;);
$mysqli-&gt;query(&quot;SELECT id, title, short_desc FROM latest_products ORDER BY id DESC&quot;);
/* ... */
$mysqli = DBCreator::getConnection(&quot;write&quot;);
$mysqli-&gt;query(&quot;INSERT INTO something (id, value) VALUES (1, 'silly example')&quot;);
/* goes to the master */
$mysqli = DBCreator::getConnection(&quot;read&quot;);
$mysqli-&gt;query(&quot;SELECT id, value FROM something ORDER BY id DESC&quot;);
</pre>
	<p></code>
</p>
	<h3>The plugin</h3>
	<p>
Now, the mysqlnd plugin.  Instead of creating and deploying a <code>DBCreator</code> class, you install the PECL/mysqlnd_ms extension.  Very different, but if you start from scratch it makes no real difference. At the end of the day it may not make much of a difference to either deploy an extension or some library code, because you have automated your deployment anyway. Also, C versus PHP didn&#8217;t matter much - at least to the person who asked.
</p>
	<p><strong>Classic pattern vs. plugin, deployment - 1:1</strong></p>
	<p>
Fast forward to the code you have to write to do the same as above, if using the plugin.
</p>
	<p>
<code></p>
	<pre>
$mysqli = new mysqli(&quot;reply_cluster_config_name&quot;, &quot;user&quot;, &quot;password&quot;, &quot;db&quot;);
$mysqli-&gt;query(&quot;SELECT id, title, short_desc FROM latest_products ORDER BY id DESC&quot;);
/* ... */
$mysqli-&gt;query(&quot;INSERT INTO something (id, value) VALUES (1, 'silly example')&quot;);
/* goes to the master if master_on_write configured */
$mysqli-&gt;query(&quot;SELECT id, value FROM something ORDER BY id DESC&quot;);
</pre>
	<p></code>
</p>
	<p>
Obviously the code is a little shorter, a little easier. And, if not starting from scratch but looking for a drop-in solution requiring no code changes, hard to beat. The plugin integrated <a href="http://docs.php.net/manual/en/mysqlnd-ms.rwsplit.php">read-write splitter</a> is basic but could handle this case. All statements which start with <code>SELECT</code> will be executed on a slave. If enabling  <a href="http://docs.php.net/manual/en/mysqlnd-ms.plugin-ini-json.php">master_on_write</a>,  all read statements will go to the master after the first write.  <a href="http://docs.php.net/manual/en/mysqlnd-ms.pooling.php">Lazy connections</a> are a plugin default and make sure that no connection is opened before query execution.
</p>
	<p><strong>Classic pattern vs. plugin, most basic example - 1:2</strong></p>
	<p><a></a></p>
	<h3>A complex example</h3>
	<p>
The shorter-easier-better code argument can be flipped around, if using a more complex example. The complex example calls a stored procedures and uses the good, old session variable trick to obtains the value of its <code>OUT</code> parameter.  Classic solution first.
</p>
	<p>
<code></p>
	<pre>
$mysqli = DBCreator::getConnection(&quot;read&quot;);
$mysqli-&gt;query(&quot;CALL p(@myvar)&quot;);
$mysqli-&gt;query(&quot;SELECT @myvar AS _outparam&quot;);
</pre>
	<p></code>
</p>
	<p>
Plugin next. Plugin seems to loose this time. The <code>CALL</code> statement does not begin with <code>SELECT</code> and thus the plugin will execute it on a master, unless you enforce use of a slave with a SQL hint. The <code>SELECT</code> goes to the slave. If not using a SQL hint for <code>CALL</code>, the session variable <code>@myvar</code> will be available on the master and the <code>SELECT</code> fails.  Strictly speaking the example lacks another SQL hint which would make it even more ugly. Imagine you would have more than one slave and you had misconfigured the plugins <a href="http://docs.php.net/manual/en/mysqlnd-ms.loadbalancing.php">build-in load balancing</a> to allow server switches between <code>CALL</code> and <code>SELECT</code>.  In that case you must use the <code><a href="http://docs.php.net/manual/en/mysqlnd-ms.quickstart.sqlhints.php">MYSQLND_MS_LAST_USED_SWITCH</a></code>.
</p>
	<p>
<code></p>
	<pre>
$mysqli = new mysqli(&quot;reply_cluster_config_name&quot;, &quot;user&quot;, &quot;password&quot;, &quot;db&quot;);
$mysqli-&gt;query(sprintf(&quot;/*%s*/CALL p(@myvar)&quot;, MYSQLND_MS_SLAVE_SWITCH));
$mysqli-&gt;query(&quot;SELECT @myvar AS _outparam&quot;);
</pre>
	<p></code>
</p>
	<p>Classic pattern vs. plugin, complex example - 2:2? Wait! The nasty SQL hints would be history, if there was a function to mark a connection as read-only. Similar to MySQL Connector/J.
</p>
	<p>
<code></p>
	<pre>
$mysqli = new mysqli(&quot;reply_cluster_config_name&quot;, &quot;user&quot;, &quot;password&quot;, &quot;db&quot;);
mysqlnd_ms_connection_set_readonly($mysqli, true);
$mysqli-&gt;query(&quot;CALL p(@myvar)&quot;);
$mysqli-&gt;query(&quot;SELECT @myvar AS _outparam&quot;);
</pre>
	<p></code>
</p>
	<p>
We will implement such a function after the release of PECL/mysqlnd_ms 1.1.0-beta scheduled for Thursday. But as of today, it does not exist. Classic gets the point.
</p>
	<p><strong>Classic pattern vs. plugin, complex example - 2:2</strong></p>
	<h3>Anybody using the plugin?</h3>
	<p>
At this point the person who asked what to use had only time for one more question before he had to leave. Is there anybody using the plugin in production? When asked I couldn&#8217;t point to any references. <a href="http://hristov.com/andrey/">Andrey</a> just shared that there is a US sports news site running 1.1.0-svn.  I had not heard back from them after fixing a bug in 1.0.1-alpha and 1.1.0-svn quite some time ago&#8230; will ask them if, we can share more details.
</p>
	<p>
At this point the conversation ended. Two versus two, proven versus new technology. Easy choice for the person who had asked.  Maybe it was a bit early to leave the discussion. Let&#8217;s look at an edge case: a developer making a mistake.
</p>
	<h3>The human factor</h3>
	<p>
The developers mistake is to forget about the state of the read- and the write connection. The read connection is set to use the database <code>otherdb</code> and charset <code>latin1</code>. The write connection is using the default database and the default charset, whatever they may be. The SQL statement <code>SELECT id, title, short_desc FROM latest_products ORDER BY id DESC</code> is once executed against <code>otherdb</code> on the read connection and once against the default database on the write connection. This may or may not give an error. In any case, it is likely not what the developer had in mind.
</p>
	<p>
<code></p>
	<pre>
$mysqli = DBCreator::getConnection(&quot;read&quot;);
$mysqli-&gt;select_db(&quot;otherdb&quot;);
$mysqli-&gt;set_charset(&quot;latin1&quot;);
$mysqli-&gt;query(&quot;SELECT id, title, short_desc FROM latest_products ORDER BY id DESC&quot;);
/* ... */
$mysqli = DBCreator::getConnection(&quot;write&quot;);
$mysqli-&gt;query(&quot;INSERT INTO something (id, value) VALUES (1, 'silly example')&quot;);
/* goes to the master */
$mysqli = DBCreator::getConnection(&quot;read&quot;);
$mysqli-&gt;query(&quot;SELECT id, value FROM something ORDER BY id DESC&quot;);
$mysqli-&gt;query(&quot;SELECT id, title, short_desc FROM latest_products ORDER BY id DESC&quot;);
</pre>
	<p></code>
</p>
	<p>
The <a href="http://docs.php.net/manual/en/book.mysqlnd-ms.php">plugin documentation</a> has an in-depth discussion of what makes the state of a connection and which pitfalls exist. The documentation is not so long because the plugin does so bad and is so hard to use. Rather the opposite&#8230;
</p>
	<p>
Some state changing API calls, such as <code>select_db()</code> and <code>set_charset()</code> are monitored by the plugin and broadcasted on all open connections.  When the mysqlnd library call <code>select_db()</code> is invoked through the user API call <code>mysqli_select_db()</code> no connection has been opened by the plugin yet, because lazy connections are configured (see above).  Lazy connections delay openinig until statement execution. As of 1.1.0-beta the plugin &quot;remembers&quot; some of the state changing API calls and replays them whenever a connection is opened. As a result the read- and the write connections opened by the plugin will use <code>otherdb</code> and <code>latin1</code>.  Pitfall removed, the <a href="http://docs.php.net/manual/en/mysqlnd-ms.pooling.php">PHP documentation</a> has the details.
</p>
	<p>
<code></p>
	<pre>
$mysqli = new mysqli(&quot;reply_cluster_config_name&quot;, &quot;user&quot;, &quot;password&quot;, &quot;db&quot;);
/* state changes broadcasted on all connections */
$mysqli-&gt;select_db(&quot;otherdb&quot;);
$mysqli-&gt;set_charset(&quot;latin1&quot;);
$mysqli-&gt;query(&quot;SELECT id, title, short_desc FROM latest_products ORDER BY id DESC&quot;);
/* ... */
$mysqli-&gt;query(&quot;INSERT INTO something (id, value) VALUES (1, 'silly example')&quot;);
/* goes to the master if master_on_write configured */
$mysqli-&gt;query(&quot;SELECT id, value FROM something ORDER BY id DESC&quot;);
$mysqli-&gt;query(&quot;SELECT id, title, short_desc FROM latest_products ORDER BY id DESC&quot;);
</pre>
	<p></code>
</p>
	<p><strong>Classic pattern vs. plugin, human factor - 2:3</strong></p>
	<h3>Load Balancing and other goodies</h3>
	<p>
Imagine you have more than one slave server and need to do load balancing. If using the plugin, load balancing can be configured in a few lines&#8230; and, there is more to discover. The <a href="http://docs.php.net/manual/en/mysqlnd-ms.changes_one_one.php">1.1. series changelog</a> does not read very exiting. The versions motto/theme is &quot;cover replication basics with production quality&quot;. Many foundations have been laid in 1.1. The freshly updated and not yet reviewed documentation has pointers about the future here and there. More to come&#8230; classic pattern vs. plugin 1.3 - a different league, hopefully.
</p><br/>PlanetMySQL Voting:
	 <a href="http://planet.mysql.com/entry/vote/?entry_id=30107&vote=1&apivote=1">Vote UP</a> /
	 <a href="http://planet.mysql.com/entry/vote/?entry_id=30107&vote=-1&apivote=1">Vote DOWN</a>";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}s:32:"http://purl.org/dc/elements/1.1/";a:1:{s:7:"creator";a:1:{i:0;a:5:{s:4:"data";s:10:"Ulf Wendel";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}}}i:33;a:6:{s:4:"data";s:58:"
    
    
    
    
    
    
    
    
    
    
    
  ";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";s:5:"child";a:3:{s:0:"";a:6:{s:5:"title";a:1:{i:0;a:5:{s:4:"data";s:50:"SkySQL adds MySQL Cluster training to the offering";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:4:"guid";a:1:{i:0;a:5:{s:4:"data";s:70:"tag:blogger.com,1999:blog-9127647805974709324.post-6759856062289110811";s:7:"attribs";a:1:{s:0:"";a:1:{s:11:"isPermaLink";s:5:"false";}}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:4:"link";a:1:{i:0;a:5:{s:4:"data";s:71:"http://blogs.skysql.com/2011/09/skysql-adds-mysql-cluster-training.html";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:11:"description";a:1:{i:0;a:5:{s:4:"data";s:1496:"Very soon after SkySQL Ab was created, we added an Advanced MySQL Cluster course to our training offering. This addition was made as a customer who was already quite experienced with MySQL cluster wanted training. This course was, however, deemed to be too complex and with too much pre-requisites to add to our public offering so it was left as a special treat for customers who had deep cluster knowledge. We decided that we would instead create a more general purpose MySQL Cluster course with less prerequisite knowledge required as soon as possible. Many months have passed and a lot of other courses have been created since, but we now finally release our version of a general purpose MySQL Cluster training course, called Administering MySQL Cluster. As the name suggests this 3-day course is for administering MySQL Cluster and it does require some a priori operating system and MySQL knowledge. The course teaches the basic concepts behind MySQL cluster; how high availability is achieved in a shared -nothing architecture etc, as well as more complex concepts. Practical details are also included, such as installation, configuration, backups, restoration etc. The course will also go through how to make upgrades and schema changes without downtime as well as how crash recovery and fail-over is handled. Geographical replication and query optimization for MySQL Cluster follows as cherries on the cake. If you want more information about the course and dates, check out our schedule. ";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:7:"pubDate";a:1:{i:0;a:5:{s:4:"data";s:31:"Tue, 27 Sep 2011 21:44:24 +0000";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:8:"category";a:4:{i:0;a:5:{s:4:"data";s:2:"ha";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}i:1;a:5:{s:4:"data";s:5:"mysql";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}i:2;a:5:{s:4:"data";s:7:"cluster";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}i:3;a:5:{s:4:"data";s:8:"training";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}s:40:"http://purl.org/rss/1.0/modules/content/";a:1:{s:7:"encoded";a:1:{i:0;a:5:{s:4:"data";s:2058:"<div>Very soon after SkySQL Ab was created, we added an Advanced MySQL Cluster course to our training offering. This addition was made as a customer who was already quite experienced with MySQL cluster wanted training. This course was, however, deemed to be too complex and with too much pre-requisites to add to our public offering so it was left as a special treat for customers who had deep cluster knowledge. We decided that we would instead create a more general purpose MySQL Cluster course with less prerequisite knowledge required as soon as possible. </div><div><br /></div><div>Many months have passed and a lot of other courses have been created since, but we now finally release our version of a general purpose MySQL Cluster training course, called <a href="http://www.skysql.com/services/training/courses/administering-mysql-cluster">Administering MySQL Cluster</a>. As the name suggests this 3-day course is for administering MySQL Cluster and it does require some a priori operating system and MySQL knowledge. The course teaches the basic concepts behind MySQL cluster; how high availability is achieved in a shared -nothing architecture etc, as well as more complex concepts. Practical details are also included, such as installation, configuration, backups, restoration etc. The course will also go through how to make upgrades and schema changes without downtime as well as how crash recovery and fail-over is handled. Geographical replication and query optimization for MySQL Cluster follows as cherries on the cake. If you want more information about the course and dates, check out our <a href="http://www.skysql.com/services/training/schedule">schedule</a>. </div><div><img width="1" height="1" src="https://blogger.googleusercontent.com/tracker/9127647805974709324-6759856062289110811?l=blogs.skysql.com" alt="" /></div><br/>PlanetMySQL Voting:
	 <a href="http://planet.mysql.com/entry/vote/?entry_id=30106&vote=1&apivote=1">Vote UP</a> /
	 <a href="http://planet.mysql.com/entry/vote/?entry_id=30106&vote=-1&apivote=1">Vote DOWN</a>";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}s:32:"http://purl.org/dc/elements/1.1/";a:1:{s:7:"creator";a:1:{i:0;a:5:{s:4:"data";s:6:"SkySQL";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}}}i:34;a:6:{s:4:"data";s:63:"
    
    
    
    
    
    
    
    
    
    
    
    
  ";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";s:5:"child";a:3:{s:0:"";a:6:{s:5:"title";a:1:{i:0;a:5:{s:4:"data";s:43:"MySQL Connector/Net 6.4.4 has been released";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:4:"guid";a:1:{i:0;a:5:{s:4:"data";s:68:"http://blogs.oracle.com/MySqlOnWindows/entry/mysql_connector_net_6_4";s:7:"attribs";a:1:{s:0:"";a:1:{s:11:"isPermaLink";s:5:"false";}}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:4:"link";a:1:{i:0;a:5:{s:4:"data";s:68:"http://blogs.oracle.com/MySqlOnWindows/entry/mysql_connector_net_6_4";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:11:"description";a:1:{i:0;a:5:{s:4:"data";s:1110:"MySQL Connector/Net 6.4.4, a new version of the all-managed
            .NET driver for MySQL has been released.&nbsp; This is an update
            to our latest GA release and is intended for full production
            deployment.  
            Version 6.4.4 is intended for use with versions of MySQL
            from 5.0 - 5.5  
            It is now available in source and binary form from [http://dev.mysql.com/downloads/connector/net/6.4.html]
            and mirror 
            sites (note that not all mirror sites may be up to date at
            this point of time 
            - if you can't find this version on some mirror, please try
            again later or choose another download site.) 
            The release is also available for download on the My Oracle
            Support (MOS) and will be available from Oracle eDelivery. 
            This release includes several bug fixes including a fix to
            using Windows authentication.&nbsp; Please review the change log
            and documentation for a review of what changed. 
            Enjoy and thanks for the support! ";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:7:"pubDate";a:1:{i:0;a:5:{s:4:"data";s:31:"Tue, 27 Sep 2011 19:33:20 +0000";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:8:"category";a:5:{i:0;a:5:{s:4:"data";s:6:"Oracle";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}i:1;a:5:{s:4:"data";s:4:".net";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}i:2;a:5:{s:4:"data";s:2:"c#";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}i:3;a:5:{s:4:"data";s:5:"mysql";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}i:4;a:5:{s:4:"data";s:7:"windows";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}s:40:"http://purl.org/rss/1.0/modules/content/";a:1:{s:7:"encoded";a:1:{i:0;a:5:{s:4:"data";s:1469:"MySQL Connector/Net 6.4.4, a new version of the all-managed
            .NET driver for MySQL has been released.&nbsp; This is an update
            to our latest GA release and is intended for full production
            deployment. <br /> <br />
            Version 6.4.4 is intended for use with versions of MySQL
            from 5.0 - 5.5 <br /> <br />
            It is now available in source and binary form from [<a href="http://dev.mysql.com/downloads/connector/net/6.4.html">http://dev.mysql.com/downloads/connector/net/6.4.html</a>]
            and mirror <br />
            sites (note that not all mirror sites may be up to date at
            this point of time <br />
            - if you can't find this version on some mirror, please try
            again later or choose another download site.) <br />
            The release is also available for download on the My Oracle
            Support (MOS) and will be available from Oracle eDelivery.<br /> <br />
            This release includes several bug fixes including a fix to
            using Windows authentication.&nbsp; Please review the change log
            and documentation for a review of what changed.<br /> <br />
            Enjoy and thanks for the support! <br /><br /><br/>PlanetMySQL Voting:
	 <a href="http://planet.mysql.com/entry/vote/?entry_id=30128&vote=1&apivote=1">Vote UP</a> /
	 <a href="http://planet.mysql.com/entry/vote/?entry_id=30128&vote=-1&apivote=1">Vote DOWN</a>";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}s:32:"http://purl.org/dc/elements/1.1/";a:1:{s:7:"creator";a:1:{i:0;a:5:{s:4:"data";s:14:"Reggie Burnett";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}}}i:35;a:6:{s:4:"data";s:63:"
    
    
    
    
    
    
    
    
    
    
    
    
  ";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";s:5:"child";a:3:{s:0:"";a:6:{s:5:"title";a:1:{i:0;a:5:{s:4:"data";s:43:"MySQL Connector/Net 6.4.4 has been released";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:4:"guid";a:1:{i:0;a:5:{s:4:"data";s:35:"http://www.reggieburnett.com/?p=415";s:7:"attribs";a:1:{s:0:"";a:1:{s:11:"isPermaLink";s:5:"false";}}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:4:"link";a:1:{i:0;a:5:{s:4:"data";s:111:"http://feedproxy.google.com/~r/ReggiesRamblings-Mysql/~3/ZHdL3Lvzx8c/mysql-connectornet-6-4-4-has-been-released";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:11:"description";a:1:{i:0;a:5:{s:4:"data";s:851:"MySQL Connector/Net 6.4.4, a new version of the all-managed .NET driver for MySQL has been released.  This is an update to our latest GA release and is intended for full production deployment.
Version 6.4.4 is intended for use with versions of MySQL from 5.0 &#8211; 5.5
It is now available in source and binary form from here and mirror sites (note that not all mirror sites may be up to date at this point of time- if you can&#8217;t find this version on some mirror, please try again later or choose another download site.)
The release is also available for download on the My Oracle Support (MOS) and will be available from Oracle eDelivery.
This release includes several bug fixes including a fix to using Windows authentication.  Please review the change log and documentation for a review of what changed.
Enjoy and thanks for the support!


";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:7:"pubDate";a:1:{i:0;a:5:{s:4:"data";s:31:"Tue, 27 Sep 2011 19:29:10 +0000";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:8:"category";a:5:{i:0;a:5:{s:4:"data";s:4:".NET";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}i:1;a:5:{s:4:"data";s:5:"MySQL";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}i:2;a:5:{s:4:"data";s:10:"Technology";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}i:3;a:5:{s:4:"data";s:8:".NET 4.0";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}i:4;a:5:{s:4:"data";s:2:"C#";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}s:40:"http://purl.org/rss/1.0/modules/content/";a:1:{s:7:"encoded";a:1:{i:0;a:5:{s:4:"data";s:1675:"<p>MySQL Connector/Net 6.4.4, a new version of the all-managed .NET driver for MySQL has been released.  This is an update to our latest GA release and is intended for full production deployment.</p>
<p>Version 6.4.4 is intended for use with versions of MySQL from 5.0 &#8211; 5.5</p>
<p>It is now available in source and binary form from <a href="http://dev.mysql.com/downloads/connector/net/6.4.html">here</a> and mirror sites (note that not all mirror sites may be up to date at this point of time- if you can&#8217;t find this version on some mirror, please try again later or choose another download site.)</p>
<p>The release is also available for download on the My Oracle Support (MOS) and will be available from Oracle eDelivery.</p>
<p>This release includes several bug fixes including a fix to using Windows authentication.  Please review the change log and documentation for a review of what changed.</p>
<p>Enjoy and thanks for the support!</p>

<p><a href="http://feedads.g.doubleclick.net/~a/QLF4Nc6MQplnRgUVtJENpm8MJa8/0/da"><img src="http://feedads.g.doubleclick.net/~a/QLF4Nc6MQplnRgUVtJENpm8MJa8/0/di" border="0" ismap="true"></img></a><br/>
<a href="http://feedads.g.doubleclick.net/~a/QLF4Nc6MQplnRgUVtJENpm8MJa8/1/da"><img src="http://feedads.g.doubleclick.net/~a/QLF4Nc6MQplnRgUVtJENpm8MJa8/1/di" border="0" ismap="true"></img></a></p><img src="http://feeds.feedburner.com/~r/ReggiesRamblings-Mysql/~4/ZHdL3Lvzx8c" height="1" width="1" /><br/>PlanetMySQL Voting:
	 <a href="http://planet.mysql.com/entry/vote/?entry_id=30105&vote=1&apivote=1">Vote UP</a> /
	 <a href="http://planet.mysql.com/entry/vote/?entry_id=30105&vote=-1&apivote=1">Vote DOWN</a>";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}s:32:"http://purl.org/dc/elements/1.1/";a:1:{s:7:"creator";a:1:{i:0;a:5:{s:4:"data";s:14:"Reggie Burnett";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}}}i:36;a:6:{s:4:"data";s:63:"
    
    
    
    
    
    
    
    
    
    
    
    
  ";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";s:5:"child";a:3:{s:0:"";a:6:{s:5:"title";a:1:{i:0;a:5:{s:4:"data";s:67:"Tips and tricks: Killer response time for non-overlapping intervals";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:4:"guid";a:1:{i:0;a:5:{s:4:"data";s:70:"tag:blogger.com,1999:blog-7171477457129187873.post-6369433373687039343";s:7:"attribs";a:1:{s:0:"";a:1:{s:11:"isPermaLink";s:5:"false";}}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:4:"link";a:1:{i:0;a:5:{s:4:"data";s:82:"http://jorgenloland.blogspot.com/2011/09/tips-and-tricks-killer-response-time.html";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:11:"description";a:1:{i:0;a:5:{s:4:"data";s:1194:"Assume you have a table where you store non-overlapping intervals using two columns, e.g. IP ranges. IP ranges are simple to represent using integer notation:CREATE TABLE ip_owner (   owner_id int NOT NULL,   /* some columns */    ip_start_int bigint NOT NULL,      /* IP address converted to integer */   ip_end_int bigint NOT NULL,        /* IP address converted to integer */   PRIMARY KEY (owner_id),   INDEX ip_range (ip_start_int, ip_end_int)) ENGINE=InnoDB;And then you find yourself in a situation where you want to know who, if anyone, owns the IP address X. This can be done using the following query:SELECT * FROM ip_owner WHERE ip_start_int &lt;= X AND ip_end_int &gt;= X;MySQL can resolve this using a range scan, but will unfortunately only be able to use the ip_start_int &lt;= X part of the condition as a range as explained here. Thus, the query will either be resolved by range scan if fairly few records have ip_start_int &lt;= X or table scan otherwise. That means unreliable response time because it will be much quicker to query low-valued IPs than high valued IPs. I inserted 1M records into the table before running the queries below:Read more »";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:7:"pubDate";a:1:{i:0;a:5:{s:4:"data";s:31:"Tue, 27 Sep 2011 11:42:24 +0000";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:8:"category";a:5:{i:0;a:5:{s:4:"data";s:19:"multiple-part index";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}i:1;a:5:{s:4:"data";s:5:"mysql";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}i:2;a:5:{s:4:"data";s:7:"explain";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}i:3;a:5:{s:4:"data";s:8:"interval";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}i:4;a:5:{s:4:"data";s:5:"range";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}s:40:"http://purl.org/rss/1.0/modules/content/";a:1:{s:7:"encoded";a:1:{i:0;a:5:{s:4:"data";s:2073:"Assume you have a table where you store <i>non-overlapping intervals</i> using two columns, e.g. IP ranges. IP ranges are simple to represent using <a href="http://www.silisoftware.com/tools/ipconverter.php">integer notation</a>:<br><br><div><span>CREATE TABLE ip_owner (</span></div><div><span>   owner_id int NOT NULL,<br>   /* some columns */ </span></div><div><span>   ip_start_int bigint NOT NULL,      /* IP address converted to integer */<br>   ip_end_int bigint NOT NULL,        /* IP address converted to integer */<br>   PRIMARY KEY (owner_id),</span></div><div><span>   INDEX ip_range (ip_start_int, ip_end_int)</span></div><div><span>) ENGINE=InnoDB;</span></div><br><br>And then you find yourself in a situation where you want to know who, if anyone, owns the IP address <span>X</span>. This can be done using the following query:<br><br><div><span>SELECT * FROM ip_owner WHERE ip_start_int &lt;= X AND ip_end_int &gt;= X;</span></div><br>MySQL can resolve this using a range scan, but will unfortunately only be able to use the <span>ip_start_int &lt;= X</span> part of the condition as a range <a href="http://jorgenloland.blogspot.com/2011/08/mysql-range-access-method-explained.html">as explained here</a>. Thus, the query will either be resolved by range scan if fairly few records have <span>ip_start_int &lt;= X</span> or table scan otherwise. That means unreliable response time because it will be much quicker to query low-valued IPs than high valued IPs. I inserted 1M records into the table before running the queries below:<br><br><a href="http://jorgenloland.blogspot.com/2011/09/tips-and-tricks-killer-response-time.html#more">Read more »</a><div><img width="1" height="1" src="https://blogger.googleusercontent.com/tracker/7171477457129187873-6369433373687039343?l=jorgenloland.blogspot.com" alt="" /></div><br/>PlanetMySQL Voting:
	 <a href="http://planet.mysql.com/entry/vote/?entry_id=30102&vote=1&apivote=1">Vote UP</a> /
	 <a href="http://planet.mysql.com/entry/vote/?entry_id=30102&vote=-1&apivote=1">Vote DOWN</a>";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}s:32:"http://purl.org/dc/elements/1.1/";a:1:{s:7:"creator";a:1:{i:0;a:5:{s:4:"data";s:13:"Jorgen Loland";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}}}i:37;a:6:{s:4:"data";s:48:"
    
    
    
    
    
    
    
    
    
  ";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";s:5:"child";a:3:{s:0:"";a:6:{s:5:"title";a:1:{i:0;a:5:{s:4:"data";s:27:"Three wishes for a new year";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:4:"guid";a:1:{i:0;a:5:{s:4:"data";s:36:"http://code.openark.org/blog/?p=3996";s:7:"attribs";a:1:{s:0:"";a:1:{s:11:"isPermaLink";s:5:"false";}}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:4:"link";a:1:{i:0;a:5:{s:4:"data";s:64:"http://code.openark.org/blog/mysql/three-wishes-for-a-new-year-2";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:11:"description";a:1:{i:0;a:5:{s:4:"data";s:456:"
It's another new year by Jewish calendar. And what do I wish for in the following year?

World peace
Good health to all
Have some way to turn SHOW commands into SELECT statements, server side. I'm fervently trying to hack around this. Stored routines, export/import from file, text manipulation, I don't care! I want to SELECT seconds_behind_master somehow. Without plugins.

PS, none of my last year's wishes came true. I'll settle for two out of three.
";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:7:"pubDate";a:1:{i:0;a:5:{s:4:"data";s:31:"Tue, 27 Sep 2011 07:39:47 +0000";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:8:"category";a:2:{i:0;a:5:{s:4:"data";s:5:"MySQL";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}i:1;a:5:{s:4:"data";s:3:"SQL";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}s:40:"http://purl.org/rss/1.0/modules/content/";a:1:{s:7:"encoded";a:1:{i:0;a:5:{s:4:"data";s:867:"<div>
<p>It's another new year by Jewish calendar. And what do I wish for in the following year?</p>
<ol>
<li>World peace</li>
<li>Good health to all</li>
<li>Have <em>some</em> way to turn <strong>SHOW</strong> commands into <strong>SELECT</strong> statements, server side. I'm fervently trying to hack around this. Stored routines, export/import from file, text manipulation, I don't care! I want to <strong>SELECT seconds_behind_master somehow</strong>. Without plugins.</li>
</ol>
<p>PS, none of my <a href="http://code.openark.org/blog/mysql/three-wishes-for-a-new-year">last year's wishes</a> came true. I'll settle for two out of three.</p>
</div><br/>PlanetMySQL Voting:
	 <a href="http://planet.mysql.com/entry/vote/?entry_id=30101&vote=1&apivote=1">Vote UP</a> /
	 <a href="http://planet.mysql.com/entry/vote/?entry_id=30101&vote=-1&apivote=1">Vote DOWN</a>";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}s:32:"http://purl.org/dc/elements/1.1/";a:1:{s:7:"creator";a:1:{i:0;a:5:{s:4:"data";s:12:"Shlomi Noach";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}}}i:38;a:6:{s:4:"data";s:38:"
    
    
    
    
    
    
    
  ";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";s:5:"child";a:3:{s:0:"";a:5:{s:5:"title";a:1:{i:0;a:5:{s:4:"data";s:46:"Hacked MySQL.com used to serve Windows malware";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:4:"guid";a:1:{i:0;a:5:{s:4:"data";s:0:"";s:7:"attribs";a:1:{s:0:"";a:1:{s:11:"isPermaLink";s:5:"false";}}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:4:"link";a:1:{i:0;a:5:{s:4:"data";s:40:"http://news.cnet.com/8302-13503_3-0.html";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:11:"description";a:1:{i:0;a:5:{s:4:"data";s:91:"Open-source software provider cleans up infection but back doors may remain, Armorize says.";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:7:"pubDate";a:1:{i:0;a:5:{s:4:"data";s:31:"Tue, 27 Sep 2011 01:10:51 +0000";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}s:40:"http://purl.org/rss/1.0/modules/content/";a:1:{s:7:"encoded";a:1:{i:0;a:5:{s:4:"data";s:304:"Open-source software provider cleans up infection but back doors may remain, Armorize says.<br/>PlanetMySQL Voting:
	 <a href="http://planet.mysql.com/entry/vote/?entry_id=10246&vote=1&apivote=1">Vote UP</a> /
	 <a href="http://planet.mysql.com/entry/vote/?entry_id=10246&vote=-1&apivote=1">Vote DOWN</a>";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}s:32:"http://purl.org/dc/elements/1.1/";a:1:{s:7:"creator";a:1:{i:0;a:5:{s:4:"data";s:9:"Matt Asay";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}}}i:39;a:6:{s:4:"data";s:58:"
    
    
    
    
    
    
    
    
    
    
    
  ";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";s:5:"child";a:3:{s:0:"";a:6:{s:5:"title";a:1:{i:0;a:5:{s:4:"data";s:17:"MySQL.com hacked?";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:4:"guid";a:1:{i:0;a:5:{s:4:"data";s:41:"http://mysqlpreacher.com/wordpress/?p=683";s:7:"attribs";a:1:{s:0:"";a:1:{s:11:"isPermaLink";s:5:"false";}}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:4:"link";a:1:{i:0;a:5:{s:4:"data";s:74:"http://mysqlpreacher.com/wordpress/2011/09/mysql-com-really-hacked-or-not/";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:11:"description";a:1:{i:0;a:5:{s:4:"data";s:163:"As per amorize.com MySQL.com was hacked and quote &#8220;infecting visitors with malware&#8221; .. true or false? &#8230; 
More reading at krebsonsecurity.com too.";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:7:"pubDate";a:1:{i:0;a:5:{s:4:"data";s:31:"Mon, 26 Sep 2011 23:25:07 +0000";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:8:"category";a:4:{i:0;a:5:{s:4:"data";s:5:"MySQL";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}i:1;a:5:{s:4:"data";s:4:"hack";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}i:2;a:5:{s:4:"data";s:7:"malware";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}i:3;a:5:{s:4:"data";s:8:"security";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}s:40:"http://purl.org/rss/1.0/modules/content/";a:1:{s:7:"encoded";a:1:{i:0;a:5:{s:4:"data";s:570:"<p>As per <a href="http://blog.armorize.com/2011/09/mysqlcom-hacked-infecting-visitors-with.html/">amorize.com</a> MySQL.com was hacked and quote &#8220;infecting visitors with malware&#8221; .. true or false? &#8230; </p>
<p>More reading at<a href="http://krebsonsecurity.com/2011/09/mysql-com-sold-for-3k-serves-malware/"> krebsonsecurity.com</a> too.</p><br/>PlanetMySQL Voting:
	 <a href="http://planet.mysql.com/entry/vote/?entry_id=30100&vote=1&apivote=1">Vote UP</a> /
	 <a href="http://planet.mysql.com/entry/vote/?entry_id=30100&vote=-1&apivote=1">Vote DOWN</a>";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}s:32:"http://purl.org/dc/elements/1.1/";a:1:{s:7:"creator";a:1:{i:0;a:5:{s:4:"data";s:13:"Darren Cassar";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}}}i:40;a:6:{s:4:"data";s:58:"
    
    
    
    
    
    
    
    
    
    
    
  ";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";s:5:"child";a:3:{s:0:"";a:6:{s:5:"title";a:1:{i:0;a:5:{s:4:"data";s:42:"How to Implement MySQL Sharding – Part 2";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:4:"guid";a:1:{i:0;a:5:{s:4:"data";s:32:"http://www.scalebase.com/?p=1544";s:7:"attribs";a:1:{s:0:"";a:1:{s:11:"isPermaLink";s:5:"false";}}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:4:"link";a:1:{i:0;a:5:{s:4:"data";s:74:"http://www.scalebase.com/how-to-implement-mysql-sharding-%E2%80%93-part-2/";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:11:"description";a:1:{i:0;a:5:{s:4:"data";s:2569:"In the previous post of this series (which can be found here) I discussed how to identify tables that can serve as good candidates for sharding.
Once you have decided which tables should be sharded (all the rest should be global tables), the choice of sharding keys is rather straightforward, as most will use the table primary key as the shard key. Of course, if multiple tables are sharded, and there is a foreign key relationship between these tables, then the foreign key will serve as the shard key for some tables.
Many people attempt to shard based on customer_id or a resource id, but I have seen how this usually fails in production environments. It is very hard to know in advance which customers belong together in the same database, and since customers can suddenly increase their traffic, this might create an unbalanced situation in which some shards are very busy while others are relaxed (see the details of last year’s FourSquare outage for some possible results of unbalanced sharding).
As with database partitioning, there are multiple algorithms available for sharding: hash , list, or range. Usually you’ll use list and range for multi-tenancy – saving customer information across different databases and maybe even different data centers. I’ll touch on that subject in a future post. But hash will probably give you the best results when it comes to sharding, as statistically it ensures that data is evenly distributed across all shards.
So after sharding configuration, what’s next?
If you have a new application you can skip the next section and just wait for the next post. But if you have an existing database, you’re stuck with huge amounts of data that you need to split.
We at ScaleBase ran a lot of tests and found that the following is the best mechanism for the initial data migration (BTW – if you use ScaleBase,– we handle and also optimize the data migration for you).

Have the database cloned in all shards. It can be done by cloning a VM, or copying the physical files, or using mysqldump to export once and import to all shards.
For each shard (on shard tables only):

Drop all indexes.
Delete the irrelevant data from the shard (this should be done by an automatic script of course).
Note: This action creates a lot of fragmentation. You might consider creating temporary a table, inserting to it only the relevant rows, drop the original table and rename the temporary one to the real name
Create all indexes.



In the next post we’ll talk about the programming language modifications that sharding requires.";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:7:"pubDate";a:1:{i:0;a:5:{s:4:"data";s:31:"Mon, 26 Sep 2011 18:34:28 +0000";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:8:"category";a:4:{i:0;a:5:{s:4:"data";s:12:"Architecture";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}i:1;a:5:{s:4:"data";s:4:"Blog";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}i:2;a:5:{s:4:"data";s:4:"News";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}i:3;a:5:{s:4:"data";s:9:"ScaleBase";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}s:40:"http://purl.org/rss/1.0/modules/content/";a:1:{s:7:"encoded";a:1:{i:0;a:5:{s:4:"data";s:3108:"<p>In the previous post of this series (which can be found <a href="http://www.scalebase.com/how-to-implement-mysql-sharding/">here</a>) I discussed how to identify tables that can serve as good candidates for sharding.</p>
<p>Once you have decided which tables should be sharded (all the rest should be global tables), the choice of sharding keys is rather straightforward, as most will use the table primary key as the shard key. Of course, if multiple tables are sharded, and there is a foreign key relationship between these tables, then the foreign key will serve as the shard key for some tables.</p>
<p>Many people attempt to shard based on customer_id or a resource id, but I have seen how this usually fails in production environments. It is very hard to know in advance which customers belong together in the same database, and since customers can suddenly increase their traffic, this might create an unbalanced situation in which some shards are very busy while others are relaxed (see the <a href="http://www.infoq.com/news/2010/10/4square_mongodb_outage">details</a> of last year’s FourSquare outage for some possible results of unbalanced sharding).</p>
<p>As with database partitioning, there are multiple algorithms available for sharding: hash , list, or range. Usually you’ll use list and range for multi-tenancy – saving customer information across different databases and maybe even different data centers. I’ll touch on that subject in a future post. But hash will probably give you the best results when it comes to sharding, as statistically it ensures that data is evenly distributed across all shards.</p>
<p>So after sharding configuration, what’s next?</p>
<p>If you have a new application you can skip the next section and just wait for the next post. But if you have an existing database, you’re stuck with huge amounts of data that you need to split.</p>
<p>We at ScaleBase ran a lot of tests and found that the following is the best mechanism for the initial data migration (BTW – if you use <a href="http://www.scalebase.com/solution/download/">ScaleBase</a>,– we handle and also optimize the data migration for you).</p>
<ol>
<li>Have the database cloned in all shards. It can be done by cloning a VM, or copying the physical files, or using mysqldump to export once and import to all shards.</li>
<li>For each shard (on shard tables only):
<ol>
<li>Drop all indexes.</li>
<li>Delete the irrelevant data from the shard (this should be done by an automatic script of course).<br />
Note: This action creates a lot of fragmentation. You might consider creating temporary a table, inserting to it only the relevant rows, drop the original table and rename the temporary one to the real name</li>
<li>Create all indexes.</li>
</ol>
</li>
</ol>
<p>In the next post we’ll talk about the programming language modifications that sharding requires.</p><br/>PlanetMySQL Voting:
	 <a href="http://planet.mysql.com/entry/vote/?entry_id=30099&vote=1&apivote=1">Vote UP</a> /
	 <a href="http://planet.mysql.com/entry/vote/?entry_id=30099&vote=-1&apivote=1">Vote DOWN</a>";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}s:32:"http://purl.org/dc/elements/1.1/";a:1:{s:7:"creator";a:1:{i:0;a:5:{s:4:"data";s:12:"Liran Zelkha";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}}}i:41;a:6:{s:4:"data";s:83:"
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
  ";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";s:5:"child";a:3:{s:0:"";a:6:{s:5:"title";a:1:{i:0;a:5:{s:4:"data";s:32:"From Under the Desk to the Cloud";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:4:"guid";a:1:{i:0;a:5:{s:4:"data";s:30:"http://www.tokutek.com/?p=3284";s:7:"attribs";a:1:{s:0:"";a:1:{s:11:"isPermaLink";s:5:"false";}}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:4:"link";a:1:{i:0;a:5:{s:4:"data";s:64:"http://www.tokutek.com/2011/09/from-under-the-desk-to-the-cloud/";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:11:"description";a:1:{i:0;a:5:{s:4:"data";s:3876:"&nbsp;
Review of the O’Reilly Strata Making Data Work Conference
(reprinted from my guest blog for the Cloud Council of 7)
Monica Rogati of LinkedIn told a story of the early days at the firm, when the reporting system consisted of a single server under someone’s desk. One day, someone needed an Ethernet cable and unplugged the machine from the data outlet in the wall. LinkedIn’s data reporting, its life blood, instantly came to a screeching halt.
The Push to the Cloud
LinkedIn, like many other social network sites, eventually would face enormous growth and have to develop new processes and procedures that would allow them to be an effective cloud repository for people’s work contacts and resumes. The quantity of data that social sites have to contend with is staggering. Monica summed it up well in the title of her talk: “1M. 10M. 100M. Data!” And LinkedIn is far from alone &#8211; others spoke of other similar increases. Peter Sirota from Amazon Web Services in his talk noted how Yelp generates close to 400 GB of compressed logs per day and that Foursquare has to track over 1M members and 15M venues.
Big Data, Even Bigger Hair
So why is big data becoming so big as of late (and spawning so many conferences?) Richard McDougall of VMware summed up some of the driving forces:

The enterprise is experiencing data growth rates of 60% year over year
People are starting to see real value out of the data given its breadth and new supporting tools
The value from data exceeds hardware cost

Richard went on to state why the cloud is performing so well here. The cloud

Reduces the complexity
Dramatically lower costs
Enables flexible, agile IT service delivery

Of course, big name vendors are rushing across the stack to fill in offerings. Peter claimed that Amazon’s EC2 lowers the cost of operating a distributed system for data processing. Chris Schalk of Google noted that customers should “focus on building your apps and let us wear the pagers”, given the release of their Google Apps toolset.
Implications and Benefits 
So when companies get it right, what are the implications and benefits of big data in the cloud? The success in the cloud, according to Peter, is leading to better analysis and recommendations just to name a few key areas. And it’s not just the commercial space benefiting. The conference was also great at showcasing how big data availability was shaping areas outside of traditional consumer tech. NYC is making its data publicly available for people to explore and work-on. Nonprofits are also following suit. Data without Borders spoke of an upcoming Datadive weekend for nonprofits who can’t afford data scientists. At the event volunteer data scientists and enthusiasts will be given access to the data for a crowd-sourced approach to finding new insights. Even the biggest names in foundations are seeing the value in big data. Alastair Dant of The Guardian newspaper noted how the Bill and Melinda Gates Foundation are teaming up with The Guardian to make a public data store of information available on world development statistics.
Don’t Let Your Kitten Crash
So, how well is your business prepared for growth? Hilary Mason of bit.ly noted that much of big data either comes from “secret US government scale” or “kittens on the internet scale.” With the former, there is often much advance planning. With the latter, just like the surprise someone gets when Fluffy goes viral, people are often caught off guard when their business volume grows dramatically. That means plan early. Design ahead. Make sure that your infrastructure can take you to the next level of growth. Importantly, consider whether the agility, enabled by the cloud, makes the most sense for you and make sure you are monitoring the right growth parameters in your business. In other words, don’t let your kitten crash.";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:7:"pubDate";a:1:{i:0;a:5:{s:4:"data";s:31:"Mon, 26 Sep 2011 17:24:33 +0000";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:8:"category";a:9:{i:0;a:5:{s:4:"data";s:8:"TokuView";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}i:1;a:5:{s:4:"data";s:8:"big data";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}i:2;a:5:{s:4:"data";s:5:"cloud";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}i:3;a:5:{s:4:"data";s:10:"conference";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}i:4;a:5:{s:4:"data";s:5:"mysql";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}i:5;a:5:{s:4:"data";s:8:"O'Reilly";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}i:6;a:5:{s:4:"data";s:6:"Strata";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}i:7;a:5:{s:4:"data";s:6:"TokuDB";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}i:8;a:5:{s:4:"data";s:7:"Tokutek";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}s:40:"http://purl.org/rss/1.0/modules/content/";a:1:{s:7:"encoded";a:1:{i:0;a:5:{s:4:"data";s:6546:"<p>&nbsp;</p>
<p><strong><em>Review of the </em></strong><a href="http://strataconf.com/stratany2011" target="_blank"><strong><em>O’Reilly Strata Making Data Work</em></strong></a><strong><em> Conference</em></strong></p>
<p><em>(reprinted from my <a href="http://cco7.com/?p=439" target="_blank">guest blog</a> for the <a href="http://cco7.com/" target="_blank">Cloud Council of 7</a>)</em></p>
<p><a href="http://strataconf.com/stratany2011/public/schedule/speaker/109152" target="_blank">Monica Rogati</a> of LinkedIn told a <a href="http://twitter.com/OlafKowalik/status/116981889822232577" target="_blank">story</a> of the early days at the firm, when the reporting system consisted of a single server under someone’s desk. One day, someone needed an Ethernet cable and unplugged the machine from the data outlet in the wall. LinkedIn’s data reporting, its life blood, instantly came to a screeching halt.</p>
<p><strong>The Push to the Cloud</strong></p>
<p>LinkedIn, like many other social network sites, eventually would face enormous growth and have to develop new processes and procedures that would allow them to be an effective cloud repository for people’s work contacts and resumes. The quantity of data that social sites have to contend with is staggering. Monica summed it up well in the title of her talk: “<a href="http://strataconf.com/stratany2011/public/schedule/detail/21647" target="_blank">1M. 10M. 100M. Data!</a>” And LinkedIn is far from alone &#8211; others spoke of other similar increases. <a href="http://strataconf.com/stratany2011/public/schedule/speaker/107511" target="_blank">Peter Sirota</a> from Amazon Web Services in his talk noted how <a href="http://twitter.com/tokutek/statuses/117295018498199552" target="_blank">Yelp generates close to 400 GB of compressed logs per day</a> and that Foursquare has to track over 1M members and 15M venues.</p>
<p align="center"><a href="http://www.tokutek.com/wp-content/uploads/2011/09/big-data-big-hair.jpg" rel="shadowbox[sbpost-3284];player=img;"><img class="aligncenter size-full wp-image-3403" title="big data big hair" src="http://www.tokutek.com/wp-content/uploads/2011/09/big-data-big-hair.jpg" alt="" width="400" /></a><em>Big Data, Even Bigger Hair</em></p>
<p>So why is big data becoming so big as of late (and spawning so many <a href="http://www.economist.com/blogs/babbage/2011/09/big-data" target="_blank">conferences</a>?) <a href="http://strataconf.com/stratany2011/public/schedule/speaker/81621" target="_blank">Richard McDougall</a> of VMware summed up some of the driving forces:</p>
<ul>
<li>The enterprise is experiencing data growth rates of 60% year over year</li>
<li>People are starting to see real value out of the data given its breadth and new supporting tools</li>
<li>The value from data exceeds hardware cost</li>
</ul>
<p>Richard went on to state why the cloud is performing so well here. The cloud</p>
<ul>
<li>Reduces the complexity</li>
<li>Dramatically lower costs</li>
<li>Enables flexible, agile IT service delivery</li>
</ul>
<p>Of course, big name vendors are rushing across the stack to fill in offerings. Peter <a href="http://twitter.com/tokutek/statuses/117293880386396160" target="_blank">claimed</a> that Amazon’s EC2 lowers the cost of operating a distributed system for data processing. <a href="http://strataconf.com/stratany2011/public/schedule/speaker/4896" target="_blank">Chris Schalk</a> of Google <a href="http://twitter.com/schwartzlaws/status/117308074544467968" target="_blank">noted</a> that customers should “focus on building your apps and let us wear the pagers”, given the release of their Google Apps toolset.</p>
<p><strong>Implications and Benefits </strong></p>
<p>So when companies get it right, what are the implications and benefits of big data in the cloud? The success in the cloud, <a href="http://twitter.com/OlafKowalik/statuses/117295426532675584" target="_blank">according to Peter</a>, is leading to better analysis and recommendations just to name a few key areas. And it’s not just the commercial space benefiting. The conference was also great at showcasing how big data availability was shaping areas outside of traditional consumer tech. NYC is making its data <a href="http://twitter.com/tokutek/statuses/116863516392177664" target="_blank">publicly available</a> for people to explore and work-on. Nonprofits are also following suit. <a href="http://strataconf.com/stratany2011/public/schedule/detail/21703" target="_blank">Data without Borders</a> spoke of an upcoming <a href="http://datawithoutborders.cc/events/nykickoff/" target="_blank">Datadive weekend</a> for nonprofits who can’t afford data scientists. At the event volunteer data scientists and enthusiasts will be given access to the data for a crowd-sourced approach to finding new insights. Even the biggest names in foundations are seeing the value in big data. <a href="http://strataconf.com/stratany2011/public/schedule/speaker/124339" target="_blank">Alastair Dant</a> of <em>The Guardian</em> newspaper noted how the Bill and Melinda Gates Foundation are teaming up with <em>The Guardian</em> to make a <a href="http://www.guardian.co.uk/gnm-press-office/guardian-launches-global-development-site" target="_blank">public data store</a> of information available on world development statistics.</p>
<p><strong>Don’t Let Your Kitten Crash</strong></p>
<p>So, how well is your business prepared for growth? <a href="http://strataconf.com/stratany2011/public/schedule/speaker/62617" target="_blank">Hilary Mason</a> of bit.ly noted that much of big data either comes from <a href="http://twitter.com/acroll/statuses/117236810748399616" target="_blank">“secret US government scale” or “kittens on the internet scale.”</a> With the former, there is often much advance planning. With the latter, just like the surprise someone gets when Fluffy goes viral, people are often caught off guard when their business volume grows dramatically. That means plan early. Design ahead. Make sure that your infrastructure can take you to the next level of growth. Importantly, consider whether the agility, enabled by the cloud, makes the most sense for you and make sure you are monitoring the right growth parameters in your business. In other words, don’t let your kitten crash.</p><br/>PlanetMySQL Voting:
	 <a href="http://planet.mysql.com/entry/vote/?entry_id=30098&vote=1&apivote=1">Vote UP</a> /
	 <a href="http://planet.mysql.com/entry/vote/?entry_id=30098&vote=-1&apivote=1">Vote DOWN</a>";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}s:32:"http://purl.org/dc/elements/1.1/";a:1:{s:7:"creator";a:1:{i:0;a:5:{s:4:"data";s:13:"Tokuview Blog";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}}}i:42;a:6:{s:4:"data";s:93:"
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
  ";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";s:5:"child";a:3:{s:0:"";a:6:{s:5:"title";a:1:{i:0;a:5:{s:4:"data";s:47:"Why a new memory engine may change everything ?";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:4:"guid";a:1:{i:0;a:5:{s:4:"data";s:30:"http://www.mysqlplus.net/?p=84";s:7:"attribs";a:1:{s:0:"";a:1:{s:11:"isPermaLink";s:5:"false";}}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:4:"link";a:1:{i:0;a:5:{s:4:"data";s:59:"http://feedproxy.google.com/~r/mysqlplusrss/~3/WQLBW4vY7RM/";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:11:"description";a:1:{i:0;a:5:{s:4:"data";s:4552:"I&#8217;m sure you are aware that the last Percona server release includes a new improved MEMORY storage engine for MySQL.
This new engine is based on Dynamic Row Format and offers some of great features, specialy for VARCHAR, VARBINARY, TEXT and BLOB fields in MEMORY tables.
But because this new MEMORY engine by Percona has some limitations and because Percona server hasn&#8217;t used it for its internal temporary tables yet, I would like to talk about what can be the real benefits to have a brand new MEMORY engine based on Dynamic row format specialy for internal memory tables.
Just remember or discover how MySQL uses internal memory tables

http://dev.mysql.com/doc/refman/5.5/en/internal-temporary-tables.html

And the MEMORY storage engine characteristics and its limitations

http://dev.mysql.com/doc/refman/5.5/en/memory-storage-engine.html

So, the memory storage engine transforms all varchar fields in char fields for internal temporary tables or for user created memory tables. 
1. Let me explain what is the problem with a simple exemple :
I&#8217;ve created an InnoDB table (without index) with two varchar fields (50 &amp; 100) :
mysql&gt; show table status like 'test_memory5'\G
*************************** 1. row ***************************
           Name: test_memory5
         Engine: InnoDB
        Version: 10
     Row_format: Compact
           Rows: 621089
 Avg_row_length: 66
    Data_length: 41484288
Max_data_length: 0
   Index_length: 0
      Data_free: 5242880
 Auto_increment: NULL
    Create_time: 2011-09-21 13:10:17
    Update_time: NULL
     Check_time: NULL
      Collation: latin1_swedish_ci
       Checksum: NULL
 Create_options:
        Comment:
The size of this table is about 48Mb (and more than 600.000 rows) :
-rw-rw---- 1 mysql mysql  48M 2011-09-21 13:11 test_memory5.ibd
Now, I&#8217;m creating a new memory table with exactly the same structure and I&#8217;m setting paramters for memory tables like this :

set tmp_table_size=50*1024*1024;
set max_heap_table_size=50*1024*1024;

That&#8217;s mean I can create a 50Mb max memory table.
Thus, let me insert my 600.000 rows in this table :
mysql&gt; insert into test_memory6 select * from test_memory5;
ERROR 1114 (HY000): The table 'test_memory6' is full
My 50Mb memory table can&#8217;t  contain the 48Mb of the InnoDB table !
Let&#8217;s try with 80Mb :
mysql&gt; set tmp_table_size=80*1024*1024;
Query OK, 0 rows affected (0.00 sec)
mysql&gt; set max_heap_table_size=80*1024*1024;
Query OK, 0 rows affected (0.00 sec)
mysql&gt; insert into test_memory6 select * from test_memory5;
ERROR 1114 (HY000): The table 'test_memory6' is full
And this error occurs until the memory tables can have a 110Mb maximum size !
Why ? Because the two varchar fields of the InnoDB table are converted in char fields with the memory storage engine.
Let&#8217;s see this example from MySQL documentation :



Value
CHAR(4)
Storage Required
VARCHAR(4)
Storage Required




''
'    '
4 bytes
''
1 byte


'ab'
'ab  '
4 bytes
'ab'
3 bytes


'abcd'
'abcd'
4 bytes
'abcd'
5 bytes


'abcdefgh'
'abcd'
4 bytes
'abcd'
5 bytes



By the way, this is a very good reason to take care of your varchar fields.
Conclusion : A memory table can be really bigger than an InnoDB table
2. Let  me explain why a new memory engine may change everything :
Changing the rules for memory tables may change everything for, at least, two reasons :

VARCHAR, VARBINARY, TEXT and BLOB fields will be supported by this new engine for user created memory tables (Percona server can do it with restrictions)
Internal memory tables could be more efficient with Dynamic Row Format

The real benefits will come with internal memory tables, how often do you see that when you &#8220;explain&#8221; your queries :
Extra: Using where; Using temporary; Using filesort
Thus, for each query using a temporary table, MySQL could use less of memory (RAM) !
I don&#8217;t know what would be the real benefit but I am convinced that it can be really significant.
I look forward to see more benchmark about that with last percona server release and I hope that Percona server or MariaDB will support dynamic row format for internal memory tables soon.
Please, let us know if you have already tested this new Percona Memory engine.
Related Posts :Did you know optimize table can reset your auto-increment ?Does mpstat can replace vmstat ?Fatal timeout ![UPDATED] Why you should go to Percona Live (London) ?
   
";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:7:"pubDate";a:1:{i:0;a:5:{s:4:"data";s:31:"Mon, 26 Sep 2011 16:01:03 +0000";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:8:"category";a:11:{i:0;a:5:{s:4:"data";s:5:"Admin";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}i:1;a:5:{s:4:"data";s:4:"blob";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}i:2;a:5:{s:4:"data";s:18:"dynamic row format";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}i:3;a:5:{s:4:"data";s:6:"engine";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}i:4;a:5:{s:4:"data";s:7:"mariaDB";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}i:5;a:5:{s:4:"data";s:19:"max_heap_table_size";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}i:6;a:5:{s:4:"data";s:13:"memory engine";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}i:7;a:5:{s:4:"data";s:7:"Percona";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}i:8;a:5:{s:4:"data";s:15:"temporary table";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}i:9;a:5:{s:4:"data";s:4:"text";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}i:10;a:5:{s:4:"data";s:14:"tmp_table_size";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}s:40:"http://purl.org/rss/1.0/modules/content/";a:1:{s:7:"encoded";a:1:{i:0;a:5:{s:4:"data";s:7972:"<p>I&#8217;m sure you are aware that the last <a href="http://www.mysqlperformanceblog.com/2011/08/31/percona-server-5-5-15-21-0/" target="_blank">Percona server</a> release includes a new improved <em><a href="http://www.percona.com/docs/wiki/percona-server%3Afeatures%3Aimproved_memory_engine" target="_blank">MEMORY </a></em>storage engine for MySQL.<br />
This new engine is based on <em>Dynamic Row Format </em>and offers some of great features, specialy for <em>VARCHAR</em>, <em>VARBINARY</em>, <em>TEXT</em> and <em>BLOB</em> fields in <em>MEMORY</em> tables.</p>
<p>But because this new <em>MEMORY</em> engine by Percona has some limitations and because Percona server hasn&#8217;t used it for its internal temporary tables yet, I would like to talk about what can be the real benefits to have a brand new <em>MEMORY</em> engine based on <em>Dynamic row format</em> specialy for internal memory tables.</p>
<p>Just remember or discover how MySQL uses internal memory tables</p>
<ul>
<li><a href="http://dev.mysql.com/doc/refman/5.5/en/internal-temporary-tables.html" target="_blank">http://dev.mysql.com/doc/refman/5.5/en/internal-temporary-tables.html</a></li>
</ul>
<p>And the <em>MEMORY</em> storage engine characteristics and its limitations</p>
<ul>
<li><a href="http://dev.mysql.com/doc/refman/5.5/en/memory-storage-engine.html" target="_blank">http://dev.mysql.com/doc/refman/5.5/en/memory-storage-engine.html</a></li>
</ul>
<p>So, the <em>memory</em> storage engine transforms all <em>varchar</em> fields in <em>char</em> fields for internal temporary tables or for user created <em>memory</em> tables. <strong></strong></p>
<p><strong><span>1. Let me explain what is the problem with a simple exemple :</span></strong></p>
<p>I&#8217;ve created an InnoDB table (without index) with two <em>varchar</em> fields (50 &amp; 100) :</p>
<pre>mysql&gt; show table status like 'test_memory5'\G
*************************** 1. row ***************************
           Name: test_memory5
         Engine: InnoDB
        Version: 10
     Row_format: Compact
           Rows: <strong>621089</strong>
 Avg_row_length: 66
<strong>    Data_length: 41484288</strong>
Max_data_length: 0
   Index_length: 0
<strong>      Data_free: 5242880</strong>
 Auto_increment: NULL
    Create_time: 2011-09-21 13:10:17
    Update_time: NULL
     Check_time: NULL
      Collation: latin1_swedish_ci
       Checksum: NULL
 Create_options:
        Comment:</pre>
<p>The size of this table is about <strong>48Mb</strong> (and more than 600.000 rows) :</p>
<pre>-rw-rw---- 1 mysql mysql  <strong>48M</strong> 2011-09-21 13:11 test_memory5.ibd</pre>
<p>Now, I&#8217;m creating a new <em>memory</em> table with exactly the same structure and I&#8217;m setting paramters for <em>memory</em> tables like this :</p>
<ul>
<li>set tmp_table_size=50*1024*1024;</li>
<li>set max_heap_table_size=50*1024*1024;</li>
</ul>
<p>That&#8217;s mean I can create a <strong>50Mb</strong> max memory table.<br />
Thus, let me insert my 600.000 rows in this table :</p>
<pre>mysql&gt; insert into test_memory6 select * from test_memory5;
<strong>ERROR 1114 (HY000): The table 'test_memory6' is full</strong></pre>
<p>My <strong>50Mb</strong> memory table can&#8217;t  contain the 48Mb of the InnoDB table !<br />
Let&#8217;s try with <strong>80Mb</strong> :</p>
<pre>mysql&gt; set tmp_table_size=80*1024*1024;
Query OK, 0 rows affected (0.00 sec)
mysql&gt; set max_heap_table_size=80*1024*1024;
Query OK, 0 rows affected (0.00 sec)
mysql&gt; insert into test_memory6 select * from test_memory5;
<strong>ERROR 1114 (HY000): The table 'test_memory6' is full</strong></pre>
<p>And this error occurs until the <em>memory</em> tables can have a <strong>110Mb</strong> maximum size !</p>
<p>Why ? Because the two <em>varchar</em> fields of the InnoDB table are converted in <em>char</em> fields with the memory storage engine.<br />
Let&#8217;s see this example from MySQL documentation :</p>
<table border="1">
<thead>
<tr>
<th>Value</th>
<th><code>CHAR(4)</code></th>
<th>Storage Required</th>
<th><code>VARCHAR(4)</code></th>
<th>Storage Required</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>''</code></td>
<td><code>'    '</code></td>
<td>4 bytes</td>
<td><code>''</code></td>
<td>1 byte</td>
</tr>
<tr>
<td><code>'ab'</code></td>
<td><code>'ab  '</code></td>
<td>4 bytes</td>
<td><code>'ab'</code></td>
<td>3 bytes</td>
</tr>
<tr>
<td><code>'abcd'</code></td>
<td><code>'abcd'</code></td>
<td>4 bytes</td>
<td><code>'abcd'</code></td>
<td>5 bytes</td>
</tr>
<tr>
<td><code>'abcdefgh'</code></td>
<td><code>'abcd'</code></td>
<td>4 bytes</td>
<td><code>'abcd'</code></td>
<td>5 bytes</td>
</tr>
</tbody>
</table>
<p>By the way, this is a very good reason to take care of your <em>varchar</em> fields.</p>
<p><strong>Conclusion :</strong> A memory table can be really bigger than an InnoDB table</p>
<p><span><strong>2. Let  me explain why a new <em>memory</em> engine may change everything :</strong></span></p>
<p>Changing the rules for <em>memory</em> tables may change everything for, at least, two reasons :</p>
<ul>
<li><em>VARCHAR</em>, <em>VARBINARY</em>, <em>TEXT</em> and <em>BLOB</em> fields will be supported by this new engine for user created <em>memory</em> tables (Percona server can do it with restrictions)</li>
<li><strong>Internal <em>memory</em> tables could be more efficient with <em>Dynamic Row Format</em></strong></li>
</ul>
<div>The real benefits will come with internal <em>memory</em> tables, how often do you see that when you &#8220;<em>explain&#8221;</em> your queries :</div>
<pre>Extra: Using where; <strong>Using temporary</strong>; Using filesort</pre>
<p>Thus, for each query using a temporary table, MySQL could use less of memory (RAM) !<br />
I don&#8217;t know what would be the real benefit but I am convinced that it can be really significant.</p>
<p>I look forward to see more benchmark about that with last percona server release and I hope that Percona server or MariaDB will support dynamic row format for internal <em>memory</em> tables soon.</p>
<p>Please, let us know if you have already tested this new Percona <em>Memory</em> engine.</p>
<div><B><U>Related Posts :</U></B><ul><li><a href="http://www.mysqlplus.net/2011/07/12/optimize-table-reset-auto-increment/" rel="bookmark">Did you know <i>optimize table</i> can reset your auto-increment ?</a></li><li><a href="http://www.mysqlplus.net/2011/07/06/mpstat-replace-vmstat/" rel="bookmark">Does <i>mpstat</i> can replace <i>vmstat</i> ?</a></li><li><a href="http://www.mysqlplus.net/2011/07/07/fatal-timeout/" rel="bookmark">Fatal timeout !</a></li><li><a href="http://www.mysqlplus.net/2011/09/22/percona-live/" rel="bookmark">[UPDATED] Why you should go to Percona Live (London) ?</a></li></ul></div><div>
<a href="http://feeds.feedburner.com/~ff/mysqlplusrss?a=WQLBW4vY7RM:gLSJksuWHEE:yIl2AUoC8zA"><img src="http://feeds.feedburner.com/~ff/mysqlplusrss?d=yIl2AUoC8zA" border="0"></img></a> <a href="http://feeds.feedburner.com/~ff/mysqlplusrss?a=WQLBW4vY7RM:gLSJksuWHEE:-BTjWOF_DHI"><img src="http://feeds.feedburner.com/~ff/mysqlplusrss?i=WQLBW4vY7RM:gLSJksuWHEE:-BTjWOF_DHI" border="0"></img></a> <a href="http://feeds.feedburner.com/~ff/mysqlplusrss?a=WQLBW4vY7RM:gLSJksuWHEE:D7DqB2pKExk"><img src="http://feeds.feedburner.com/~ff/mysqlplusrss?i=WQLBW4vY7RM:gLSJksuWHEE:D7DqB2pKExk" border="0"></img></a> <a href="http://feeds.feedburner.com/~ff/mysqlplusrss?a=WQLBW4vY7RM:gLSJksuWHEE:qj6IDK7rITs"><img src="http://feeds.feedburner.com/~ff/mysqlplusrss?d=qj6IDK7rITs" border="0"></img></a>
</div><img src="http://feeds.feedburner.com/~r/mysqlplusrss/~4/WQLBW4vY7RM" height="1" width="1" /><br/>PlanetMySQL Voting:
	 <a href="http://planet.mysql.com/entry/vote/?entry_id=30097&vote=1&apivote=1">Vote UP</a> /
	 <a href="http://planet.mysql.com/entry/vote/?entry_id=30097&vote=-1&apivote=1">Vote DOWN</a>";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}s:32:"http://purl.org/dc/elements/1.1/";a:1:{s:7:"creator";a:1:{i:0;a:5:{s:4:"data";s:14:"Cedric PEINTRE";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}}}i:43;a:6:{s:4:"data";s:58:"
    
    
    
    
    
    
    
    
    
    
    
  ";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";s:5:"child";a:3:{s:0:"";a:6:{s:5:"title";a:1:{i:0;a:5:{s:4:"data";s:32:"Speaking at Insight Out in Tokyo";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:4:"guid";a:1:{i:0;a:5:{s:4:"data";s:38:"http://ronaldbradford.com/blog/?p=3761";s:7:"attribs";a:1:{s:0:"";a:1:{s:11:"isPermaLink";s:5:"false";}}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:4:"link";a:1:{i:0;a:5:{s:4:"data";s:75:"http://ronaldbradford.com/blog/speaking-at-insight-out-in-tokyo-2011-09-26/";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:11:"description";a:1:{i:0;a:5:{s:4:"data";s:262:"I will be joining a stellar class of speakers at the Insight Out DB Showcase in Tokyo from Oct 19-21, 2011. This event covers several RDBMS technologies including MySQL.
My topics are:

Better MySQL Security and Administration
Mastering MySQL Performance Tuning
";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:7:"pubDate";a:1:{i:0;a:5:{s:4:"data";s:31:"Mon, 26 Sep 2011 15:26:40 +0000";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:8:"category";a:4:{i:0;a:5:{s:4:"data";s:9:"Databases";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}i:1;a:5:{s:4:"data";s:5:"MySQL";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}i:2;a:5:{s:4:"data";s:12:"MySQL Events";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}i:3;a:5:{s:4:"data";s:12:"Professional";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}s:40:"http://purl.org/rss/1.0/modules/content/";a:1:{s:7:"encoded";a:1:{i:0;a:5:{s:4:"data";s:712:"<p><img style="float:right;margin:10px" src="http://ronaldbradford.com/images/site/insightout2011.png" />I will be joining a stellar class of speakers at the <a href="http://www.insight-tec.com/seminars-2/insight-out-db-tech-showcase.html?lang=en">Insight Out DB Showcase</a> in Tokyo from Oct 19-21, 2011. This event covers several RDBMS technologies including MySQL.</p>
<p>My topics are:</p>
<ul>
<li>Better MySQL Security and Administration</li>
<li>Mastering MySQL Performance Tuning</li>
</ul><br/>PlanetMySQL Voting:
	 <a href="http://planet.mysql.com/entry/vote/?entry_id=30095&vote=1&apivote=1">Vote UP</a> /
	 <a href="http://planet.mysql.com/entry/vote/?entry_id=30095&vote=-1&apivote=1">Vote DOWN</a>";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}s:32:"http://purl.org/dc/elements/1.1/";a:1:{s:7:"creator";a:1:{i:0;a:5:{s:4:"data";s:15:"Ronald Bradford";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}}}i:44;a:6:{s:4:"data";s:143:"
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
  ";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";s:5:"child";a:3:{s:0:"";a:6:{s:5:"title";a:1:{i:0;a:5:{s:4:"data";s:43:"MySQL at the core of commercial open source";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:4:"guid";a:1:{i:0;a:5:{s:4:"data";s:47:"http://blogs.the451group.com/opensource/?p=5582";s:7:"attribs";a:1:{s:0:"";a:1:{s:11:"isPermaLink";s:5:"false";}}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:4:"link";a:1:{i:0;a:5:{s:4:"data";s:60:"http://feedproxy.google.com/~r/451opensource/~3/ZFnL010iYqw/";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:11:"description";a:1:{i:0;a:5:{s:4:"data";s:4327:"Oracle last week quietely announced the addition of new extended capabilities in MySQL Enterprise Edition, confirming the adoption of the open core licensing strategy, as we reported last November.
The news was both welcomed and derided. Rather than re-hashing previous arguments about open core licensing, what interests me more about the move is how it illustrates the different strategies adopted by Sun and Oracle for driving revenue from MySQL, and how a single project can be used to describe most of the major strategies from generating revenue from open source software.

Like most open source-related software vendors, MySQL started out life offering support, training and consulting around the open source database. The company also saw success in offering a closed source variant of the database for embedding in closed source systems, and it was this dual licensing strategy that drove much of the company&#8217;s early revenue. That began to change with the arrival of MySQL Enterprise (initially &#8216;MySQL Network&#8217;) &#8211; a subscription offering that delivered monitoring and (later) backup capabilities to paying customers only. While some people see this as an example of the open core licensing strategy, as we have previously explained, it is not. While open core is an extension of the dual licensing strategy with additional extensions, MySQL AB&#8217;s MySQL Enterprise, as the graphic above illustrates, actually paired the extensions with the open source MySQL Community &#8211; a subtle difference from the MySQL Enterprise licensing strategy adopted by Oracle (more of which later).

MySQL flirted with the open core licensing model in early 2008 with plans to  introduce new features into Enterprise Edition that would not be available under an open source license. Those plans were ultimately reversed at the behest of new owner Sun Microsystems. To understand why Sun did this one must consider the company&#8217;s wider strategy for open source at the time. While a software freedom philosophy played a part, Jonathan Schwartz&#8217;s map of open source downloads, each representing &#8216;a potential customer that cost Sun nothing to acquire&#8217;, explains how Sun was less interested in driving direct revenue from MySQL (and other open source software) as it was in helping open source users to become customers for Sun&#8217;s commodity hardware and other products and services. (Although as Henrik notes in the comments, Sun did also increase MySQL direct revenue as well).

Sun never got the chance to prove whether this model would have worked (I&#8217;m being polite), but in any case contrast Sun&#8217;s approach with Oracle&#8217;s strategy for open source. While the majority of Oracle&#8217;s revenue clearly comes from other products, it is not looking to drive revenue for those products via open source downloads. Witness Larry Ellison&#8217;s recent proclamation that he doesn&#8217;t care if Oracle x86 server business (typically used to run MySQL) goes to zero. Instead (for better or worse) the company is focused on driving revenue directly from each individual product, whether that is a high margin server, or closed or open source software. That has resulted in an increased investment in embedded opportunities for MySQL, as well as traditional software license agreements. While customers might choose to use MySQL Community and purchase additional support subscriptions, as of November 2010 Oracle prefers that Standard Edition and Enterprise Edition customers enter into a commercial license agreement with the company. That was a strategy that was in place in advance of last week&#8217;s addition of high availability, scalability and security features, but one that clearly looks set to continue.
Whether this is a good or a bad thing depends on your perspective. Monty Widenius does a good job of outlining the down sides to an open core licensing strategy, while Giuseppe Maxia focuses on the positives. Certainly Oracle will have to be mindful to balance the control and community aspects, but as we have previously covered (451 Group clients) there are a number of new capabilities in development for the core MySQL database itself. It is also worth noting, incidentally, that MySQL Enterprise Edition remains priced at $5,000 per server per year.
";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:7:"pubDate";a:1:{i:0;a:5:{s:4:"data";s:31:"Mon, 26 Sep 2011 15:10:17 +0000";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:8:"category";a:21:{i:0;a:5:{s:4:"data";s:9:"Licensing";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}i:1;a:5:{s:4:"data";s:8:"Software";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}i:2;a:5:{s:4:"data";s:9:"451 group";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}i:3;a:5:{s:4:"data";s:13:"451caostheory";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}i:4;a:5:{s:4:"data";s:8:"451group";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}i:5;a:5:{s:4:"data";s:10:"caostheory";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}i:6;a:5:{s:4:"data";s:13:"insightupdate";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}i:7;a:5:{s:4:"data";s:5:"Linux";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}i:8;a:5:{s:4:"data";s:11:"matt aslett";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}i:9;a:5:{s:4:"data";s:10:"mattaslett";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}i:10;a:5:{s:4:"data";s:14:"matthew aslett";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}i:11;a:5:{s:4:"data";s:13:"matthewaslett";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}i:12;a:5:{s:4:"data";s:5:"mysql";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}i:13;a:5:{s:4:"data";s:16:"mysql enterprise";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}i:14;a:5:{s:4:"data";s:9:"Open-Core";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}i:15;a:5:{s:4:"data";s:11:"open-source";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}i:16;a:5:{s:4:"data";s:10:"opensource";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}i:17;a:5:{s:4:"data";s:6:"Oracle";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}i:18;a:5:{s:4:"data";s:3:"sun";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}i:19;a:5:{s:4:"data";s:13:"The 451 Group";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}i:20;a:5:{s:4:"data";s:11:"the451group";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}s:40:"http://purl.org/rss/1.0/modules/content/";a:1:{s:7:"encoded";a:1:{i:0;a:5:{s:4:"data";s:6590:"<p>Oracle last week quietely <a href="http://blogs.oracle.com/MySQL/entry/new_commercial_extensions_for_mysql">announced</a> the addition of new extended capabilities in MySQL Enterprise Edition, confirming the adoption of the open core licensing strategy, as we <a href="http://blogs.the451group.com/opensource/2010/11/11/is-mysql-open-core/">reported</a> last November.</p>
<p>The news was both <a href="http://datacharmer.blogspot.com/2011/09/welcome-mysql-commercial-extensions.html">welcomed</a> and <a href="http://monty-says.blogspot.com/2011/09/oracle-adding-close-source-extensions.html">derided</a>. Rather than re-hashing previous arguments about open core licensing, what interests me more about the move is how it illustrates the different strategies adopted by Sun and Oracle for driving revenue from MySQL, and how a single project can be used to describe most of the major strategies from generating revenue from open source software.</p>
<p><a href="http://blogs.the451group.com/opensource/files/mysql-mysql.png"><img src="http://blogs.the451group.com/opensource/files/mysql-mysql.png" alt="" title="mysql-mysql" width="287" height="190" class="alignleft size-full wp-image-5588" /></a></p>
<p>Like most open source-related software vendors, MySQL started out life offering support, training and consulting around the open source database. The company also saw success in offering a closed source variant of the database for embedding in closed source systems, and it was this dual licensing strategy that drove much of the company&#8217;s early revenue. That began to change with the arrival of MySQL Enterprise (initially &#8216;MySQL Network&#8217;) &#8211; a subscription offering that delivered monitoring and (later) backup capabilities to paying customers only. While some people see this as an example of the open core licensing strategy, as we have previously explained, it is not. While open core is an extension of the dual licensing strategy with additional extensions, MySQL AB&#8217;s MySQL Enterprise, as the graphic above illustrates, actually paired the extensions with the open source MySQL Community &#8211; a subtle difference from the MySQL Enterprise licensing strategy adopted by Oracle (more of which later).</p>
<p><a href="http://blogs.the451group.com/opensource/files/mysql-sun.png"><img src="http://blogs.the451group.com/opensource/files/mysql-sun.png" alt="" title="mysql-sun" width="341" height="190" class="alignleft size-full wp-image-5589" /></a></p>
<p>MySQL <a href="http://blogs.the451group.com/opensource/2008/04/17/mysqls-business-model-in-a-state-of-flux/">flirted</a> with the open core licensing model in early 2008 with plans to  introduce new features into Enterprise Edition that would not be available under an open source license. Those plans were ultimately <a href="http://www.zdnetasia.com/mysql-backtracks-on-closed-source-plan-62041146.htm">reversed</a> at the behest of new owner Sun Microsystems. To understand why Sun did this one must consider the company&#8217;s wider strategy for open source at the time. While a software freedom philosophy played a part, Jonathan Schwartz&#8217;s <a href="http://www.zdnet.co.uk/news/it-strategy/2008/06/17/sun-boosts-revenue-with-free-software-strategy-39435424/">map</a> of open source downloads, each representing &#8216;a potential customer that cost Sun nothing to acquire&#8217;, explains how Sun was less interested in driving direct revenue from MySQL (and other open source software) as it was in helping open source users to become customers for Sun&#8217;s commodity hardware and other products and services. (Although as Henrik notes in the comments, Sun did also increase MySQL direct revenue as well).</p>
<p><a href="http://blogs.the451group.com/opensource/files/mysql-oracle.png"><img src="http://blogs.the451group.com/opensource/files/mysql-oracle.png" alt="" title="mysql-oracle" width="340" height="214" class="alignleft size-full wp-image-5590" /></a></p>
<p>Sun never got the chance to prove whether this model would have worked (I&#8217;m being polite), but in any case contrast Sun&#8217;s approach with Oracle&#8217;s strategy for open source. While the majority of Oracle&#8217;s revenue clearly comes from other products, it is not looking to drive revenue for those products via open source downloads. Witness Larry Ellison&#8217;s recent <a href="http://www.zdnet.com/blog/btl/oracles-ellison-i-dont-care-if-commodity-x86-business-goes-to-zero/58509">proclamation</a> that he doesn&#8217;t care if Oracle x86 server business (typically used to run MySQL) goes to zero. Instead (for better or worse) the company is focused on driving revenue directly from each individual product, whether that is a high margin server, or closed or open source software. That has resulted in an increased investment in embedded opportunities for MySQL, as well as traditional software license agreements. While customers might choose to use MySQL Community and purchase additional support subscriptions, as of November 2010 Oracle prefers that Standard Edition and Enterprise Edition customers enter into a commercial license agreement with the company. That was a strategy that was in place in advance of last week&#8217;s <a href="http://blogs.oracle.com/MySQL/entry/new_commercial_extensions_for_mysql">addition</a> of high availability, scalability and security features, but one that clearly looks set to continue.</p>
<p>Whether this is a good or a bad thing depends on your perspective. Monty Widenius does a good job of <a href="http://monty-says.blogspot.com/2011/09/oracle-adding-close-source-extensions.html">outlining</a> the down sides to an open core licensing strategy, while Giuseppe Maxia <a href="http://datacharmer.blogspot.com/2011/09/welcome-mysql-commercial-extensions.html">focuses</a> on the positives. Certainly Oracle will have to be mindful to balance the control and community aspects, but as we have previously <a href="http://www.the451group.com/report_view/report_view.php?entity_id=68985">covered</a> (451 Group clients) there are a number of new capabilities in development for the core MySQL database itself. It is also worth noting, incidentally, that MySQL Enterprise Edition remains priced at $5,000 per server per year.</p>
<img src="http://feeds.feedburner.com/~r/451opensource/~4/ZFnL010iYqw" height="1" width="1" /><br/>PlanetMySQL Voting:
	 <a href="http://planet.mysql.com/entry/vote/?entry_id=30096&vote=1&apivote=1">Vote UP</a> /
	 <a href="http://planet.mysql.com/entry/vote/?entry_id=30096&vote=-1&apivote=1">Vote DOWN</a>";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}s:32:"http://purl.org/dc/elements/1.1/";a:1:{s:7:"creator";a:1:{i:0;a:5:{s:4:"data";s:13:"The 451 Group";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}}}i:45;a:6:{s:4:"data";s:58:"
    
    
    
    
    
    
    
    
    
    
    
  ";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";s:5:"child";a:3:{s:0:"";a:6:{s:5:"title";a:1:{i:0;a:5:{s:4:"data";s:57:"MySQL for Database Administrators course - newly updated!";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:4:"guid";a:1:{i:0;a:5:{s:4:"data";s:76:"http://blogs.oracle.com/MySQL/entry/mysql_for_database_administrators_course";s:7:"attribs";a:1:{s:0:"";a:1:{s:11:"isPermaLink";s:5:"false";}}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:4:"link";a:1:{i:0;a:5:{s:4:"data";s:76:"http://blogs.oracle.com/MySQL/entry/mysql_for_database_administrators_course";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:11:"description";a:1:{i:0;a:5:{s:4:"data";s:570:"The very popular MySQL for Database Administrators course has been updated to bring you more on InnoDB, MySQL's default storage engine, more on MySQL tools and even better hands-on exercises.&nbsp;This course&nbsp;is the cornerstone curriculum for MySQL Database Administrators and brings you all the skills you need to be a great MySQL DBA. 
  In this course students learn how to secure users privileges, set resource limitations, access controls and describe backup and recovery basics. Students also learn how to create and use stored procedures, triggers and views.";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:7:"pubDate";a:1:{i:0;a:5:{s:4:"data";s:31:"Mon, 26 Sep 2011 13:52:42 +0000";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:8:"category";a:4:{i:0;a:5:{s:4:"data";s:14:"MySQL Training";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}i:1;a:5:{s:4:"data";s:6:"mysql;";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}i:2;a:5:{s:4:"data";s:9:"training;";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}i:3;a:5:{s:4:"data";s:10:"university";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}s:40:"http://purl.org/rss/1.0/modules/content/";a:1:{s:7:"encoded";a:1:{i:0;a:5:{s:4:"data";s:927:"<p>The very popular <a href="http://education.oracle.com/pls/web_prod-plq-dad/db_pages.getCourseDesc?dc=D61762GC20&amp;p_org_id=1001&amp;lang=US">MySQL for Database Administrators course</a> has been updated to bring you more on InnoDB, MySQL's default storage engine, more on MySQL tools and even better hands-on exercises.&nbsp;This course&nbsp;is the cornerstone curriculum for MySQL Database Administrators and brings you all the skills you need to be a great MySQL DBA. </p>
  <p>In this course students learn how to secure users privileges, set resource limitations, access controls and describe backup and recovery basics. Students also learn how to create and use stored procedures, triggers and views.</p><br/>PlanetMySQL Voting:
	 <a href="http://planet.mysql.com/entry/vote/?entry_id=30094&vote=1&apivote=1">Vote UP</a> /
	 <a href="http://planet.mysql.com/entry/vote/?entry_id=30094&vote=-1&apivote=1">Vote DOWN</a>";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}s:32:"http://purl.org/dc/elements/1.1/";a:1:{s:7:"creator";a:1:{i:0;a:5:{s:4:"data";s:15:"MySQL Community";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}}}i:46;a:6:{s:4:"data";s:73:"
    
    
    
    
    
    
    
    
    
    
    
    
    
    
  ";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";s:5:"child";a:3:{s:0:"";a:6:{s:5:"title";a:1:{i:0;a:5:{s:4:"data";s:36:"Direct MySQL Stream Access - Revised";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:4:"guid";a:1:{i:0;a:5:{s:4:"data";s:48:"http://schlueters.de/blog/archives/160-guid.html";s:7:"attribs";a:1:{s:0:"";a:1:{s:11:"isPermaLink";s:5:"false";}}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:4:"link";a:1:{i:0;a:5:{s:4:"data";s:78:"http://schlueters.de/blog/archives/160-Direct-MySQL-Stream-Access-Revised.html";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:11:"description";a:1:{i:0;a:5:{s:4:"data";s:2279:"Roughly three years ago I was writing about Direct MySQL Stream Access - a way to access the low-level stream PHP's mysqlnd library is using. Back then this had been a patch against PHP's mysqli extension. As such a feature is quite dangerous (you can easily mess with the connection state which confuses mysqlnd and/or the MySQL server) we didn't push it into the main PHP tree. Now three years later it's time to look at this again as we don't need to patch PHP anymore. 
Since the mentioned patch was written mysqlnd got a plugin interface about which I was talking before. This plugin-interface, especially in the version of PHP 5.4, makes it trivial to implement this feature. 
 
PHP_FUNCTION(mysqlnd_to_stream)
{
&#160;&#160;&#160; zval *conn_zv;
&#160;&#160;&#160; MYSQLND *conn;

&#160;&#160;&#160; if (zend_parse_parameters(ZEND_NUM_ARGS() TSRMLS_CC, "z", &amp;conn_zv) == FAILURE) {
&#160;&#160;&#160;&#160;&#160;&#160;&#160; return;
&#160;&#160;&#160; }

&#160;&#160;&#160; if (!(conn = zval_to_mysqlnd(conn_zv))) {
&#160;&#160;&#160;&#160;&#160;&#160;&#160; php_error_docref(NULL TSRMLS_CC, E_WARNING,
&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; "Passed variable is no mysqlnd based connection");
&#160;&#160;&#160;&#160;&#160;&#160;&#160; RETURN_FALSE;
&#160;&#160;&#160; }

&#160;&#160;&#160; php_stream_to_zval(conn-&gt;net-&gt;stream, return_value);
}
&#160; 
 
If you take a function like the one shown above and add some general PHP infrastructure you are done. The key function here is the function MYSQLND* zval_to_mysqlnd(zval *connection) which takes a PHP variable as parameter and in case it is a MySQL connection (ext/mysql, mysqli or pdo_mysql) will return the corresponding MYSQLND pointer which gives access to the stream which then has to be packed into a PHP variable, again. The nice thing, compared to the old version is not only that it is a plugin which can be loaded into PHP as shared extension via php.ini but also that it works with all MySQL extensions, not only mysqli as the one before. 
You can download the complete source, but be warned: This is experimental stuff and not supported in any way, but I hope good enough to get a feeling what's possible with mysqlnd.";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:7:"pubDate";a:1:{i:0;a:5:{s:4:"data";s:31:"Mon, 26 Sep 2011 10:56:24 +0000";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:8:"category";a:7:{i:0;a:5:{s:4:"data";s:5:"MySQL";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}i:1;a:5:{s:4:"data";s:3:"PHP";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}i:2;a:5:{s:4:"data";s:6:"coding";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}i:3;a:5:{s:4:"data";s:7:"mysqlnd";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}i:4;a:5:{s:4:"data";s:15:"mysqlnd plugins";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}i:5;a:5:{s:4:"data";s:3:"php";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}i:6;a:5:{s:4:"data";s:14:"php extensions";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}s:40:"http://purl.org/rss/1.0/modules/content/";a:1:{s:7:"encoded";a:1:{i:0;a:5:{s:4:"data";s:2801:"<p>Roughly three years ago I was writing about <a href="http://schlueters.de/blog/archives/86-Direct-MySQL-Stream-Access.html">Direct MySQL Stream Access</a> - a way to access the low-level stream PHP's mysqlnd library is using. Back then this had been a patch against PHP's mysqli extension. As such a feature is quite dangerous (you can easily mess with the connection state which confuses mysqlnd and/or the MySQL server) we didn't push it into the main PHP tree. Now three years later it's time to look at this again as we don't need to patch PHP anymore.</p> 
<p>Since the mentioned patch was written mysqlnd got a plugin interface about which <a href="http://schlueters.de/blog/plugin/tag/mysqlnd+plugins">I was talking before</a>. This plugin-interface, especially in the version of PHP 5.4, makes it trivial to implement this feature.</p> 
<blockquote> 
<pre>PHP_FUNCTION(mysqlnd_to_stream)
{
&#160;&#160;&#160; zval *conn_zv;
&#160;&#160;&#160; MYSQLND *conn;

&#160;&#160;&#160; if (zend_parse_parameters(ZEND_NUM_ARGS() TSRMLS_CC, "z", &amp;conn_zv) == FAILURE) {
&#160;&#160;&#160;&#160;&#160;&#160;&#160; return;
&#160;&#160;&#160; }

&#160;&#160;&#160; if (!(conn = zval_to_mysqlnd(conn_zv))) {
&#160;&#160;&#160;&#160;&#160;&#160;&#160; php_error_docref(NULL TSRMLS_CC, E_WARNING,
&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; "Passed variable is no mysqlnd based connection");
&#160;&#160;&#160;&#160;&#160;&#160;&#160; RETURN_FALSE;
&#160;&#160;&#160; }

&#160;&#160;&#160; php_stream_to_zval(conn-&gt;net-&gt;stream, return_value);
}
&#160;</pre> 
</blockquote> 
<p>If you take a function like the one shown above and add some general PHP infrastructure you are done. The key function here is the function <em>MYSQLND* zval_to_mysqlnd(zval *connection)</em> which takes a PHP variable as parameter and in case it is a MySQL connection (ext/mysql, mysqli or pdo_mysql) will return the corresponding MYSQLND pointer which gives access to the stream which then has to be packed into a PHP variable, again. The nice thing, compared to the old version is not only that it is a plugin which can be loaded into PHP as shared extension via php.ini but also that it works with all MySQL extensions, not only mysqli as the one before.</p> 
<p>You can <a href="http://schlueters.de/blog/uploads/code/mysqlnd_to_stream.tar.bz2">download the complete source</a>, but be warned: This is experimental stuff and not supported in any way, but I hope good enough to get a feeling what's possible with mysqlnd.<br /></p><br/>PlanetMySQL Voting:
	 <a href="http://planet.mysql.com/entry/vote/?entry_id=30093&vote=1&apivote=1">Vote UP</a> /
	 <a href="http://planet.mysql.com/entry/vote/?entry_id=30093&vote=-1&apivote=1">Vote DOWN</a>";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}s:32:"http://purl.org/dc/elements/1.1/";a:1:{s:7:"creator";a:1:{i:0;a:5:{s:4:"data";s:22:"Johannes Schl&uuml;ter";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}}}i:47;a:6:{s:4:"data";s:58:"
    
    
    
    
    
    
    
    
    
    
    
  ";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";s:5:"child";a:3:{s:0:"";a:6:{s:5:"title";a:1:{i:0;a:5:{s:4:"data";s:24:"MySQL 101 - Transactions";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:4:"guid";a:1:{i:0;a:5:{s:4:"data";s:36:"766@http://blogs.sakienvirotech.com/";s:7:"attribs";a:1:{s:0:"";a:1:{s:11:"isPermaLink";s:5:"false";}}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:4:"link";a:1:{i:0;a:5:{s:4:"data";s:82:"http://blogs.sakienvirotech.com/index.php/random/2011/09/26/mysql-101-transactions";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:11:"description";a:1:{i:0;a:5:{s:4:"data";s:9548:"We've now come a long way since our first steps at creating our online bookshop database. Now we need to start to think about how to sell the books and store details about the sales.? This is the time we need to start understanding database transactions.
Database transactions are very similar to real world transactions. They define a set of steps required to happen together in order for a transaction to be complete.? A real-world example might be that you buy a trinket from a store.? You find the trinket, then take it to the counter, find out the price, hand over the cash and receive your trinket.? That is a completed transaction.? Should you not have the available cash, the transaction would not be able to be completed and you would need to return the item, effectively rolling back that transaction.? It is not a great deal different in the database, except that the transaction can be controlled to a greater degree.
Before going too far, we need to build a few more tables for our database to enable us to sell our books.? To make life easier I've created these tables in this downloadable file.? You can use your favourite MySQL client to create the database for the purposes of following this episode.? The tables I've created are customer, purchase_order and order_item.? We'll see how they work in handling a typical transaction - we can use SHOW CREATE TABLE to see how they are defined:
SHOW CREATE TABLE `customer`\G*************************** 1. row ***************************       Table: customerCreate Table: CREATE TABLE `customer` (  `id` int(11) NOT NULL AUTO_INCREMENT,  `name` varchar(255) CHARACTER SET latin1 NOT NULL,  `address1` varchar(80) CHARACTER SET latin1 NOT NULL,  `address2` varchar(80) CHARACTER SET latin1 DEFAULT NULL,  `postcode` varchar(8) CHARACTER SET latin1 DEFAULT NULL,  `city` varchar(80) CHARACTER SET latin1 DEFAULT NULL,  `country` varchar(80) CHARACTER SET latin1 DEFAULT NULL,  `state` varchar(20) CHARACTER SET latin1 DEFAULT NULL,  PRIMARY KEY (`id`)) ENGINE=InnoDB AUTO_INCREMENT=2 DEFAULT CHARSET=utf81 row in set (0.00 sec)SHOW CREATE TABLE `purchase_order`\G*************************** 1. row ***************************       Table: purchase_orderCreate Table: CREATE TABLE `purchase_order` (  `id` int(11) NOT NULL AUTO_INCREMENT,  `customer` int(11) NOT NULL DEFAULT '0',  `order_date` datetime NOT NULL,  `ship_date` datetime DEFAULT NULL,  `order_total` decimal(9,2) DEFAULT NULL,  PRIMARY KEY (`id`),  KEY `fk_order_customer` (`customer`),  CONSTRAINT `fk_order_customer` FOREIGN KEY (`customer`) REFERENCES `customer` (`id`) ON UPDATE CASCADE) ENGINE=InnoDB AUTO_INCREMENT=2 DEFAULT CHARSET=utf81 row in set (0.00 sec)SHOW CREATE TABLE `order_item`\G*************************** 1. row ***************************       Table: order_itemCreate Table: CREATE TABLE `order_item` (  `id` int(11) NOT NULL AUTO_INCREMENT,  `purchase_order` int(11) NOT NULL,  `book` int(11) NOT NULL,  `quantity` int(11) NOT NULL DEFAULT '0',  `price` decimal(5,2) DEFAULT NULL,  PRIMARY KEY (`id`),  KEY `fk_item_order` (`purchase_order`),  KEY `fk_item_book` (`book`),  CONSTRAINT `fk_item_order` FOREIGN KEY (`purchase_order`) REFERENCES `purchase_order` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,  CONSTRAINT `fk_item_book` FOREIGN KEY (`book`) REFERENCES `book` (`id`) ON UPDATE CASCADE) ENGINE=InnoDB DEFAULT CHARSET=utf81 row in set (0.00 sec)
You'll notice a few things that may not immediately make sense.? In most cases you don't want duplicate data in different tables.? This is why we break out things like publisher from book, for instance.? However in purchase_order we have an order_total value that could be derived from the order_item records, and similarly we have a price field in order_item that is the same as the price field in book.? There is a lot of sense in doing this however.? Because we are dealing with financial transactions we must ensure they can stand alone.? So we need to ensure that the price of the book is not whatever the current price is, but the price it was at the? time it was sold.? This is why we have the price field in two places as they are not exactly the same.? The order_total field is a summary data field.? It means that we don't necessarily have to have a complicated multi-table join if we want to find how much a customer has bought.? Summary data fields are often used to speed up common queries by simplifying them.
One other field I've added is the stock_on_hand value in the book table.? This will allow us to set a count of books available for sale and decrement them when we sell something.
If we are to sell a book to a customer, we can create the customer record at any time because it won't matter if they don't buy straight away, so customer is not tied directly to a sale, so we can keep it out of our transaction.? When they purchase a book, however, we need to do a number of steps that have to be kept together.?? If we don't we could end up with inconsistent data.
Lets go with an example.? I'll create a new customer and set a stock_on_hand value for Peter Temple's The Broken Shore:
INSERT INTO `customer` SET `name` = 'Adam Donnison',?`address1` = '41 Bendigo Street',?`city` = 'Collingwood',?`state` = 'VIC', `postcode` = '3066', `country` = 'Australia';Query OK, 1 row affected (0.00 sec)UPDATE `book` SET `stock_on_hand` = 5 WHERE `id` = 1;Query OK, 1 row affected (0.00 sec)Rows matched: 1  Changed: 1  Warnings: 0
It is important to realise at this point that every single INSERT, UPDATE or other data manipulation statement that we have performed so far has been a transaction in its own right.? This implicit transaction is as a result of the default value of the MySQL server variable 'autocommit', which is normally turned on.? If this is turned off we need to explictly make all queries part of a transaction.? More confusingly if you issue a statement that changes data, a transaction will be automatically started, but you need to commit the transaction for it to be permanently recorded in the database.? But let us look at the anatomy of a simple transaction.
In this example we need to ensure the following happen at effectively the same time:

Decrement the stock on hand value of the book sold by the quantity sold
Create a purchase order entry
Create an entry for each book in the order_item table
Ensure the purchase order total is the total of the items in the order

INSERT INTO `purchase_order` SET `customer` = 1, `order_date` = NOW();Query OK, 1 row affected (0.00 sec)SET @po_number = LAST_INSERT_ID();Query OK, 0 rows affected (0.00 sec)INSERT INTO `order_item` SET `purchase_order` = @po_number,?`book` = 1,?`price` = (SELECT `price` FROM `book` WHERE `id` = 1),?`quantity` = 1;Query OK, 1 row affected (0.00 sec)UPDATE `purchase_order` SET `order_total` =?( SELECT SUM(`price` * `quantity`) FROM `order_item` WHERE `purchase_order` = @po_number )?WHERE `id` = @po_number;Query OK, 1 row affected (0.00 sec)Rows matched: 1  Changed: 1UPDATE `book` SET `stock_on_hand` = `stock_on_hand` - 1 WHERE `id` = 1;Query OK, 1 row affected (0.00 sec)Rows matched: 1  Changed: 1  Warnings: 0COMMIT;Query OK, 0 rows affected (0.00 sec)
There are a few constructs here that are potentially confusing, so we need to go through each one and make sure everything is clear.
First, the SET @po_number = LAST_INSERT_ID() uses a MySQL function to find the ID of the record that we just inserted (the id field for the purchase_order record) and assigns it to a variable, @po_number, that we can use in subsequent queries. The reason we need to do this is to ensure we get an order_item record correctly associated with our newly created purchase order.
We've also used sub-selects. These are stand-alone select queries that are used to provide values for other queries.? In the first case it is a simple select to get the price field from the book table and insert it as the selling price for the order_item.? The second one uses an aggregation function, SUM(`price` * `quantity`) to find all of our order_item records (in this case, one) and determine what the purchase order total is.? You are more likely to be doing this from an application so you probably wouldn't do a sum up.? Alternatively you could use a separate variable that you updated as you added order_item records.? Regardless, what we have done is a set of queries that together make up a transaction.
If at any point in the transaction we decided that we had an error and we couldn't continue (perhaps we found the customer record was incorrect, or the application received an error) we can use ROLLBACK to abort the transaction and wind the database back to the point it was before we issued the START TRANSACTION.? By default if we were to drop the connection to the database (by closing the connection or a terminal failure in our application) or if the database server failed, any pending transaction, that is one that was STARTed but never COMMITted, would be rolled back.
Disclaimer
I am employed by SkySQL Ab, which provides support, training and services for  MySQL, MariaDB and Drizzle and is staffed by many ex-MySQL AB       employees.  While I try to be unbiased in all of my public opinions,  and      my  opinions are all my own and not those of my employer, I  work  for     SkySQL  because I believe in what they are doing and  therefore   cannot  be   truly  unbiased.
MySQL is a registered trademark of Oracle Corporation,? MariaDB is a trademark of MontyProgram, and Drizzle is a trademark.Original post blogged on b2evolution.";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:7:"pubDate";a:1:{i:0;a:5:{s:4:"data";s:31:"Mon, 26 Sep 2011 09:16:24 +0000";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:8:"category";a:4:{i:0;a:5:{s:4:"data";s:11:"Open Source";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}i:1;a:5:{s:4:"data";s:11:" Open World";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}i:2;a:5:{s:4:"data";s:5:"MySQL";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}i:3;a:5:{s:4:"data";s:9:"MySQL 101";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}s:40:"http://purl.org/rss/1.0/modules/content/";a:1:{s:7:"encoded";a:1:{i:0;a:5:{s:4:"data";s:11040:"<p>We've now come a long way since <a href="http://blogs.sakienvirotech.com/index.php/random/2011/09/05/mysql-101-creating-your-first">our first steps</a> at creating our online bookshop database. Now we need to start to think about how to sell the books and store details about the sales.? This is the time we need to start understanding database transactions.</p>
<p>Database transactions are very similar to real world transactions. They define a set of steps required to happen together in order for a transaction to be complete.? A real-world example might be that you buy a trinket from a store.? You find the trinket, then take it to the counter, find out the price, hand over the cash and receive your trinket.? That is a completed transaction.? Should you not have the available cash, the transaction would not be able to be completed and you would need to return the item, effectively rolling back that transaction.? It is not a great deal different in the database, except that the transaction can be controlled to a greater degree.</p>
<p>Before going too far, we need to build a few more tables for our database to enable us to sell our books.? To make life easier I've created these tables in <a href="http://blogs.sakienvirotech.com/media/blogs/random/mysql101_bookshop_20110926.zip?mtime=1317027350">this downloadable file</a>.? You can use your favourite MySQL client to create the database for the purposes of following this episode.? The tables I've created are customer, purchase_order and order_item.? We'll see how they work in handling a typical transaction - we can use SHOW CREATE TABLE to see how they are defined:</p>
<pre>SHOW CREATE TABLE `customer`\G<br />*************************** 1. row ***************************<br />       Table: customer<br />Create Table: CREATE TABLE `customer` (<br />  `id` int(11) NOT NULL AUTO_INCREMENT,<br />  `name` varchar(255) CHARACTER SET latin1 NOT NULL,<br />  `address1` varchar(80) CHARACTER SET latin1 NOT NULL,<br />  `address2` varchar(80) CHARACTER SET latin1 DEFAULT NULL,<br />  `postcode` varchar(8) CHARACTER SET latin1 DEFAULT NULL,<br />  `city` varchar(80) CHARACTER SET latin1 DEFAULT NULL,<br />  `country` varchar(80) CHARACTER SET latin1 DEFAULT NULL,<br />  `state` varchar(20) CHARACTER SET latin1 DEFAULT NULL,<br />  PRIMARY KEY (`id`)<br />) ENGINE=InnoDB AUTO_INCREMENT=2 DEFAULT CHARSET=utf8<br />1 row in set (0.00 sec)<br /><br />SHOW CREATE TABLE `purchase_order`\G<br />*************************** 1. row ***************************<br />       Table: purchase_order<br />Create Table: CREATE TABLE `purchase_order` (<br />  `id` int(11) NOT NULL AUTO_INCREMENT,<br />  `customer` int(11) NOT NULL DEFAULT '0',<br />  `order_date` datetime NOT NULL,<br />  `ship_date` datetime DEFAULT NULL,<br />  `order_total` decimal(9,2) DEFAULT NULL,<br />  PRIMARY KEY (`id`),<br />  KEY `fk_order_customer` (`customer`),<br />  CONSTRAINT `fk_order_customer` FOREIGN KEY (`customer`) REFERENCES `customer` (`id`) ON UPDATE CASCADE<br />) ENGINE=InnoDB AUTO_INCREMENT=2 DEFAULT CHARSET=utf8<br />1 row in set (0.00 sec)<br /><br />SHOW CREATE TABLE `order_item`\G<br />*************************** 1. row ***************************<br />       Table: order_item<br />Create Table: CREATE TABLE `order_item` (<br />  `id` int(11) NOT NULL AUTO_INCREMENT,<br />  `purchase_order` int(11) NOT NULL,<br />  `book` int(11) NOT NULL,<br />  `quantity` int(11) NOT NULL DEFAULT '0',<br />  `price` decimal(5,2) DEFAULT NULL,<br />  PRIMARY KEY (`id`),<br />  KEY `fk_item_order` (`purchase_order`),<br />  KEY `fk_item_book` (`book`),<br />  CONSTRAINT `fk_item_order` FOREIGN KEY (`purchase_order`) REFERENCES `purchase_order` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,<br />  CONSTRAINT `fk_item_book` FOREIGN KEY (`book`) REFERENCES `book` (`id`) ON UPDATE CASCADE<br />) ENGINE=InnoDB DEFAULT CHARSET=utf8<br />1 row in set (0.00 sec)<br /></pre>
<p>You'll notice a few things that may not immediately make sense.? In most cases you don't want duplicate data in different tables.? This is why we break out things like publisher from book, for instance.? However in purchase_order we have an order_total value that could be derived from the order_item records, and similarly we have a price field in order_item that is the same as the price field in book.? There is a lot of sense in doing this however.? Because we are dealing with financial transactions we must ensure they can stand alone.? So we need to ensure that the price of the book is not whatever the current price is, but the price it was at the? time it was sold.? This is why we have the price field in two places as they are not exactly the same.? The order_total field is a summary data field.? It means that we don't necessarily have to have a complicated multi-table join if we want to find how much a customer has bought.? Summary data fields are often used to speed up common queries by simplifying them.</p>
<p>One other field I've added is the stock_on_hand value in the book table.? This will allow us to set a count of books available for sale and decrement them when we sell something.</p>
<p>If we are to sell a book to a customer, we can create the customer record at any time because it won't matter if they don't buy straight away, so customer is not tied directly to a sale, so we can keep it out of our transaction.? When they purchase a book, however, we need to do a number of steps that have to be kept together.?? If we don't we could end up with inconsistent data.</p>
<p>Lets go with an example.? I'll create a new customer and set a stock_on_hand value for Peter Temple's The Broken Shore:</p>
<pre>INSERT INTO `customer` SET `name` = 'Adam Donnison',<br />?`address1` = '41 Bendigo Street',<br />?`city` = 'Collingwood',<br />?`state` = 'VIC', `postcode` = '3066', `country` = 'Australia';<br />Query OK, 1 row affected (0.00 sec)<br /><br />UPDATE `book` SET `stock_on_hand` = 5 WHERE `id` = 1;<br />Query OK, 1 row affected (0.00 sec)<br />Rows matched: 1  Changed: 1  Warnings: 0<br /></pre>
<p>It is important to realise at this point that every single INSERT, UPDATE or other data manipulation statement that we have performed so far has been a transaction in its own right.? This implicit transaction is as a result of the default value of the MySQL server variable 'autocommit', which is normally turned on.? If this is turned off we need to explictly make all queries part of a transaction.? More confusingly if you issue a statement that changes data, a transaction will be automatically started, but you need to commit the transaction for it to be permanently recorded in the database.? But let us look at the anatomy of a simple transaction.</p>
<p>In this example we need to ensure the following happen at effectively the same time:</p>
<ul>
<li>Decrement the stock on hand value of the book sold by the quantity sold</li>
<li>Create a purchase order entry</li>
<li>Create an entry for each book in the order_item table</li>
<li>Ensure the purchase order total is the total of the items in the order</li>
</ul>
<pre>INSERT INTO `purchase_order` SET `customer` = 1, `order_date` = NOW();<br />Query OK, 1 row affected (0.00 sec)<br /><br />SET @po_number = LAST_INSERT_ID();<br />Query OK, 0 rows affected (0.00 sec)<br /><br />INSERT INTO `order_item` SET `purchase_order` = @po_number,<br />?`book` = 1,<br />?`price` = (SELECT `price` FROM `book` WHERE `id` = 1),<br />?`quantity` = 1;<br />Query OK, 1 row affected (0.00 sec)<br /><br />UPDATE `purchase_order` SET `order_total` =<br />?( SELECT SUM(`price` * `quantity`) FROM `order_item` WHERE `purchase_order` = @po_number )<br />?WHERE `id` = @po_number;<br />Query OK, 1 row affected (0.00 sec)<br />Rows matched: 1  Changed: 1<br /><br />UPDATE `book` SET `stock_on_hand` = `stock_on_hand` - 1 WHERE `id` = 1;<br />Query OK, 1 row affected (0.00 sec)<br />Rows matched: 1  Changed: 1  Warnings: 0<br /><br />COMMIT;<br />Query OK, 0 rows affected (0.00 sec)<br /><br /></pre>
<p>There are a few constructs here that are potentially confusing, so we need to go through each one and make sure everything is clear.</p>
<p>First, the <em>SET @po_number = LAST_INSERT_ID()</em> uses a MySQL function to find the ID of the record that we just inserted (the id field for the purchase_order record) and assigns it to a variable, @po_number, that we can use in subsequent queries. The reason we need to do this is to ensure we get an order_item record correctly associated with our newly created purchase order.</p>
<p>We've also used sub-selects. These are stand-alone select queries that are used to provide values for other queries.? In the first case it is a simple select to get the price field from the book table and insert it as the selling price for the order_item.? The second one uses an aggregation function, <em>SUM(`price` * `quantity`)</em> to find all of our order_item records (in this case, one) and determine what the purchase order total is.? You are more likely to be doing this from an application so you probably wouldn't do a sum up.? Alternatively you could use a separate variable that you updated as you added order_item records.? Regardless, what we have done is a set of queries that together make up a transaction.</p>
<p>If at any point in the transaction we decided that we had an error and we couldn't continue (perhaps we found the customer record was incorrect, or the application received an error) we can use ROLLBACK to abort the transaction and wind the database back to the point it was before we issued the START TRANSACTION.? By default if we were to drop the connection to the database (by closing the connection or a terminal failure in our application) or if the database server failed, any pending transaction, that is one that was STARTed but never COMMITted, would be rolled back.</p>
<h3>Disclaimer</h3>
<p>I am employed by <a href="http://www.skysql.com/">SkySQL Ab</a>, which provides <a href="http://www.skysql.com/services/support">support</a>, <a href="http://www.skysql.com/services/training">training</a> and <a href="http://www.skysql.com/services/overview">services</a> for  MySQL, MariaDB and Drizzle and is staffed by many ex-MySQL AB       employees.  While I try to be unbiased in all of my public opinions,  and      my  opinions are all my own and not those of my employer, I  work  for     SkySQL  because I believe in what they are doing and  therefore   cannot  be   truly  unbiased.</p>
<p>MySQL is a registered trademark of Oracle Corporation,? MariaDB is a trademark of MontyProgram, and Drizzle is a trademark.</p><div><p><small><a href="http://blogs.sakienvirotech.com/index.php/random/2011/09/26/mysql-101-transactions">Original post</a> blogged on <a href="http://b2evolution.net/">b2evolution</a>.</small></p></div><br/>PlanetMySQL Voting:
	 <a href="http://planet.mysql.com/entry/vote/?entry_id=30092&vote=1&apivote=1">Vote UP</a> /
	 <a href="http://planet.mysql.com/entry/vote/?entry_id=30092&vote=-1&apivote=1">Vote DOWN</a>";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}s:32:"http://purl.org/dc/elements/1.1/";a:1:{s:7:"creator";a:1:{i:0;a:5:{s:4:"data";s:13:"Adam Donnison";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}}}i:48;a:6:{s:4:"data";s:53:"
    
    
    
    
    
    
    
    
    
    
  ";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";s:5:"child";a:3:{s:0:"";a:6:{s:5:"title";a:1:{i:0;a:5:{s:4:"data";s:25:"Python Interface to MySQL";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:4:"guid";a:1:{i:0;a:5:{s:4:"data";s:59:"tag:blogger.com,1999:blog-23496029.post-1297703426721517909";s:7:"attribs";a:1:{s:0:"";a:1:{s:11:"isPermaLink";s:5:"false";}}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:4:"link";a:1:{i:0;a:5:{s:4:"data";s:71:"http://mysqlmusings.blogspot.com/2011/09/python-interface-to-mysql.html";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:11:"description";a:1:{i:0;a:5:{s:4:"data";s:5880:"There has been a lot of discussions lately about various non-SQL languages that provide access to databases without having to resort to using SQL.  I wondered how difficult it would be to implement such an interface, so as an experiment, I implemented a simple interface in Python that similar to the document-oriented interfaces available elsewhere. The interface generate SQL queries to query the database, but does not require any knowlegdge of SQL to use. The syntax is inspired by JQuery, but since JQuery works with documents, the semantics is slightly different.

A simple example would look like this:


from native_db import *
server = Server(host='127.0.0.1')
server.test.t1.insert({'more': 3, 'magic': 'just a test', 'count': 0})
server.test.t1.insert({'more': 3, 'magic': 'just another test', 'count': 0})
server.test.t1.insert({'more': 4, 'magic': 'quadrant', 'count': 0})
server.test.t1.insert({'more': 5, 'magic': 'even more magic', 'count': 0})
for row in server.test.t1.find({'more': 3}):
  print "The magic is:", row['magic']
server.test.t1.update({'more': 3}, {'count': 'count+1'})
for row in server.test.t1.find({'more': 3}, ['magic', 'count']):
  print "The magic is:", row['magic'], "and the count is", row['count']
server.test.t1.delete({'more': 5})


The first line define a server to communicate with, which is simply done by creating a Server object with the necessary parameters. The constructor accepts the normal parameters for Connector/Python (which is what I'm using internally), but the user defaults to whatever getpass.getuser() returns, and the host default to 127.0.0.1, even though I've provided it here.

After that, the necessary methods are overridden so that server.database.table will refer to the table with name table in database with name database on the given server. One possibility would be to just skip the database and go directly on the table (using some default database name), but since this is just an experiment, I did this instead. After that, there are various methods defined to support searching, inserting, deleting, and updating.

Since this is intended to be a simple interface, autocommit is on. Each of the functions generate a single SQL statement, so they will be executed atomically if you're using InnoDB.


  table.insert(row)
  This function will insert the contents of the dictionary into the table. using the keys of the dictionary as column names. If the table does not exist, it will be created with a "best effort" guess of what types to use for the columns.
  table.delete(condition)
  This function will remove all rows in the table that matches the supplied dictionary. Currently, only equality mapping is supported, but see below for how it could be extended.
  table.find(condition, fields="*")
  This will search the table and return an iterable to the rows that match condition. If fields is supplied (as a list of field names), only those fields are returned.
  table.update(condition, update)
  This will search for rows matching condition and update each matching row according to the update dictionary. The values of the dictionary is used on the right side of the assignments of the UPDATE statement, so expressions can be given here as strings.


That's all folks!

The code is available at http://mats.kindahl.net/python/native_db.py if you're interested in trying it out. The code is very basic, and there's potential for a lot of extensions. If there's interest, I could probably create a repository somewhere.

Note that this is not a replacement for an ORM library. The intention is not to allow storing arbitrary objects in the database: the intention is to be able to query the database using a Python interface without resorting to using SQL.

I'm just playing around and testing some things out, and I'm not really sure if there is any interest in anything like this, so what do you think? Personally, I have no problems with using SQL, but since I'm working with MySQL on a daily basis, I'm strongly biased on the subject. For simple jobs, this is probably easier to work with than a "real" SQL interface, but it cannot handle as complex queries as SQL can (at least not without extensions).

There is a number of open issues for the implementation (this is just a small list of obvious ones):


  Only equality searching supported
  Searching can only be done with equality matches, but it is trivial to extend to support more complex comparisons. To allow more complex conditions, the condition supplied to find, delete, and update can actually be a string, in which case it is used "raw".
  Conditions could be extended to support something like {'more': '>3'}, or a more object-oriented approach would be to support something similar to {'more': operator.gt(3)}.
  No support for indexes
  There's no support for indexes yet, but that can easily be added. The complication is what kind of indexes should be generated.
    For example, right now rows are identified by their content, but if we want unique rows to be handled as a set? Imagine the following (not supported) query where we insert :
    server.test.t1.insert(content with some more=3).find({'more': eq(3)})
    In this case, we have to fetch the row identifiers for the inserted rows to be able to manipulate exactly those rows and none other. Not sure how to do this right now, but auto-inventing a row-identifier would mean that tables lacking it cannot be handled naturally.
  Creating and dropping tables
  The support for creation of tables is to create tables automatically if they do not exist. A simple heuristic is used to figure out the table definition, but this has obvious flaws if later inserts have more fields than the first one.
    To support extending the table, one would have to generate an ALTER TABLE statement to "fix" the table.
  There is no support for dropping tables... or databases.

";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:7:"pubDate";a:1:{i:0;a:5:{s:4:"data";s:31:"Mon, 26 Sep 2011 08:27:24 +0000";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:8:"category";a:3:{i:0;a:5:{s:4:"data";s:5:"mysql";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}i:1;a:5:{s:4:"data";s:3:"API";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}i:2;a:5:{s:4:"data";s:6:"python";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}s:40:"http://purl.org/rss/1.0/modules/content/";a:1:{s:7:"encoded";a:1:{i:0;a:5:{s:4:"data";s:6888:"There has been a lot of discussions lately about various non-SQL languages that provide access to databases without having to resort to using SQL.  I wondered how difficult it would be to implement such an interface, so as an experiment, I implemented a simple interface in Python that similar to the document-oriented interfaces available elsewhere. The interface generate SQL queries to query the database, but does not require any knowlegdge of SQL to use. The syntax is inspired by <a href="http://jquery.org">JQuery</a>, but since JQuery works with documents, the semantics is slightly different.<p>

A simple example would look like this:

<pre>
from native_db import *
server = Server(host='127.0.0.1')
server.test.t1.insert({'more': 3, 'magic': 'just a test', 'count': 0})
server.test.t1.insert({'more': 3, 'magic': 'just another test', 'count': 0})
server.test.t1.insert({'more': 4, 'magic': 'quadrant', 'count': 0})
server.test.t1.insert({'more': 5, 'magic': 'even more magic', 'count': 0})
for row in server.test.t1.find({'more': 3}):
  print "The magic is:", row['magic']
server.test.t1.update({'more': 3}, {'count': 'count+1'})
for row in server.test.t1.find({'more': 3}, ['magic', 'count']):
  print "The magic is:", row['magic'], "and the count is", row['count']
server.test.t1.delete({'more': 5})
</pre>

The first line define a server to communicate with, which is simply done by creating a <code>Server</code> object with the necessary parameters. The constructor accepts the normal parameters for Connector/Python (which is what I'm using internally), but the user defaults to whatever <code>getpass.getuser()</code> returns, and the host default to 127.0.0.1, even though I've provided it here.<p>

After that, the necessary methods are overridden so that <code><em>server</em>.<em>database</em>.<em>table</em></code> will refer to the table with name <em>table</em> in database with name <em>database</em> on the given server. One possibility would be to just skip the database and go directly on the table (using some default database name), but since this is just an experiment, I did this instead. After that, there are various methods defined to support searching, inserting, deleting, and updating.<p>

Since this is intended to be a simple interface, autocommit is on. Each of the functions generate a single SQL statement, so they will be executed atomically if you're using InnoDB.<p>

<dl>
  <dt><em>table</em>.insert(<em>row</em>)
  <dd>This function will insert the contents of the dictionary into the table. using the keys of the dictionary as column names. If the table does not exist, it will be created with a "best effort" guess of what types to use for the columns.
  <dt><em>table</em>.delete(<em>condition</em>)
  <dd>This function will remove all rows in the table that matches the supplied dictionary. Currently, only equality mapping is supported, but see below for how it could be extended.
  <dt><em>table</em>.find(<em>condition</em>, <em>fields</em>="*")
  <dd>This will search the table and return an iterable to the rows that match <em>condition</em>. If <em>fields</em> is supplied (as a list of field names), only those fields are returned.
  <dt><em>table</em>.update(<em>condition</em>, <em>update</em>)
  <dd>This will search for rows matching <em>condition</em> and update each matching row according to the <em>update</em> dictionary. The values of the dictionary is used on the right side of the assignments of the <code>UPDATE</code> statement, so expressions can be given here as strings.
</dl>

<h2>That's all folks!</h2>

The code is available at <a href="http://mats.kindahl.net/python/native_db.py">http://mats.kindahl.net/python/native_db.py</a> if you're interested in trying it out. The code is very basic, and there's potential for a lot of extensions. If there's interest, I could probably create a repository somewhere.<p>

Note that this is not a replacement for an ORM library. The intention is not to allow storing arbitrary objects in the database: the intention is to be able to query the database using a Python interface without resorting to using SQL.<p>

I'm just playing around and testing some things out, and I'm not really sure if there is any interest in anything like this, so what do you think? Personally, I have no problems with using SQL, but since I'm working with MySQL on a daily basis, I'm strongly biased on the subject. For simple jobs, this is probably easier to work with than a "real" SQL interface, but it cannot handle as complex queries as SQL can (at least not without extensions).<p>

There is a number of open issues for the implementation (this is just a small list of obvious ones):

<dl>
  <dt><strong>Only equality searching supported</strong>
  <dd>Searching can only be done with equality matches, but it is trivial to extend to support more complex comparisons. To allow more complex conditions, the condition supplied to <code>find</code>, <code>delete</code>, and <code>update</code> can actually be a string, in which case it is used "raw".<p>
  Conditions could be extended to support something like <code>{'more': '>3'}</code>, or a more object-oriented approach would be to support something similar to <code>{'more': operator.gt(3)}</code>.<p>
  <dt><strong>No support for indexes</strong>
  <dd>There's no support for indexes yet, but that can easily be added. The complication is <em>what</em> kind of indexes should be generated.<p>
    For example, right now rows are identified by their content, but if we want unique rows to be handled as a set? Imagine the following (not supported) query where we insert :
    <blockquote><code>server.test.t1.insert(<em>content with some more=3</em>).find({'more': eq(3)})</code></blockquote>
    In this case, we have to fetch the row identifiers for the inserted rows to be able to manipulate <em>exactly</em> those rows and none other. Not sure how to do this right now, but auto-inventing a row-identifier would mean that tables lacking it cannot be handled naturally.<p>
  <dt><strong>Creating and dropping tables</strong>
  <dd>The support for creation of tables is to create tables automatically if they do not exist. A simple heuristic is used to figure out the table definition, but this has obvious flaws if later inserts have more fields than the first one.<p>
    To support extending the table, one would have to generate an <code>ALTER TABLE</code> statement to "fix" the table.<p>
  There is no support for dropping tables... or databases.
</dl>
<div><img width="1" height="1" src="https://blogger.googleusercontent.com/tracker/23496029-1297703426721517909?l=mysqlmusings.blogspot.com" alt="" /></div><br/>PlanetMySQL Voting:
	 <a href="http://planet.mysql.com/entry/vote/?entry_id=30090&vote=1&apivote=1">Vote UP</a> /
	 <a href="http://planet.mysql.com/entry/vote/?entry_id=30090&vote=-1&apivote=1">Vote DOWN</a>";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}s:32:"http://purl.org/dc/elements/1.1/";a:1:{s:7:"creator";a:1:{i:0;a:5:{s:4:"data";s:12:"Mats Kindahl";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}}}i:49;a:6:{s:4:"data";s:98:"
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
  ";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";s:5:"child";a:3:{s:0:"";a:6:{s:5:"title";a:1:{i:0;a:5:{s:4:"data";s:25:"Green HDs and RAID Arrays";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:4:"guid";a:1:{i:0;a:5:{s:4:"data";s:33:"http://openquery.com/blog/?p=1562";s:7:"attribs";a:1:{s:0:"";a:1:{s:11:"isPermaLink";s:5:"false";}}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:4:"link";a:1:{i:0;a:5:{s:4:"data";s:47:"http://openquery.com/blog/green-hds-raid-arrays";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:11:"description";a:1:{i:0;a:5:{s:4:"data";s:2201:"Some so-called &#8220;Green&#8221; harddisks don&#8217;t like being in a RAID array. These are primarily SATA drives, and they gain their green credentials by being able reduce their RPM when not in use, as well as other aggressive power management trickery. That&#8217;s all cool and in a way desirable &#8211; we want our hardware to use less power whenever possible! &#8211; but the time it takes some drives to &#8220;wake up&#8221; again is longer than a RAID setup is willing to tolerate.
First of all, you may wonder why I bother with SATA disks at all for RAID. I&#8217;ve written about this before, but they simply deliver plenty for much less money. Higher RPM doesn&#8217;t necessarily help you for a db-related (random access) workload, and for tasks like backups which do have a lot of speed may not be a primary concern. SATA disks have a shorter command queue than SAS, so that means they might need to seek more &#8211; however a smart RAID controller would already arrange its I/O in such a way as to optimise that.
The particular application where I tripped over Green disks was a backup array using software RAID10. Yep, a cheap setup &#8211; the objective is to have lots of diskspace with resilience, and access speed is not a requirement.
Not all Green HDs are the same. Western Digital ones allow their settings to be changed, although that does need a DOS tool (just a bit of a pest using a USB stick with FreeDOS and the WD tool, but it&#8217;s doable), whereas Seagate has decided to restrict their Green models such that they don&#8217;t accept any APM commands and can&#8217;t change their configuration.
I&#8217;ve now replaced Seagates with (non-Green) Hitachi drives, and I&#8217;m told that Samsung disks are also ok.
So this is something to keep in mind when looking at SATA RAID arrays. I also think it might be a topic that the Linux software RAID code could address &#8211; if it were &#8220;Green HD aware&#8221; it could a) make sure that they don&#8217;t go to a state that is unacceptable, and b) be tolerant with their response time &#8211; this could be configurable. Obviously, some applications of RAID have higher demands than others, not all are the same.";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:7:"pubDate";a:1:{i:0;a:5:{s:4:"data";s:31:"Mon, 26 Sep 2011 02:37:46 +0000";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:8:"category";a:12:{i:0;a:5:{s:4:"data";s:18:"Software and tools";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}i:1;a:5:{s:4:"data";s:5:"array";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}i:2;a:5:{s:4:"data";s:6:"backup";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}i:3;a:5:{s:4:"data";s:5:"Green";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}i:4;a:5:{s:4:"data";s:8:"harddisk";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}i:5;a:5:{s:4:"data";s:2:"hd";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}i:6;a:5:{s:4:"data";s:3:"HDD";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}i:7;a:5:{s:4:"data";s:7:"mariadb";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}i:8;a:5:{s:4:"data";s:5:"mysql";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}i:9;a:5:{s:4:"data";s:4:"raid";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}i:10;a:5:{s:4:"data";s:3:"SAS";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}i:11;a:5:{s:4:"data";s:4:"SATA";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}s:40:"http://purl.org/rss/1.0/modules/content/";a:1:{s:7:"encoded";a:1:{i:0;a:5:{s:4:"data";s:2456:"<p>Some so-called &#8220;Green&#8221; harddisks don&#8217;t like being in a RAID array. These are primarily SATA drives, and they gain their green credentials by being able reduce their RPM when not in use, as well as other aggressive power management trickery. That&#8217;s all cool and in a way desirable &#8211; we want our hardware to use less power whenever possible! &#8211; but the time it takes some drives to &#8220;wake up&#8221; again is longer than a RAID setup is willing to tolerate.</p>
<p>First of all, you may wonder why I bother with SATA disks at all for RAID. I&#8217;ve written about this before, but they simply deliver plenty for much less money. Higher RPM doesn&#8217;t necessarily help you for a db-related (random access) workload, and for tasks like backups which do have a lot of speed may not be a primary concern. SATA disks have a shorter command queue than SAS, so that means they might need to seek more &#8211; however a smart RAID controller would already arrange its I/O in such a way as to optimise that.</p>
<p>The particular application where I tripped over Green disks was a backup array using software RAID10. Yep, a cheap setup &#8211; the objective is to have lots of diskspace with resilience, and access speed is not a requirement.</p>
<p>Not all Green HDs are the same. Western Digital ones allow their settings to be changed, although that does need a DOS tool (just a bit of a pest using a USB stick with FreeDOS and the WD tool, but it&#8217;s doable), whereas Seagate has decided to restrict their Green models such that they don&#8217;t accept any APM commands and can&#8217;t change their configuration.</p>
<p>I&#8217;ve now replaced Seagates with (non-Green) Hitachi drives, and I&#8217;m told that Samsung disks are also ok.</p>
<p>So this is something to keep in mind when looking at SATA RAID arrays. I also think it might be a topic that the Linux software RAID code could address &#8211; if it were &#8220;Green HD aware&#8221; it could a) make sure that they don&#8217;t go to a state that is unacceptable, and b) be tolerant with their response time &#8211; this could be configurable. Obviously, some applications of RAID have higher demands than others, not all are the same.</p><br/>PlanetMySQL Voting:
	 <a href="http://planet.mysql.com/entry/vote/?entry_id=30089&vote=1&apivote=1">Vote UP</a> /
	 <a href="http://planet.mysql.com/entry/vote/?entry_id=30089&vote=-1&apivote=1">Vote DOWN</a>";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}s:32:"http://purl.org/dc/elements/1.1/";a:1:{s:7:"creator";a:1:{i:0;a:5:{s:4:"data";s:10:"Open Query";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}}}}}}}}}}}}}}s:4:"type";i:128;s:7:"headers";a:7:{s:4:"date";s:29:"Sun, 02 Oct 2011 03:41:39 GMT";s:6:"server";s:6:"Apache";s:13:"last-modified";s:29:"Sun, 02 Oct 2011 03:38:12 GMT";s:13:"accept-ranges";s:5:"bytes";s:14:"content-length";s:6:"370283";s:10:"connection";s:5:"close";s:12:"content-type";s:8:"text/xml";}s:5:"build";s:14:"20090627192103";}